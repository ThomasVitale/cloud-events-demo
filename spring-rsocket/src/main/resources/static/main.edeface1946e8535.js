(self.webpackChunkangular_rsocket=self.webpackChunkangular_rsocket||[]).push([[179],{444:(Be,f,T)=>{"use strict";function N(e){return"function"==typeof e}function m(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const k=m(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function w(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Z{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(N(r))try{r()}catch(o){n=o instanceof k?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{F(o)}catch(s){n=null!=n?n:[],s instanceof k?n=[...n,...s.errors]:n.push(s)}}if(n)throw new k(n)}}add(n){var t;if(n&&n!==this)if(this.closed)F(n);else{if(n instanceof Z){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&w(t,n)}remove(n){const{_finalizers:t}=this;t&&w(t,n),n instanceof Z&&n._removeParent(this)}}Z.EMPTY=(()=>{const e=new Z;return e.closed=!0,e})();const I=Z.EMPTY;function b(e){return e instanceof Z||e&&"closed"in e&&N(e.remove)&&N(e.add)&&N(e.unsubscribe)}function F(e){N(e)?e():e.unsubscribe()}const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$={setTimeout(e,n,...t){const{delegate:r}=$;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=$;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Y(e){$.setTimeout(()=>{const{onUnhandledError:n}=R;if(!n)throw e;n(e)})}function M(){}const C=B("C",void 0,void 0);function B(e,n,t){return{kind:e,value:n,error:t}}let x=null;function W(e){if(R.useDeprecatedSynchronousErrorHandling){const n=!x;if(n&&(x={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=x;if(x=null,t)throw r}}else e()}class ae extends Z{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,b(n)&&n.add(this)):this.destination=ye}static create(n,t,r){return new z(n,t,r)}next(n){this.isStopped?ce(function E(e){return B("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ce(function O(e){return B("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ce(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const P=Function.prototype.bind;function S(e,n){return P.call(e,n)}class G{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){X(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){X(r)}else X(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){X(t)}}}class z extends ae{constructor(n,t,r){let i;if(super(),N(n)||!n)i={next:null!=n?n:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let o;this&&R.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&S(n.next,o),error:n.error&&S(n.error,o),complete:n.complete&&S(n.complete,o)}):i=n}this.destination=new G(i)}}function X(e){R.useDeprecatedSynchronousErrorHandling?function ee(e){R.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=e)}(e):Y(e)}function ce(e,n){const{onStoppedNotification:t}=R;t&&$.setTimeout(()=>t(e,n))}const ye={closed:!0,next:M,error:function te(e){throw e},complete:M},xe="function"==typeof Symbol&&Symbol.observable||"@@observable";function it(e){return e}let Qe=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Rn(e){return e&&e instanceof ae||function Or(e){return e&&N(e.next)&&N(e.error)&&N(e.complete)}(e)&&b(e)}(t)?t:new z(t,r,i);return W(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ln(r))((i,o)=>{const s=new z({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[xe](){return this}pipe(...t){return function pt(e){return 0===e.length?it:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Ln(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function Ln(e){var n;return null!==(n=null!=e?e:R.Promise)&&void 0!==n?n:Promise}const ie=m(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fe=(()=>{class e extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new tt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ie}next(t){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?I:(this.currentObservers=null,o.push(t),new Z(()=>{this.currentObservers=null,w(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Qe;return t.source=this,t}}return e.create=(n,t)=>new tt(n,t),e})();class tt extends fe{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:I}}function gt(e){return N(null==e?void 0:e.lift)}function $e(e){return n=>{if(gt(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(e,n,t,r,i){return new Jr(e,n,t,r,i)}class Jr extends ae{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Oe(e,n){return $e((t,r)=>{let i=0;t.subscribe(rt(r,o=>{r.next(e.call(n,o,i++))}))})}function Se(e){return this instanceof Se?(this.v=e,this):new Se(e)}function _t(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(_){return new Promise(function(A,L){o.push([g,_,A,L])>1||a(g,_)})})}function a(g,_){try{!function l(g){g.value instanceof Se?Promise.resolve(g.value.v).then(u,c):p(o[0][2],g)}(r[g](_))}catch(A){p(o[0][3],A)}}function u(g){a("next",g)}function c(g){a("throw",g)}function p(g,_){g(_),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Vn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function H(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}const ve=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ce(e){return N(null==e?void 0:e.then)}function Bt(e){return N(e[xe])}function Xr(e){return Symbol.asyncIterator&&N(null==e?void 0:e[Symbol.asyncIterator])}function $i(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const nl=function vo(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ss(e){return N(null==e?void 0:e[nl])}function rl(e){return _t(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Se(t.read());if(i)return yield Se(void 0);yield yield Se(r)}}finally{t.releaseLock()}})}function Ts(e){return N(null==e?void 0:e.getReader)}function Pt(e){if(e instanceof Qe)return e;if(null!=e){if(Bt(e))return function K1(e){return new Qe(n=>{const t=e[xe]();if(N(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ve(e))return function Q1(e){return new Qe(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Ce(e))return function Z1(e){return new Qe(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Y)})}(e);if(Xr(e))return Qp(e);if(Ss(e))return function J1(e){return new Qe(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Ts(e))return function X1(e){return Qp(rl(e))}(e)}throw $i(e)}function Qp(e){return new Qe(n=>{(function eC(e,n){var t,r,i,o;return function y(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(p){s(p)}}function l(c){try{u(r.throw(c))}catch(p){s(p)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Vn(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function ei(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function zt(e,n,t=1/0){return N(n)?zt((r,i)=>Oe((o,s)=>n(r,o,i,s))(Pt(e(r,i))),t):("number"==typeof n&&(t=n),$e((r,i)=>function tC(e,n,t,r,i,o,s,a){const l=[];let u=0,c=0,p=!1;const g=()=>{p&&!l.length&&!u&&n.complete()},_=L=>u<r?A(L):l.push(L),A=L=>{o&&n.next(L),u++;let q=!1;Pt(t(L,c++)).subscribe(rt(n,Q=>{null==i||i(Q),o?_(Q):n.next(Q)},()=>{q=!0},void 0,()=>{if(q)try{for(u--;l.length&&u<r;){const Q=l.shift();s?ei(n,s,()=>A(Q)):A(Q)}g()}catch(Q){n.error(Q)}}))};return e.subscribe(rt(n,_,()=>{p=!0,g()})),()=>{null==a||a()}}(r,i,e,t)))}function Ms(e=1/0){return zt(it,e)}const cr=new Qe(e=>e.complete());function Zp(e){return e&&N(e.schedule)}function vc(e){return e[e.length-1]}function il(e){return N(vc(e))?e.pop():void 0}function As(e){return Zp(vc(e))?e.pop():void 0}function Jp(e,n=0){return $e((t,r)=>{t.subscribe(rt(r,i=>ei(r,e,()=>r.next(i),n),()=>ei(r,e,()=>r.complete(),n),i=>ei(r,e,()=>r.error(i),n)))})}function Xp(e,n=0){return $e((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function eg(e,n){if(!e)throw new Error("Iterable cannot be null");return new Qe(t=>{ei(t,n,()=>{const r=e[Symbol.asyncIterator]();ei(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function rn(e,n){return n?function uC(e,n){if(null!=e){if(Bt(e))return function iC(e,n){return Pt(e).pipe(Xp(n),Jp(n))}(e,n);if(ve(e))return function sC(e,n){return new Qe(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Ce(e))return function oC(e,n){return Pt(e).pipe(Xp(n),Jp(n))}(e,n);if(Xr(e))return eg(e,n);if(Ss(e))return function aC(e,n){return new Qe(t=>{let r;return ei(t,n,()=>{r=e[nl](),ei(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>N(null==r?void 0:r.return)&&r.return()})}(e,n);if(Ts(e))return function lC(e,n){return eg(rl(e),n)}(e,n)}throw $i(e)}(e,n):Pt(e)}function an(e){return e<=0?()=>cr:$e((n,t)=>{let r=0;n.subscribe(rt(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function bc(e,n,...t){return!0===n?(e(),null):!1===n?null:n(...t).pipe(an(1)).subscribe(()=>e())}function mt(e){for(let n in e)if(e[n]===mt)return n;throw Error("Could not find renamed property on target object.")}function lt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(lt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Dc(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const fC=mt({__forward_ref__:mt});function nt(e){return e.__forward_ref__=nt,e.toString=function(){return lt(this())},e}function Fe(e){return function tg(e){return"function"==typeof e&&e.hasOwnProperty(fC)&&e.__forward_ref__===nt}(e)?e():e}class Je extends Error{constructor(n,t){super(function Cc(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Ie(e){return"string"==typeof e?e:null==e?"":String(e)}function bn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ie(e)}function ol(e,n){const t=n?` in ${n}`:"";throw new Je(-201,`No provider for ${bn(e)} found${t}`)}function Un(e,n){null==e&&function St(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function Ae(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ut(e){return{providers:e.providers||[],imports:e.imports||[]}}function wc(e){return ng(e,sl)||ng(e,ig)}function ng(e,n){return e.hasOwnProperty(n)?e[n]:null}function rg(e){return e&&(e.hasOwnProperty(Sc)||e.hasOwnProperty(vC))?e[Sc]:null}const sl=mt({\u0275prov:mt}),Sc=mt({\u0275inj:mt}),ig=mt({ngInjectableDef:mt}),vC=mt({ngInjectorDef:mt});var Ne=(()=>((Ne=Ne||{})[Ne.Default=0]="Default",Ne[Ne.Host=1]="Host",Ne[Ne.Self=2]="Self",Ne[Ne.SkipSelf=4]="SkipSelf",Ne[Ne.Optional=8]="Optional",Ne))();let Tc;function Ei(e){const n=Tc;return Tc=e,n}function og(e,n,t){const r=wc(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ne.Optional?null:void 0!==n?n:void ol(lt(e),"Injector")}function Di(e){return{toString:e}.toString()}var dr=(()=>((dr=dr||{})[dr.OnPush=0]="OnPush",dr[dr.Default=1]="Default",dr))(),xr=(()=>{return(e=xr||(xr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",xr;var e})();const EC="undefined"!=typeof globalThis&&globalThis,DC="undefined"!=typeof window&&window,CC="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ft=EC||"undefined"!=typeof global&&global||DC||CC,bo={},yt=[],al=mt({\u0275cmp:mt}),Mc=mt({\u0275dir:mt}),Ac=mt({\u0275pipe:mt}),sg=mt({\u0275mod:mt}),ni=mt({\u0275fac:mt}),Ns=mt({__NG_ELEMENT_ID__:mt});let wC=0;function Pn(e){return Di(()=>{const t={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===dr.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||yt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||xr.Emulated,id:"c",styles:e.styles||yt,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,o=e.features,s=e.pipes;return r.id+=wC++,r.inputs=cg(e.inputs,t),r.outputs=cg(e.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(ag):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(lg):null,r})}function ag(e){return pn(e)||function Ci(e){return e[Mc]||null}(e)}function lg(e){return function zi(e){return e[Ac]||null}(e)}const ug={};function ht(e){return Di(()=>{const n={type:e.type,bootstrap:e.bootstrap||yt,declarations:e.declarations||yt,imports:e.imports||yt,exports:e.exports||yt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ug[e.id]=e.type),n})}function cg(e,n){if(null==e)return bo;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}const de=Pn;function pn(e){return e[al]||null}function Jn(e,n){const t=e[sg]||null;if(!t&&!0===n)throw new Error(`Type ${lt(e)} does not have '\u0275mod' property.`);return t}function Fr(e){return Array.isArray(e)&&"object"==typeof e[1]}function hr(e){return Array.isArray(e)&&!0===e[1]}function Ic(e){return 0!=(8&e.flags)}function dl(e){return 2==(2&e.flags)}function fl(e){return 1==(1&e.flags)}function pr(e){return null!==e.template}function OC(e){return 0!=(512&e[2])}function Ki(e,n){return e.hasOwnProperty(ni)?e[ni]:null}class PC{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function En(){return fg}function fg(e){return e.type.prototype.ngOnChanges&&(e.setInput=FC),xC}function xC(){const e=pg(this),n=null==e?void 0:e.current;if(n){const t=e.previous;if(t===bo)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function FC(e,n,t,r){const i=pg(e)||function kC(e,n){return e[hg]=n}(e,{previous:bo,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],l=s[a];o[a]=new PC(l&&l.currentValue,n,s===bo),e[r]=n}En.ngInherit=!0;const hg="__ngSimpleChanges__";function pg(e){return e[hg]||null}let kc;function xt(e){return!!e.listen}const gg={createRenderer:(e,n)=>function Lc(){return void 0!==kc?kc:"undefined"!=typeof document?document:void 0}()};function Wt(e){for(;Array.isArray(e);)e=e[0];return e}function hl(e,n){return Wt(n[e])}function tr(e,n){return Wt(n[e.index])}function Vc(e,n){return e.data[n]}function jn(e,n){const t=n[e];return Fr(t)?t:t[0]}function _g(e){return 4==(4&e[2])}function Bc(e){return 128==(128&e[2])}function wi(e,n){return null==n?null:e[n]}function mg(e){e[18]=0}function Uc(e,n){e[5]+=n;let t=e,r=e[3];for(;null!==r&&(1===n&&1===t[5]||-1===n&&0===t[5]);)r[5]+=n,t=r,r=r[3]}const Te={lFrame:Sg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function yg(){return Te.bindingsEnabled}function ne(){return Te.lFrame.lView}function Xe(){return Te.lFrame.tView}function Qt(){let e=vg();for(;null!==e&&64===e.type;)e=e.parent;return e}function vg(){return Te.lFrame.currentTNode}function Lr(e,n){const t=Te.lFrame;t.currentTNode=e,t.isParent=n}function Hc(){return Te.lFrame.isParent}function jc(){Te.lFrame.isParent=!1}function pl(){return Te.isInCheckNoChangesMode}function gl(e){Te.isInCheckNoChangesMode=e}function To(){return Te.lFrame.bindingIndex++}function ii(e){const n=Te.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function XC(e,n){const t=Te.lFrame;t.bindingIndex=t.bindingRootIndex=e,Gc(n)}function Gc(e){Te.lFrame.currentDirectiveIndex=e}function Dg(){return Te.lFrame.currentQueryIndex}function zc(e){Te.lFrame.currentQueryIndex=e}function tw(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[6]:null}function Cg(e,n,t){if(t&Ne.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&Ne.Host||(i=tw(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;n=i,e=o}const r=Te.lFrame=wg();return r.currentTNode=n,r.lView=e,!0}function _l(e){const n=wg(),t=e[1];Te.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function wg(){const e=Te.lFrame,n=null===e?null:e.child;return null===n?Sg(e):n}function Sg(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Tg(){const e=Te.lFrame;return Te.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Mg=Tg;function ml(){const e=Tg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Cn(){return Te.lFrame.selectedIndex}function Si(e){Te.lFrame.selectedIndex=e}function Ft(){const e=Te.lFrame;return Vc(e.tView,e.selectedIndex)}function yl(){Te.lFrame.currentNamespace="svg"}function Wc(){!function ow(){Te.lFrame.currentNamespace=null}()}function vl(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-t,s),a&&((e.contentHooks||(e.contentHooks=[])).push(t,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(t,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-t,l),u&&((e.viewHooks||(e.viewHooks=[])).push(t,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(t,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(t,c)}}function bl(e,n,t){Ag(e,n,3,t)}function El(e,n,t,r){(3&e[2])===t&&Ag(e,n,t,r)}function qc(e,n){let t=e[2];(3&t)===n&&(t&=2047,t+=1,e[2]=t)}function Ag(e,n,t,r){const o=null!=r?r:-1,s=n.length-1;let a=0;for(let l=void 0!==r?65535&e[18]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[18]+=65536),(a<o||-1==o)&&(lw(e,t,n,l),e[18]=(4294901760&e[18])+l+2),l++}function lw(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===n){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class xs{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Dl(e,n,t){const r=xt(e);let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const s=t[i++],a=t[i++],l=t[i++];r?e.setAttribute(n,a,l,s):n.setAttributeNS(s,a,l)}else{const s=o,a=t[++i];Kc(s)?r&&e.setProperty(n,s,a):r?e.setAttribute(n,s,a):n.setAttribute(s,a),i++}}return i}function Ng(e){return 3===e||4===e||6===e}function Kc(e){return 64===e.charCodeAt(0)}function Cl(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Og(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function Og(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Ig(e){return-1!==e}function Mo(e){return 32767&e}function Ao(e,n){let t=function hw(e){return e>>16}(e),r=n;for(;t>0;)r=r[15],t--;return r}let Qc=!0;function wl(e){const n=Qc;return Qc=e,n}let pw=0;function ks(e,n){const t=Jc(e,n);if(-1!==t)return t;const r=n[1];r.firstCreatePass&&(e.injectorIndex=n.length,Zc(r.data,e),Zc(n,null),Zc(r.blueprint,null));const i=Sl(e,n),o=e.injectorIndex;if(Ig(i)){const s=Mo(i),a=Ao(i,n),l=a[1].data;for(let u=0;u<8;u++)n[o+u]=a[s+u]|l[s+u]}return n[o+8]=i,o}function Zc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Jc(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Sl(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Tl(e,n,t){!function gw(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ns)&&(r=t[Ns]),null==r&&(r=t[Ns]=pw++);const i=255&r;n.data[e+(i>>5)]|=1<<i}(e,n,t)}function xg(e,n,t){if(t&Ne.Optional)return e;ol(n,"NodeInjector")}function Fg(e,n,t,r){if(t&Ne.Optional&&void 0===r&&(r=null),0==(t&(Ne.Self|Ne.Host))){const i=e[9],o=Ei(void 0);try{return i?i.get(n,r,t&Ne.Optional):og(n,r,t&Ne.Optional)}finally{Ei(o)}}return xg(r,n,t)}function kg(e,n,t,r=Ne.Default,i){if(null!==e){const o=function vw(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ns)?e[Ns]:void 0;return"number"==typeof n?n>=0?255&n:mw:n}(t);if("function"==typeof o){if(!Cg(n,e,r))return r&Ne.Host?xg(i,t,r):Fg(n,t,r,i);try{const s=o(r);if(null!=s||r&Ne.Optional)return s;ol(t)}finally{Mg()}}else if("number"==typeof o){let s=null,a=Jc(e,n),l=-1,u=r&Ne.Host?n[16][6]:null;for((-1===a||r&Ne.SkipSelf)&&(l=-1===a?Sl(e,n):n[a+8],-1!==l&&Bg(r,!1)?(s=n[1],a=Mo(l),n=Ao(l,n)):a=-1);-1!==a;){const c=n[1];if(Vg(o,a,c.data)){const p=yw(a,n,t,s,r,u);if(p!==Lg)return p}l=n[a+8],-1!==l&&Bg(r,n[1].data[a+8]===u)&&Vg(o,a,n)?(s=c,a=Mo(l),n=Ao(l,n)):a=-1}}}return Fg(n,t,r,i)}const Lg={};function mw(){return new No(Qt(),ne())}function yw(e,n,t,r,i,o){const s=n[1],a=s.data[e+8],c=Ml(a,s,t,null==r?dl(a)&&Qc:r!=s&&0!=(3&a.type),i&Ne.Host&&o===a);return null!==c?Ls(n,s,c,a):Lg}function Ml(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,l=e.directiveStart,c=o>>20,g=i?a+c:e.directiveEnd;for(let _=r?a:a+c;_<g;_++){const A=s[_];if(_<l&&t===A||_>=l&&A.type===t)return _}if(i){const _=s[l];if(_&&pr(_)&&_.type===t)return l}return null}function Ls(e,n,t,r){let i=e[t];const o=n.data;if(function uw(e){return e instanceof xs}(i)){const s=i;s.resolving&&function hC(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Je(-200,`Circular dependency in DI detected for ${e}${t}`)}(bn(o[t]));const a=wl(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Ei(s.injectImpl):null;Cg(e,r,Ne.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function aw(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=fg(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(e,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-e,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,o))}(t,o[t],n)}finally{null!==l&&Ei(l),wl(a),s.resolving=!1,Mg()}}return i}function Vg(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function Bg(e,n){return!(e&Ne.Self||e&Ne.Host&&n)}class No{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return kg(this._tNode,this._lView,n,r,t)}}const Io="__parameters__";function Po(e,n,t){return Di(()=>{const r=function ed(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const p=l.hasOwnProperty(Io)?l[Io]:Object.defineProperty(l,Io,{value:[]})[Io];for(;p.length<=c;)p.push(null);return(p[c]=p[c]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class je{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ae({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ew=new je("AnalyzeForEntryComponents");function nr(e,n){void 0===n&&(n=e);for(let t=0;t<e.length;t++){let r=e[t];Array.isArray(r)?(n===e&&(n=e.slice(0,t)),nr(r,n)):n!==e&&n.push(r)}return n}function Vr(e,n){e.forEach(t=>Array.isArray(t)?Vr(t,n):n(t))}function Hg(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Al(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Us(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function Gn(e,n,t){let r=xo(e,n);return r>=0?e[1|r]=t:(r=~r,function ww(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function nd(e,n){const t=xo(e,n);if(t>=0)return e[1|t]}function xo(e,n){return function $g(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const Hs={},id="__NG_DI_FLAG__",Ol="ngTempTokenPath",Iw=/\n/gm,Wg="__source",Pw=mt({provide:String,useValue:mt});let js;function qg(e){const n=js;return js=e,n}function xw(e,n=Ne.Default){if(void 0===js)throw new Je(203,"");return null===js?og(e,void 0,n):js.get(e,n&Ne.Optional?null:void 0,n)}function me(e,n=Ne.Default){return(function bC(){return Tc}()||xw)(Fe(e),n)}const Fw=me;function od(e){const n=[];for(let t=0;t<e.length;t++){const r=Fe(e[t]);if(Array.isArray(r)){if(0===r.length)throw new Je(900,"");let i,o=Ne.Default;for(let s=0;s<r.length;s++){const a=r[s],l=kw(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}n.push(me(i,o))}else n.push(me(r))}return n}function Gs(e,n){return e[id]=n,e.prototype[id]=n,e}function kw(e){return e[id]}const Il=Gs(Po("Inject",e=>({token:e})),-1),Mi=Gs(Po("Optional"),8),$s=Gs(Po("SkipSelf"),4);class n_{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ai(e){return e instanceof n_?e.changingThisBreaksApplicationSecurity:e}const iS=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,oS=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var qt=(()=>((qt=qt||{})[qt.NONE=0]="NONE",qt[qt.HTML=1]="HTML",qt[qt.STYLE=2]="STYLE",qt[qt.SCRIPT=3]="SCRIPT",qt[qt.URL=4]="URL",qt[qt.RESOURCE_URL=5]="RESOURCE_URL",qt))();function hd(e){const n=function Ys(){const e=ne();return e&&e[12]}();return n?n.sanitize(qt.URL,e)||"":function Ws(e,n){const t=function eS(e){return e instanceof n_&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===n}(e,"URL")?Ai(e):function Fl(e){return(e=String(e)).match(iS)||e.match(oS)?e:"unsafe:"+e}(Ie(e))}const f_="__ngContext__";function mn(e,n){e[f_]=n}function gd(e){const n=function Ks(e){return e[f_]||null}(e);return n?Array.isArray(n)?n:n.lView:null}function md(e){return e.ngOriginalError}function AS(e,...n){e.error(...n)}class Qs{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n),r=function MS(e){return e&&e.ngErrorLogger||AS}(n);r(this._console,"ERROR",n),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&md(n);for(;t&&md(t);)t=md(t);return t||null}}const VS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ft))();function Ur(e){return e instanceof Function?e():e}var $n=(()=>(($n=$n||{})[$n.Important=1]="Important",$n[$n.DashCase=2]="DashCase",$n))();function vd(e,n){return undefined(e,n)}function Zs(e){const n=e[3];return hr(n)?n[3]:n}function bd(e){return E_(e[13])}function Ed(e){return E_(e[4])}function E_(e){for(;null!==e&&!hr(e);)e=e[4];return e}function Vo(e,n,t,r,i){if(null!=r){let o,s=!1;hr(r)?o=r:Fr(r)&&(s=!0,r=r[0]);const a=Wt(r);0===e&&null!==t?null==i?M_(n,t,a):Zi(n,t,a,i||null,!0):1===e&&null!==t?Zi(n,t,a,i||null,!0):2===e?function x_(e,n,t){const r=Ll(e,n);r&&function JS(e,n,t,r){xt(e)?e.removeChild(n,t,r):n.removeChild(t)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function tT(e,n,t,r,i){const o=t[7];o!==Wt(t)&&Vo(n,e,r,o,i);for(let a=10;a<t.length;a++){const l=t[a];Js(l[1],l,e,n,r,o)}}(n,e,o,t,i)}}function Cd(e,n,t){if(xt(e))return e.createElement(n,t);{const r=null!==t?function UC(e){const n=e.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?e.createElement(n):e.createElementNS(r,n)}}function C_(e,n){const t=e[9],r=t.indexOf(n),i=n[3];1024&n[2]&&(n[2]&=-1025,Uc(i,-1)),t.splice(r,1)}function wd(e,n){if(e.length<=10)return;const t=10+n,r=e[t];if(r){const i=r[17];null!==i&&i!==e&&C_(i,r),n>0&&(e[t-1][4]=r[4]);const o=Al(e,10+n);!function $S(e,n){Js(e,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function w_(e,n){if(!(256&n[2])){const t=n[11];xt(t)&&t.destroyNode&&Js(e,n,t,3,null,null),function qS(e){let n=e[13];if(!n)return Sd(e[1],e);for(;n;){let t=null;if(Fr(n))t=n[13];else{const r=n[10];r&&(t=r)}if(!t){for(;n&&!n[4]&&n!==e;)Fr(n)&&Sd(n[1],n),n=n[3];null===n&&(n=e),Fr(n)&&Sd(n[1],n),t=n&&n[4]}n=t}}(n)}}function Sd(e,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function ZS(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof xs)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,n),function QS(e,n){const t=e.cleanup,r=n[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(n):Wt(n[s]),l=r[i=t[o+2]],u=t[o+3];"boolean"==typeof u?a.removeEventListener(t[o],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();n[7]=null}}(e,n),1===n[1].type&&xt(n[11])&&n[11].destroy();const t=n[17];if(null!==t&&hr(n[3])){t!==n[3]&&C_(t,n);const r=n[19];null!==r&&r.detachView(e)}}}function S_(e,n,t){return function T_(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===xr.None||i===xr.Emulated)return null}return tr(r,t)}(e,n.parent,t)}function Zi(e,n,t,r,i){xt(e)?e.insertBefore(n,t,r,i):n.insertBefore(t,r,i)}function M_(e,n,t){xt(e)?e.appendChild(n,t):n.appendChild(t)}function A_(e,n,t,r,i){null!==r?Zi(e,n,t,r,i):M_(e,n,t)}function Ll(e,n){return xt(e)?e.parentNode(n):n.parentNode}function N_(e,n,t){return I_(e,n,t)}let I_=function O_(e,n,t){return 40&e.type?tr(e,t):null};function Vl(e,n,t,r){const i=S_(e,r,n),o=n[11],a=N_(r.parent||n[6],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)A_(o,i,t[l],a,!1);else A_(o,i,t,a,!1)}function Bl(e,n){if(null!==n){const t=n.type;if(3&t)return tr(n,e);if(4&t)return Md(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Bl(e,r);{const i=e[n.index];return hr(i)?Md(-1,i):Wt(i)}}if(32&t)return vd(n,e)()||Wt(e[n.index]);{const r=P_(e,n);return null!==r?Array.isArray(r)?r[0]:Bl(Zs(e[16]),r):Bl(e,n.next)}}return null}function P_(e,n){return null!==n?e[16][6].projection[n.projection]:null}function Md(e,n){const t=10+e+1;if(t<n.length){const r=n[t],i=r[1].firstChild;if(null!==i)return Bl(r,i)}return n[7]}function Ad(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===n&&(a&&mn(Wt(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Ad(e,n,t.child,r,i,o,!1),Vo(n,e,i,a,o);else if(32&l){const u=vd(t,r);let c;for(;c=u();)Vo(n,e,i,c,o);Vo(n,e,i,a,o)}else 16&l?F_(e,n,r,t,i,o):Vo(n,e,i,a,o);t=s?t.projectionNext:t.next}}function Js(e,n,t,r,i,o){Ad(t,r,e.firstChild,n,i,o,!1)}function F_(e,n,t,r,i,o){const s=t[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Vo(n,e,i,l[u],o);else Ad(e,n,l,s[3],i,o,!0)}function k_(e,n,t){xt(e)?e.setAttribute(n,"style",t):n.style.cssText=t}function Nd(e,n,t){xt(e)?""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t):n.className=t}function L_(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}const V_="ng-template";function rT(e,n,t){let r=0;for(;r<e.length;){let i=e[r++];if(t&&"class"===i){if(i=e[r],-1!==L_(i.toLowerCase(),n,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===n)return!0;return!1}}return!1}function B_(e){return 4===e.type&&e.value!==V_}function iT(e,n,t){return n===(4!==e.type||t?e.value:V_)}function oT(e,n,t){let r=4;const i=e.attrs||[],o=function lT(e){for(let n=0;n<e.length;n++)if(Ng(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!iT(e,l,t)||""===l&&1===n.length){if(gr(r))return!1;s=!0}}else{const u=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!rT(e.attrs,u,t)){if(gr(r))return!1;s=!0}continue}const p=sT(8&r?"class":l,i,B_(e),t);if(-1===p){if(gr(r))return!1;s=!0;continue}if(""!==u){let g;g=p>o?"":i[p+1].toLowerCase();const _=8&r?g:null;if(_&&-1!==L_(_,u,0)||2&r&&u!==g){if(gr(r))return!1;s=!0}}}}else{if(!s&&!gr(r)&&!gr(l))return!1;if(s&&gr(l))continue;s=!1,r=l|1&r}}return gr(r)||s}function gr(e){return 0==(1&e)}function sT(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function uT(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function U_(e,n,t=!1){for(let r=0;r<n.length;r++)if(oT(e,n[r],t))return!0;return!1}function cT(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function H_(e,n){return e?":not("+n.trim()+")":n}function dT(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!gr(s)&&(n+=H_(o,i),i=""),r=s,o=o||!gr(r);t++}return""!==i&&(n+=H_(o,i)),n}const Re={};function ze(e){j_(Xe(),ne(),Cn()+e,pl())}function j_(e,n,t,r){if(!r)if(3==(3&n[2])){const o=e.preOrderCheckHooks;null!==o&&bl(n,o,t)}else{const o=e.preOrderHooks;null!==o&&El(n,o,0,t)}Si(t)}function Ul(e,n){return e<<17|n<<2}function _r(e){return e>>17&32767}function Od(e){return 2|e}function oi(e){return(131068&e)>>2}function Id(e,n){return-131069&e|n<<2}function Rd(e){return 1|e}function X_(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=e.data[o];zc(i),s.contentQueries(2,n[o],o)}}}function Xs(e,n,t,r,i,o,s,a,l,u){const c=n.blueprint.slice();return c[0]=i,c[2]=140|r,mg(c),c[3]=c[15]=e,c[8]=t,c[10]=s||e&&e[10],c[11]=a||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=o,c[16]=2==n.type?e[16]:c,c}function Bo(e,n,t,r,i){let o=e.data[n];if(null===o)o=function Hd(e,n,t,r,i){const o=vg(),s=Hc(),l=e.data[n]=function NT(e,n,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(e,n,t,r,i),function JC(){return Te.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Ps(){const e=Te.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Lr(o,!0),o}function Uo(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function ea(e,n,t){_l(n);try{const r=e.viewQuery;null!==r&&Qd(1,r,t);const i=e.template;null!==i&&em(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&X_(e,n),e.staticViewQueries&&Qd(2,e.viewQuery,t);const o=e.components;null!==o&&function TT(e,n){for(let t=0;t<n.length;t++)qT(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[2]&=-5,ml()}}function Ho(e,n,t,r){const i=n[2];if(256==(256&i))return;_l(n);const o=pl();try{mg(n),function bg(e){return Te.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&em(e,n,t,2,r);const s=3==(3&i);if(!o)if(s){const u=e.preOrderCheckHooks;null!==u&&bl(n,u,null)}else{const u=e.preOrderHooks;null!==u&&El(n,u,0,null),qc(n,0)}if(function zT(e){for(let n=bd(e);null!==n;n=Ed(n)){if(!n[2])continue;const t=n[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(1024&i[2])&&Uc(o,1),i[2]|=1024}}}(n),function $T(e){for(let n=bd(e);null!==n;n=Ed(n))for(let t=10;t<n.length;t++){const r=n[t],i=r[1];Bc(r)&&Ho(i,r,i.template,r[8])}}(n),null!==e.contentQueries&&X_(e,n),!o)if(s){const u=e.contentCheckHooks;null!==u&&bl(n,u)}else{const u=e.contentHooks;null!==u&&El(n,u,1),qc(n,1)}!function wT(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Si(~i);else{const o=i,s=t[++r],a=t[++r];XC(s,o),a(2,n[o])}}}finally{Si(-1)}}(e,n);const a=e.components;null!==a&&function ST(e,n){for(let t=0;t<n.length;t++)WT(e,n[t])}(n,a);const l=e.viewQuery;if(null!==l&&Qd(2,l,r),!o)if(s){const u=e.viewCheckHooks;null!==u&&bl(n,u)}else{const u=e.viewHooks;null!==u&&El(n,u,2),qc(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Uc(n[3],-1))}finally{ml()}}function MT(e,n,t,r){const i=n[10],o=!pl(),s=_g(n);try{o&&!s&&i.begin&&i.begin(),s&&ea(e,n,r),Ho(e,n,t,r)}finally{o&&!s&&i.end&&i.end()}}function em(e,n,t,r,i){const o=Cn(),s=2&r;try{Si(-1),s&&n.length>20&&j_(e,n,20,pl()),t(r,i)}finally{Si(o)}}function jd(e,n,t){!yg()||(function kT(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;e.firstCreatePass||ks(t,n),mn(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],u=pr(l);u&&HT(n,t,l);const c=Ls(n,e,a,t);mn(c,n),null!==s&&jT(0,a-i,c,l,0,s),u&&(jn(t.index,n)[8]=c)}}(e,n,t,tr(t,n)),128==(128&t.flags)&&function LT(e,n,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,a=function ew(){return Te.lFrame.currentDirectiveIndex}();try{Si(s);for(let l=r;l<i;l++){const u=e.data[l],c=n[l];Gc(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&um(u,c)}}finally{Si(-1),Gc(a)}}(e,n,t))}function Gd(e,n,t=tr){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function nm(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Gl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function Gl(e,n,t,r,i,o,s,a,l,u){const c=20+r,p=c+i,g=function AT(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:Re);return t}(c,p),_="function"==typeof u?u():u;return g[1]={type:e,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1}}function om(e,n,t,r){const i=gm(n);null===t?i.push(r):(i.push(t),e.firstCreatePass&&_m(e).push(r,i.length-1))}function sm(e,n,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(n,i):t[r]=[n,i]}return t}function $d(e,n,t,r){let i=!1;if(yg()){const o=function VT(e,n,t){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];U_(t,s.selectors,!1)&&(i||(i=[]),Tl(ks(t,n),e,s.type),pr(s)?(cm(e,t),i.unshift(s)):i.push(s))}return i}(e,n,t),s=null===r?null:{"":-1};if(null!==o){i=!0,dm(t,e.data.length,o.length);for(let c=0;c<o.length;c++){const p=o[c];p.providersResolver&&p.providersResolver(p)}let a=!1,l=!1,u=Uo(e,n,o.length,null);for(let c=0;c<o.length;c++){const p=o[c];t.mergedAttrs=Cl(t.mergedAttrs,p.hostAttrs),fm(e,t,n,u,p),UT(u,p,s),null!==p.contentQueries&&(t.flags|=8),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=128);const g=p.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t.index),a=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t.index),l=!0),u++}!function OT(e,n){const r=n.directiveEnd,i=e.data,o=n.attrs,s=[];let a=null,l=null;for(let u=n.directiveStart;u<r;u++){const c=i[u],p=c.inputs,g=null===o||B_(n)?null:GT(p,o);s.push(g),a=sm(p,u,a),l=sm(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=l}(e,t)}s&&function BT(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new Je(-301,!1);r.push(n[i],o)}}}(t,r,s)}return t.mergedAttrs=Cl(t.mergedAttrs,t.attrs),i}function lm(e,n,t,r,i,o){const s=o.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~n.index;(function FT(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function um(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function cm(e,n){n.flags|=2,(e.components||(e.components=[])).push(n.index)}function UT(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;pr(n)&&(t[""]=e)}}function dm(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function fm(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=Ki(i.type)),s=new xs(o,pr(i),null);e.blueprint[r]=s,t[r]=s,lm(e,n,0,r,Uo(e,t,i.hostVars,Re),i)}function HT(e,n,t){const r=tr(n,e),i=nm(t),o=e[10],s=$l(e,Xs(e,i,null,t.onPush?64:16,r,n,o,o.createRenderer(r,t),null,null));e[n.index]=s}function Hr(e,n,t,r,i,o){const s=tr(e,n);!function zd(e,n,t,r,i,o,s){if(null==o)xt(e)?e.removeAttribute(n,i,t):n.removeAttribute(i);else{const a=null==s?Ie(o):s(o,r||"",i);xt(e)?e.setAttribute(n,i,a,t):t?n.setAttributeNS(t,i,a):n.setAttribute(i,a)}}(n[11],s,o,e.value,t,r,i)}function jT(e,n,t,r,i,o){const s=o[n];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const u=s[l++],c=s[l++],p=s[l++];null!==a?r.setInput(t,p,u,c):t[c]=p}}}function GT(e,n){let t=null,r=0;for(;r<n.length;){const i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,e[i],n[r+1])),r+=2}else r+=2;else r+=4}return t}function hm(e,n,t,r){return new Array(e,!0,!1,n,null,0,r,t,null,null)}function WT(e,n){const t=jn(n,e);if(Bc(t)){const r=t[1];80&t[2]?Ho(r,t,r.template,t[8]):t[5]>0&&Wd(t)}}function Wd(e){for(let r=bd(e);null!==r;r=Ed(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];Ho(s,o,s.template,o[8])}else o[5]>0&&Wd(o)}const t=e[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=jn(t[r],e);Bc(i)&&i[5]>0&&Wd(i)}}function qT(e,n){const t=jn(n,e),r=t[1];(function YT(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(r,t),ea(r,t,t[8])}function $l(e,n){return e[13]?e[14][4]=n:e[13]=n,e[14]=n,n}function qd(e){for(;e;){e[2]|=64;const n=Zs(e);if(OC(e)&&!n)return e;e=n}return null}function Kd(e,n,t){const r=n[10];r.begin&&r.begin();try{Ho(e,n,e.template,t)}catch(i){throw ym(n,i),i}finally{r.end&&r.end()}}function pm(e){!function Yd(e){for(let n=0;n<e.components.length;n++){const t=e.components[n],r=gd(t),i=r[1];MT(i,r,i.template,t)}}(e[8])}function Qd(e,n,t){zc(0),n(e,t)}const JT=(()=>Promise.resolve(null))();function gm(e){return e[7]||(e[7]=[])}function _m(e){return e.cleanup||(e.cleanup=[])}function ym(e,n){const t=e[9],r=t?t.get(Qs,null):null;r&&r.handleError(n)}function vm(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=n[s],u=e.data[s];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function si(e,n,t){const r=hl(n,e);!function D_(e,n,t){xt(e)?e.setValue(n,t):n.textContent=t}(e[11],r,t)}function zl(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=Dc(i,a):2==o&&(r=Dc(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}const Zd=new je("INJECTOR",-1);class bm{get(n,t=Hs){if(t===Hs){const r=new Error(`NullInjectorError: No provider for ${lt(n)}!`);throw r.name="NullInjectorError",r}return t}}const Jd=new je("Set Injector scope."),ta={},tM={};let Xd;function Em(){return void 0===Xd&&(Xd=new bm),Xd}function Dm(e,n=null,t=null,r){const i=Cm(e,n,t,r);return i._resolveInjectorDefTypes(),i}function Cm(e,n=null,t=null,r){return new nM(e,t,n||Em(),r)}class nM{constructor(n,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&Vr(t,a=>this.processProvider(a,n,t)),Vr([n],a=>this.processInjectorType(a,[],o)),this.records.set(Zd,jo(void 0,this));const s=this.records.get(Jd);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof n?null:lt(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,t=Hs,r=Ne.Default){this.assertNotDestroyed();const i=qg(this),o=Ei(void 0);try{if(!(r&Ne.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function cM(e){return"function"==typeof e||"object"==typeof e&&e instanceof je}(n)&&wc(n);a=l&&this.injectableDefInScope(l)?jo(ef(n),ta):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Ne.Self?Em():this.parent).get(n,t=r&Ne.Optional&&t===Hs?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Ol]=s[Ol]||[]).unshift(lt(n)),i)throw s;return function Lw(e,n,t,r){const i=e[Ol];throw n[Wg]&&i.unshift(n[Wg]),e.message=function Vw(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=lt(n);if(Array.isArray(n))i=n.map(lt).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):lt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(Iw,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Ol]=null,e}(s,n,"R3InjectorError",this.source)}throw s}finally{Ei(o),qg(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((r,i)=>n.push(lt(i))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processInjectorType(n,t,r){if(!(n=Fe(n)))return!1;let i=rg(n);const o=null==i&&n.ngModule||void 0,s=void 0===o?n:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=rg(o)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(s);try{Vr(i.imports,p=>{this.processInjectorType(p,t,r)&&(void 0===c&&(c=[]),c.push(p))})}finally{}if(void 0!==c)for(let p=0;p<c.length;p++){const{ngModule:g,providers:_}=c[p];Vr(_,A=>this.processProvider(A,g,_||yt))}}this.injectorDefTypes.add(s);const l=Ki(s)||(()=>new s);this.records.set(s,jo(l,ta));const u=i.providers;if(null!=u&&!a){const c=n;Vr(u,p=>this.processProvider(p,c,u))}return void 0!==o&&void 0!==n.providers}processProvider(n,t,r){let i=Go(n=Fe(n))?n:Fe(n&&n.provide);const o=function iM(e,n,t){return Sm(e)?jo(void 0,e.useValue):jo(function wm(e,n,t){let r;if(Go(e)){const i=Fe(e);return Ki(i)||ef(i)}if(Sm(e))r=()=>Fe(e.useValue);else if(function sM(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...od(e.deps||[]));else if(function oM(e){return!(!e||!e.useExisting)}(e))r=()=>me(Fe(e.useExisting));else{const i=Fe(e&&(e.useClass||e.provide));if(!function lM(e){return!!e.deps}(e))return Ki(i)||ef(i);r=()=>new i(...od(e.deps))}return r}(e),ta)}(n);if(Go(n)||!0!==n.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=jo(void 0,ta,!0),s.factory=()=>od(s.multi),this.records.set(i,s)),i=n,s.multi.push(n)}this.records.set(i,o)}hydrate(n,t){return t.value===ta&&(t.value=tM,t.value=t.factory()),"object"==typeof t.value&&t.value&&function uM(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=Fe(n.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function ef(e){const n=wc(e),t=null!==n?n.factory:Ki(e);if(null!==t)return t;if(e instanceof je)throw new Je(204,!1);if(e instanceof Function)return function rM(e){const n=e.length;if(n>0)throw Us(n,"?"),new Je(204,!1);const t=function mC(e){const n=e&&(e[sl]||e[ig]);if(n){const t=function yC(e){if(e.hasOwnProperty("name"))return e.name;const n=(""+e).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),n}return null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new Je(204,!1)}function jo(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Sm(e){return null!==e&&"object"==typeof e&&Pw in e}function Go(e){return"function"==typeof e}let ln=(()=>{class e{static create(t,r){var i;if(Array.isArray(t))return Dm({name:""},r,t,"");{const o=null!==(i=t.name)&&void 0!==i?i:"";return Dm({name:o},t.parent,t.providers,o)}}}return e.THROW_IF_NOT_FOUND=Hs,e.NULL=new bm,e.\u0275prov=Ae({token:e,providedIn:"any",factory:()=>me(Zd)}),e.__NG_ELEMENT_ID__=-1,e})();function yM(e,n){vl(gd(e)[1],Qt())}let Wl=null;function $o(){if(!Wl){const e=ft.Symbol;if(e&&e.iterator)Wl=e.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<n.length;++t){const r=n[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Wl=r)}}}return Wl}function na(e){return!!function sf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&$o()in e)}function yn(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function vt(e,n,t,r){const i=ne();return yn(i,To(),n)&&(Xe(),Hr(Ft(),i,e,n,t,r)),vt}function Ue(e,n,t,r,i,o,s,a){const l=ne(),u=Xe(),c=e+20,p=u.firstCreatePass?function NM(e,n,t,r,i,o,s,a,l){const u=n.consts,c=Bo(n,e,4,s||null,wi(u,a));$d(n,t,c,wi(u,l)),vl(n,c);const p=c.tViews=Gl(2,c,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,c),p.queries=n.queries.embeddedTView(c)),c}(c,u,l,n,t,r,i,o,s):u.data[c];Lr(p,!1);const g=l[11].createComment("");Vl(u,l,g,p),mn(g,l),$l(l,l[c]=hm(g,l,g,p)),fl(p)&&jd(u,l,p),null!=s&&Gd(l,p,a)}function j(e,n=Ne.Default){const t=ne();return null===t?me(e,n):kg(Qt(),t,Fe(e),n)}function df(){throw new Error("invalid")}function Ze(e,n,t){const r=ne();return yn(r,To(),n)&&function zn(e,n,t,r,i,o,s,a){const l=tr(n,t);let c,u=n.inputs;!a&&null!=u&&(c=u[r])?(vm(e,t,c,r,i),dl(n)&&function RT(e,n){const t=jn(n,e);16&t[2]||(t[2]|=64)}(t,n.index)):3&n.type&&(r=function IT(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,xt(o)?o.setProperty(l,r,i):Kc(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}(Xe(),Ft(),r,e,n,r[11],t,!1),Ze}function ff(e,n,t,r,i){const s=i?"class":"style";vm(e,t,n.inputs[s],s,r)}function be(e,n,t,r){const i=ne(),o=Xe(),s=20+e,a=i[11],l=i[s]=Cd(a,n,function sw(){return Te.lFrame.currentNamespace}()),u=o.firstCreatePass?function QM(e,n,t,r,i,o,s){const a=n.consts,u=Bo(n,e,2,i,wi(a,o));return $d(n,t,u,wi(a,s)),null!==u.attrs&&zl(u,u.attrs,!1),null!==u.mergedAttrs&&zl(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(s,o,i,0,n,t,r):o.data[s];Lr(u,!0);const c=u.mergedAttrs;null!==c&&Dl(a,l,c);const p=u.classes;null!==p&&Nd(a,l,p);const g=u.styles;return null!==g&&k_(a,l,g),64!=(64&u.flags)&&Vl(o,i,l,u),0===function WC(){return Te.lFrame.elementDepthCount}()&&mn(l,i),function qC(){Te.lFrame.elementDepthCount++}(),fl(u)&&(jd(o,i,u),function tm(e,n,t){if(Ic(n)){const i=n.directiveEnd;for(let o=n.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}(o,u,i)),null!==r&&Gd(i,u),be}function we(){let e=Qt();Hc()?jc():(e=e.parent,Lr(e,!1));const n=e;!function YC(){Te.lFrame.elementDepthCount--}();const t=Xe();return t.firstCreatePass&&(vl(t,e),Ic(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function dw(e){return 0!=(16&e.flags)}(n)&&ff(t,n,ne(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function fw(e){return 0!=(32&e.flags)}(n)&&ff(t,n,ne(),n.stylesWithoutHost,!1),we}function li(e,n,t,r){return be(e,n,t,r),we(),li}function ia(e){return!!e&&"function"==typeof e.then}const gf=function o0(e){return!!e&&"function"==typeof e.subscribe};function at(e,n,t,r){const i=ne(),o=Xe(),s=Qt();return function a0(e,n,t,r,i,o,s,a){const l=fl(r),c=e.firstCreatePass&&_m(e),p=n[8],g=gm(n);let _=!0;if(3&r.type||a){const q=tr(r,n),Q=a?a(q):q,U=g.length,ue=a?he=>a(Wt(he[r.index])):r.index;if(xt(t)){let he=null;if(!a&&l&&(he=function JM(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==he)(he.__ngLastListenerFn__||he).__ngNextListenerFn__=o,he.__ngLastListenerFn__=o,_=!1;else{o=_f(r,n,p,o,!1);const _e=t.listen(Q,i,o);g.push(o,_e),c&&c.push(i,ue,U,U+1)}}else o=_f(r,n,p,o,!0),Q.addEventListener(i,o,s),g.push(o),c&&c.push(i,ue,U,s)}else o=_f(r,n,p,o,!1);const A=r.outputs;let L;if(_&&null!==A&&(L=A[i])){const q=L.length;if(q)for(let Q=0;Q<q;Q+=2){const Me=n[L[Q]][L[Q+1]].subscribe(o),qe=g.length;g.push(o,Me),c&&c.push(i,r.index,qe,-(qe+1))}}}(o,i,i[11],s,e,n,!!t,r),at}function l0(e,n,t,r){try{return!1!==t(r)}catch(i){return ym(e,i),!1}}function _f(e,n,t,r,i){return function o(s){if(s===Function)return r;const a=2&e.flags?jn(e.index,n):n;0==(32&n[2])&&qd(a);let l=l0(n,0,r,s),u=o.__ngNextListenerFn__;for(;u;)l=l0(n,0,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function ct(e=1){return function nw(e){return(Te.lFrame.contextLView=function rw(e,n){for(;e>0;)n=n[15],e--;return n}(e,Te.lFrame.contextLView))[8]}(e)}function XM(e,n){let t=null;const r=function aT(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(0==(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const o=n[i];if("*"!==o){if(null===r?U_(e,o,!0):cT(r,o))return i}else t=i}return t}function v0(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?_r(o):oi(o),l=!1;for(;0!==a&&(!1===l||s);){const c=e[a+1];nA(e[a],n)&&(l=!0,e[a+1]=r?Rd(c):Od(c)),a=r?_r(c):oi(c)}l&&(e[t+1]=r?Od(o):Rd(o))}function nA(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&xo(e,n)>=0}const Jt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function b0(e){return e.substring(Jt.key,Jt.keyEnd)}function E0(e,n){const t=Jt.textEnd;return t===n?-1:(n=Jt.keyEnd=function sA(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,Jt.key=n,t),ts(e,n,t))}function ts(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function Nt(e,n){return function yr(e,n,t,r){const i=ne(),o=Xe(),s=ii(2);o.firstUpdatePass&&M0(o,e,s,r),n!==Re&&yn(i,s,n)&&N0(o,o.data[Cn()],i,i[11],e,i[s+1]=function _A(e,n){return null==e||("string"==typeof n?e+=n:"object"==typeof e&&(e=lt(Ai(e)))),e}(n,t),r,s)}(e,n,null,!0),Nt}function Xi(e){!function vr(e,n,t,r){const i=Xe(),o=ii(2);i.firstUpdatePass&&M0(i,null,o,r);const s=ne();if(t!==Re&&yn(s,o,t)){const a=i.data[Cn()];if(I0(a,r)&&!T0(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Dc(l,t||"")),ff(i,a,s,t,r)}else!function gA(e,n,t,r,i,o,s,a){i===Re&&(i=yt);let l=0,u=0,c=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;null!==c||null!==p;){const g=l<i.length?i[l+1]:void 0,_=u<o.length?o[u+1]:void 0;let L,A=null;c===p?(l+=2,u+=2,g!==_&&(A=p,L=_)):null===p||null!==c&&c<p?(l+=2,A=c):(u+=2,A=p,L=_),null!==A&&N0(e,n,t,r,A,L,s,a),c=l<i.length?i[l]:null,p=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function pA(e,n,t){if(null==t||""===t)return yt;const r=[],i=Ai(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&n(r,i);return r}(e,n,t),r,o)}}(Gn,zr,e,!0)}function zr(e,n){for(let t=function iA(e){return function C0(e){Jt.key=0,Jt.keyEnd=0,Jt.value=0,Jt.valueEnd=0,Jt.textEnd=e.length}(e),E0(e,ts(e,0,Jt.textEnd))}(n);t>=0;t=E0(n,t))Gn(e,b0(n),!0)}function T0(e,n){return n>=e.expandoStartIndex}function M0(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[Cn()],s=T0(e,t);I0(o,r)&&null===n&&!s&&(n=!1),n=function cA(e,n,t,r){const i=function $c(e){const n=Te.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=oa(t=vf(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=vf(i,e,n,t,r),null===o){let l=function dA(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==oi(r))return e[_r(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=vf(null,e,n,l[1],r),l=oa(l,n.attrs,r),function fA(e,n,t,r){e[_r(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else o=function hA(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=oa(r,e[o].hostAttrs,t);return oa(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function eA(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=_r(s),l=oi(s);e[r]=t;let c,u=!1;if(Array.isArray(t)){const p=t;c=p[1],(null===c||xo(p,c)>0)&&(u=!0)}else c=t;if(i)if(0!==l){const g=_r(e[a+1]);e[r+1]=Ul(g,a),0!==g&&(e[g+1]=Id(e[g+1],r)),e[a+1]=function pT(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=Ul(a,0),0!==a&&(e[a+1]=Id(e[a+1],r)),a=r;else e[r+1]=Ul(l,0),0===a?a=r:e[l+1]=Id(e[l+1],r),l=r;u&&(e[r+1]=Od(e[r+1])),v0(e,c,r,!0),v0(e,c,r,!1),function tA(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&xo(o,n)>=0&&(t[r+1]=Rd(t[r+1]))}(n,c,e,r,o),s=Ul(a,l),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}function vf(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=oa(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function oa(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Gn(e,s,!!t||n[++o]))}return void 0===e?null:e}function N0(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const l=e.data,u=l[a+1];Ql(function z_(e){return 1==(1&e)}(u)?O0(l,n,t,i,oi(u),s):void 0)||(Ql(o)||function $_(e){return 2==(2&e)}(u)&&(o=O0(l,null,t,i,a,s)),function nT(e,n,t,r,i){const o=xt(e);if(n)i?o?e.addClass(t,r):t.classList.add(r):o?e.removeClass(t,r):t.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:$n.DashCase;if(null==i)o?e.removeStyle(t,r,s):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=$n.Important),o?e.setStyle(t,r,i,s):t.style.setProperty(r,i,a?"important":"")}}}(r,s,hl(Cn(),t),i,o))}function O0(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),c=u?l[1]:l,p=null===c;let g=t[i+1];g===Re&&(g=p?yt:void 0);let _=p?nd(g,r):c===r?g:void 0;if(u&&!Ql(_)&&(_=nd(l,r)),Ql(_)&&(a=_,s))return a;const A=e[i+1];i=s?_r(A):oi(A)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=nd(l,r))}return a}function Ql(e){return void 0!==e}function I0(e,n){return 0!=(e.flags&(n?16:32))}function kt(e,n=""){const t=ne(),r=Xe(),i=e+20,o=r.firstCreatePass?Bo(r,i,1,n,null):r.data[i],s=t[i]=function Dd(e,n){return xt(e)?e.createText(n):e.createTextNode(n)}(t[11],n);Vl(r,t,s,o),Lr(o,!1)}function Zl(e){return sa("",e,""),Zl}function sa(e,n,t){const r=ne(),i=function Wo(e,n,t,r){return yn(e,To(),t)?n+Ie(t)+r:Re}(r,e,n,t);return i!==Re&&si(r,Cn(),i),sa}const Jl="en-US";let J0=Jl;class Cy{}class kN{resolveComponentFactory(n){throw function FN(e){const n=Error(`No component factory found for ${lt(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let is=(()=>{class e{}return e.NULL=new kN,e})();function LN(){return os(Qt(),ne())}function os(e,n){return new Dt(tr(e,n))}let Dt=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=LN,e})();function VN(e){return e instanceof Dt?e.nativeElement:e}class Mf{}let HN=(()=>{class e{}return e.\u0275prov=Ae({token:e,providedIn:"root",factory:()=>null}),e})();class da{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const jN=new da("13.3.3"),Af={};function ru(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];if(null!==o&&r.push(Wt(o)),hr(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&ru(l[1],l,u,r)}const s=t.type;if(8&s)ru(e,n,t.child,r);else if(32&s){const a=vd(t,n);let l;for(;l=a();)r.push(l)}else if(16&s){const a=P_(n,t);if(Array.isArray(a))r.push(...a);else{const l=Zs(n[16]);ru(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class fa{constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,t=n[1];return ru(t,n,t.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(hr(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(wd(n,r),Al(t,r))}this._attachedToViewContainer=!1}w_(this._lView[1],this._lView)}onDestroy(n){om(this._lView[1],this._lView,null,n)}markForCheck(){qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Kd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function QT(e,n,t){gl(!0);try{Kd(e,n,t)}finally{gl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Je(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function WS(e,n){Js(e,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Je(902,"");this._appRef=n}}class GN extends fa{constructor(n){super(n),this._view=n}detectChanges(){pm(this._view)}checkNoChanges(){!function ZT(e){gl(!0);try{pm(e)}finally{gl(!1)}}(this._view)}get context(){return null}}class Sy extends is{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=pn(n);return new Nf(t,this.ngModule)}}function Ty(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class Nf extends Cy{constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function fT(e){return e.map(dT).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Ty(this.componentDef.inputs)}get outputs(){return Ty(this.componentDef.outputs)}create(n,t,r,i){const o=(i=i||this.ngModule)?function zN(e,n){return{get:(t,r,i)=>{const o=e.get(t,Af,i);return o!==Af||r===Af?o:n.get(t,r,i)}}}(n,i.injector):n,s=o.get(Mf,gg),a=o.get(HN,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=r?function im(e,n,t){if(xt(e))return e.selectRootElement(n,t===xr.ShadowDom);let r="string"==typeof n?e.querySelector(n):n;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Cd(s.createRenderer(null,this.componentDef),u,function $N(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(u)),p=this.componentDef.onPush?576:528,g=function km(e,n){return{components:[],scheduler:e||VS,clean:JT,playerHandler:n||null,flags:0}}(),_=Gl(0,null,null,1,0,null,null,null,null,null),A=Xs(null,_,g,p,null,null,s,l,a,o);let L,q;_l(A);try{const Q=function xm(e,n,t,r,i,o){const s=t[1];t[20]=e;const l=Bo(s,20,2,"#host",null),u=l.mergedAttrs=n.hostAttrs;null!==u&&(zl(l,u,!0),null!==e&&(Dl(i,e,u),null!==l.classes&&Nd(i,e,l.classes),null!==l.styles&&k_(i,e,l.styles)));const c=r.createRenderer(e,n),p=Xs(t,nm(n),null,n.onPush?64:16,t[20],l,r,c,o||null,null);return s.firstCreatePass&&(Tl(ks(l,t),s,n.type),cm(s,l),dm(l,t.length,1)),$l(t,p),t[20]=p}(c,this.componentDef,A,s,l);if(c)if(r)Dl(l,c,["ng-version",jN.full]);else{const{attrs:U,classes:ue}=function hT(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!gr(i))break;i=o}r++}return{attrs:n,classes:t}}(this.componentDef.selectors[0]);U&&Dl(l,c,U),ue&&ue.length>0&&Nd(l,c,ue.join(" "))}if(q=Vc(_,20),void 0!==t){const U=q.projection=[];for(let ue=0;ue<this.ngContentSelectors.length;ue++){const he=t[ue];U.push(null!=he?Array.from(he):null)}}L=function Fm(e,n,t,r,i){const o=t[1],s=function xT(e,n,t){const r=Qt();e.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),fm(e,r,n,Uo(e,n,1,null),t));const i=Ls(n,e,r.directiveStart,r);mn(i,n);const o=tr(r,n);return o&&mn(o,n),i}(o,t,n);if(r.components.push(s),e[8]=s,i&&i.forEach(l=>l(s,n)),n.contentQueries){const l=Qt();n.contentQueries(1,s,l.directiveStart)}const a=Qt();return!o.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Si(a.index),lm(t[1],a,0,a.directiveStart,a.directiveEnd,n),um(n,s)),s}(Q,this.componentDef,A,g,[yM]),ea(_,A,null)}finally{ml()}return new qN(this.componentType,L,os(q,A),A,q)}}class qN extends class xN{}{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new GN(i),this.componentType=n}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ui{}class My{}const ss=new Map;class Oy extends ui{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sy(this);const r=Jn(n);this._bootstrapComponents=Ur(r.bootstrap),this._r3Injector=Cm(n,t,[{provide:ui,useValue:this},{provide:is,useValue:this.componentFactoryResolver}],lt(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,t=ln.THROW_IF_NOT_FOUND,r=Ne.Default){return n===ln||n===ui||n===Zd?this:this._r3Injector.get(n,t,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Of extends My{constructor(n){super(),this.moduleType=n,null!==Jn(n)&&function KN(e){const n=new Set;!function t(r){const i=Jn(r,!0),o=i.id;null!==o&&(function Ay(e,n,t){if(n&&n!==t)throw new Error(`Duplicate module registered for ${e} - ${lt(n)} vs ${lt(n.name)}`)}(o,ss.get(o),r),ss.set(o,r));const s=Ur(i.imports);for(const a of s)n.has(a)||(n.add(a),t(a))}(e)}(n)}create(n){return new Oy(this.moduleType,n)}}function Rf(e){return n=>{setTimeout(e,void 0,n)}}const Le=class cO extends fe{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){var i,o,s;let a=n,l=t||(()=>null),u=r;if(n&&"object"==typeof n){const p=n;a=null===(i=p.next)||void 0===i?void 0:i.bind(p),l=null===(o=p.error)||void 0===o?void 0:o.bind(p),u=null===(s=p.complete)||void 0===s?void 0:s.bind(p)}this.__isAsync&&(l=Rf(l),a&&(a=Rf(a)),u&&(u=Rf(u)));const c=super.subscribe({next:a,error:l,complete:u});return n instanceof Z&&n.add(c),c}};function dO(){return this._results[$o()]()}class Pf{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=$o(),r=Pf.prototype;r[t]||(r[t]=dO)}get changes(){return this._changes||(this._changes=new Le)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=nr(n);(this._changesDetected=!function Dw(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Vt=(()=>{class e{}return e.__NG_ELEMENT_ID__=pO,e})();const fO=Vt,hO=class extends fO{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(n){const t=this._declarationTContainer.tViews,r=Xs(this._declarationLView,t,n,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(t)),ea(t,r,n),new fa(r)}};function pO(){return ou(Qt(),ne())}function ou(e,n){return 4&e.type?new hO(n,e,os(e,n)):null}let br=(()=>{class e{}return e.__NG_ELEMENT_ID__=gO,e})();function gO(){return Vy(Qt(),ne())}const _O=br,ky=class extends _O{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return os(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const n=Sl(this._hostTNode,this._hostLView);if(Ig(n)){const t=Ao(n,this._hostLView),r=Mo(n);return new No(t[1].data[r+8],t)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Ly(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,r){const i=n.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(n,t,r,i,o){const s=n&&!function Bs(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.ngModuleRef}const l=s?n:new Nf(pn(n)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const g=(s?u:this.parentInjector).get(ui,null);g&&(o=g)}const c=l.create(u,i,void 0,o);return this.insert(c.hostView,a),c}insert(n,t){const r=n._lView,i=r[1];if(function zC(e){return hr(e[3])}(r)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const p=r[3],g=new ky(p,p[6],p[3]);g.detach(g.indexOf(n))}}const o=this._adjustIndex(t),s=this._lContainer;!function YS(e,n,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=n),r<o-10?(n[4]=t[i],Hg(t,10+r,n)):(t.push(n),n[4]=null),n[3]=t;const s=n[17];null!==s&&t!==s&&function KS(e,n){const t=e[9];n[16]!==n[3][3][16]&&(e[2]=!0),null===t?e[9]=[n]:t.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(e),n[2]|=128}(i,r,s,o);const a=Md(o,s),l=r[11],u=Ll(l,s[7]);return null!==u&&function zS(e,n,t,r,i,o){r[0]=i,r[6]=n,Js(e,r,t,1,i,o)}(i,s[6],l,r,u,a),n.attachToViewContainerRef(),Hg(xf(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Ly(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=wd(this._lContainer,t);r&&(Al(xf(this._lContainer),t),w_(r[1],r))}detach(n){const t=this._adjustIndex(n,-1),r=wd(this._lContainer,t);return r&&null!=Al(xf(this._lContainer),t)?new fa(r):null}_adjustIndex(n,t=0){return null==n?this.length+t:n}};function Ly(e){return e[8]}function xf(e){return e[8]||(e[8]=[])}function Vy(e,n){let t;const r=n[e.index];if(hr(r))t=r;else{let i;if(8&e.type)i=Wt(r);else{const o=n[11];i=o.createComment("");const s=tr(e,n);Zi(o,Ll(o,s),i,function XS(e,n){return xt(e)?e.nextSibling(n):n.nextSibling}(o,s),!1)}n[e.index]=t=hm(r,n,i,e),$l(n,t)}return new ky(t,e,n)}class Ff{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ff(this.queryList)}setDirty(){this.queryList.setDirty()}}class kf{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new kf(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Gy(n,t).matches&&this.queries[t].setDirty()}}class By{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class Lf{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Lf(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Vf{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new Vf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,vO(t,o)),this.matchTNodeWithReadOption(n,t,Ml(t,n,o,!1,!1))}else r===Vt?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Ml(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Dt||i===br||i===Vt&&4&t.type)this.addMatch(t.index,-2);else{const o=Ml(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function vO(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function EO(e,n,t,r){return-1===t?function bO(e,n){return 11&e.type?os(e,n):4&e.type?ou(e,n):null}(n,e):-2===t?function DO(e,n,t){return t===Dt?os(n,e):t===Vt?ou(n,e):t===br?Vy(n,e):void 0}(e,n,r):Ls(e,e[1],t,n)}function Uy(e,n,t,r){const i=n[19].queries[r];if(null===i.matches){const o=e.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:EO(n,o[u],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function Bf(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const s=Uy(e,n,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const u=o[a+1],c=n[-l];for(let p=10;p<c.length;p++){const g=c[p];g[17]===g[3]&&Bf(g[1],g,u,r)}if(null!==c[9]){const p=c[9];for(let g=0;g<p.length;g++){const _=p[g];Bf(_[1],_,u,r)}}}}}return r}function Ot(e){const n=ne(),t=Xe(),r=Dg();zc(r+1);const i=Gy(t,r);if(e.dirty&&_g(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Bf(t,n,r,[]):Uy(t,n,i,r);e.reset(o,VN),e.notifyOnChanges()}return!0}return!1}function Uf(e,n,t){const r=Xe();r.firstCreatePass&&(function jy(e,n,t){null===e.queries&&(e.queries=new Lf),e.queries.track(new Vf(n,t))}(r,new By(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function Hy(e,n,t){const r=new Pf(4==(4&t));om(e,n,r,r.destroy),null===n[19]&&(n[19]=new kf),n[19].queries.push(new Ff(r))}(r,ne(),n)}function Gy(e,n){return e.queries.getByIndex(n)}function lu(...e){}const Wf=new je("Application Initializer");let qf=(()=>{class e{constructor(t){this.appInits=t,this.resolve=lu,this.reject=lu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(ia(o))t.push(o);else if(gf(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(me(Wf,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ma=new je("AppId",{providedIn:"root",factory:function sv(){return`${Yf()}${Yf()}${Yf()}`}});function Yf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const av=new je("Platform Initializer"),Kf=new je("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lv=new je("appBootstrapListener");let HO=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Pi=new je("LocaleId",{providedIn:"root",factory:()=>Fw(Pi,Ne.Optional|Ne.SkipSelf)||function jO(){return"undefined"!=typeof $localize&&$localize.locale||Jl}()});class $O{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let uv=(()=>{class e{compileModuleSync(t){return new Of(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Ur(Jn(t).declarations).reduce((s,a)=>{const l=pn(a);return l&&s.push(new Nf(l)),s},[]);return new $O(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const WO=(()=>Promise.resolve(0))();function Qf(e){"undefined"==typeof Zone?WO.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Mt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function qO(){let e=ft.requestAnimationFrame,n=ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function QO(e){const n=()=>{!function KO(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ft,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Jf(e),e.isCheckStableRunning=!0,Zf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Jf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return cv(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),dv(e)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return cv(e),t.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),dv(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Jf(e),Zf(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,YO,lu,lu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const YO={};function Zf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Jf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function cv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function dv(e){e._nesting--,Zf(e)}class ZO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}let Xf=(()=>{class e{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mt.assertNotInAngularZone(),Qf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qf(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(me(Mt))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})(),JO=(()=>{class e{constructor(){this._applications=new Map,eh.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return eh.findTestabilityInTree(this,t,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();class XO{addToWindow(n){}findTestabilityInTree(n,t,r){return null}}let Er,eh=new XO;const fv=new je("AllowMultipleToken");class hv{constructor(n,t){this.name=n,this.token=t}}function pv(e,n,t=[]){const r=`Platform: ${n}`,i=new je(r);return(o=[])=>{let s=gv();if(!s||s.injector.get(fv,!1))if(e)e(t.concat(o).concat({provide:i,useValue:!0}));else{const a=t.concat(o).concat({provide:i,useValue:!0},{provide:Jd,useValue:"platform"});!function rI(e){if(Er&&!Er.destroyed&&!Er.injector.get(fv,!1))throw new Je(400,"");Er=e.get(oI);const n=e.get(av,null);n&&n.forEach(t=>t())}(ln.create({providers:a,name:r}))}return function iI(e){const n=gv();if(!n)throw new Je(401,"");return n}()}}function gv(){return Er&&!Er.destroyed?Er:null}let oI=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function sI(e,n){let t;return t="noop"===e?new ZO:("zone.js"===e?void 0:e)||new Mt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Mt,useValue:a}];return a.run(()=>{const u=ln.create({providers:l,parent:this.injector,name:t.moduleType.name}),c=t.create(u),p=c.injector.get(Qs,null);if(!p)throw new Je(402,"");return a.runOutsideAngular(()=>{const g=a.onError.subscribe({next:_=>{p.handleError(_)}});c.onDestroy(()=>{th(this._modules,c),g.unsubscribe()})}),function aI(e,n,t){try{const r=t();return ia(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(p,a,()=>{const g=c.injector.get(qf);return g.runInitializers(),g.donePromise.then(()=>(function HA(e){Un(e,"Expected localeId to be defined"),"string"==typeof e&&(J0=e.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Pi,Jl)||Jl),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,r=[]){const i=_v({},r);return function tI(e,n,t){const r=new Of(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(uu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Je(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(me(ln))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function _v(e,n){return Array.isArray(n)?n.reduce(_v,e):Object.assign(Object.assign({},e),n)}let uu=(()=>{class e{constructor(t,r,i,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Qe(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Qe(l=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Mt.assertNotInAngularZone(),Qf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Mt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function cC(...e){const n=As(e),t=function rC(e,n){return"number"==typeof vc(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?Pt(r[0]):Ms(t)(rn(r,n)):cr}(s,a.pipe(function dC(e={}){const{connector:n=(()=>new fe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s=null,a=null,l=null,u=0,c=!1,p=!1;const g=()=>{null==a||a.unsubscribe(),a=null},_=()=>{g(),s=l=null,c=p=!1},A=()=>{const L=s;_(),null==L||L.unsubscribe()};return $e((L,q)=>{u++,!p&&!c&&g();const Q=l=null!=l?l:n();q.add(()=>{u--,0===u&&!p&&!c&&(a=bc(A,i))}),Q.subscribe(q),s||(s=new z({next:U=>Q.next(U),error:U=>{p=!0,g(),a=bc(_,t,U),Q.error(U)},complete:()=>{c=!0,g(),a=bc(_,r),Q.complete()}}),rn(L).subscribe(s))})(o)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new Je(405,"");let i;i=t instanceof Cy?t:this._injector.get(is).resolveComponentFactory(t),this.componentTypes.push(i.componentType);const o=function nI(e){return e.isBoundToModule}(i)?void 0:this._injector.get(ui),a=i.create(ln.NULL,[],r||i.selector,o),l=a.location.nativeElement,u=a.injector.get(Xf,null),c=u&&a.injector.get(JO);return u&&c&&c.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),th(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Je(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;th(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(lv,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(me(Mt),me(ln),me(Qs),me(qf))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function th(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let yv=!0,Dr=(()=>{class e{}return e.__NG_ELEMENT_ID__=cI,e})();function cI(e){return function dI(e,n,t){if(dl(e)&&!t){const r=jn(e.index,n);return new fa(r,r)}return 47&e.type?new fa(n[16],n):null}(Qt(),ne(),16==(16&e))}class Cv{constructor(){}supports(n){return na(n)}create(n){return new mI(n)}}const _I=(e,n)=>n;class mI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||_I}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<Sv(r,i,o)?t:r,a=Sv(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,c=l-i;if(u!=c){for(let g=0;g<u;g++){const _=g<o.length?o[g]:o[g]=0,A=_+g;c<=A&&A<u&&(o[g]=_+1)}o[s.previousIndex]=c-u}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!na(n))throw new Je(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function AM(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[$o()]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new yI(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new wv),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wv),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class yI{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class wv{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new vI,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sv(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function Mv(){return new fu([new Cv])}let fu=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Mv()),deps:[[e,new $s,new Mi]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Je(901,"")}}return e.\u0275prov=Ae({token:e,providedIn:"root",factory:Mv}),e})();const wI=pv(null,"core",[]);let SI=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(me(uu))},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({}),e})(),hu=null;function Wr(){return hu}const un=new je("DocumentToken");let no=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:function(){return function NI(){return me(Nv)}()},providedIn:"platform"}),e})();const OI=new je("Location Initialized");let Nv=(()=>{class e extends no{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wr().getBaseHref(this._doc)}onPopState(t){const r=Wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Ov()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Ov()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(me(un))},e.\u0275prov=Ae({token:e,factory:function(){return function II(){return new Nv(me(un))}()},providedIn:"platform"}),e})();function Ov(){return!!window.history.pushState}function sh(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function Iv(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function di(e){return e&&"?"!==e[0]?"?"+e:e}let ls=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:function(){return function RI(e){const n=me(un).location;return new Rv(me(no),n&&n.origin||"")}()},providedIn:"root"}),e})();const ah=new je("appBaseHref");let Rv=(()=>{class e extends ls{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return sh(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+di(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+di(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return e.\u0275fac=function(t){return new(t||e)(me(no),me(ah,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})(),PI=(()=>{class e extends ls{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=sh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+di(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+di(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return e.\u0275fac=function(t){return new(t||e)(me(no),me(ah,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})(),lh=(()=>{class e{constructor(t,r){this._subject=new Le,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Iv(Pv(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+di(r))}normalize(t){return e.stripTrailingSlash(function FI(e,n){return e&&n.startsWith(e)?n.substring(e.length):n}(this._baseHref,Pv(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=di,e.joinWithSlash=sh,e.stripTrailingSlash=Iv,e.\u0275fac=function(t){return new(t||e)(me(ls),me(no))},e.\u0275prov=Ae({token:e,factory:function(){return function xI(){return new lh(me(ls),me(no))}()},providedIn:"root"}),e})();function Pv(e){return e.replace(/\/index.html$/,"")}class ER{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let us=(()=>{class e{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ER(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),jv(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{jv(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(j(br),j(Vt),j(fu))},e.\u0275dir=de({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function jv(e,n){e.context.$implicit=n.item}let cs=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new DR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Gv("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Gv("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(j(br),j(Vt))},e.\u0275dir=de({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class DR{constructor(){this.$implicit=null,this.ngIf=null}}function Gv(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${lt(n)}'.`)}let Wn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({}),e})();let JR=(()=>{class e{}return e.\u0275prov=Ae({token:e,providedIn:"root",factory:()=>new XR(me(un),window)}),e})();class XR{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function eP(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=qv(this.window.history)||qv(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function qv(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Dh extends class nP extends class AI{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function MI(e){hu||(hu=e)}(new Dh)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function rP(){return Da=Da||document.querySelector("base"),Da?Da.getAttribute("href"):null}();return null==t?null:function iP(e){Cu=Cu||document.createElement("a"),Cu.setAttribute("href",e);const n=Cu.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Da=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function yR(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Cu,Da=null;const Yv=new je("TRANSITION_ID"),sP=[{provide:Wf,useFactory:function oP(e,n,t){return()=>{t.get(qf).donePromise.then(()=>{const r=Wr(),i=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[Yv,un,ln],multi:!0}];class Ch{static init(){!function eI(e){eh=e}(new Ch)}addToWindow(n){ft.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},ft.getAllAngularTestabilities=()=>n.getAllTestabilities(),ft.getAllAngularRootElements=()=>n.getAllRootElements(),ft.frameworkStabilizers||(ft.frameworkStabilizers=[]),ft.frameworkStabilizers.push(r=>{const i=ft.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,t,r){if(null==t)return null;const i=n.getTestability(t);return null!=i?i:r?Wr().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}}let aP=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();const wu=new je("EventManagerPlugins");let Su=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(me(wu),me(Mt))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();class Kv{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const i=Wr().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Qv=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})(),Ca=(()=>{class e extends Qv{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Zv),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Zv))}}return e.\u0275fac=function(t){return new(t||e)(me(un))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();function Zv(e){Wr().remove(e)}const wh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Sh=/%COMP%/g;function Tu(e,n,t){for(let r=0;r<n.length;r++){let i=n[r];Array.isArray(i)?Tu(e,i,t):(i=i.replace(Sh,e),t.push(i))}return t}function eb(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let Th=(()=>{class e{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Mh(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case xr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new hP(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case xr.ShadowDom:return new pP(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Tu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(me(Su),me(Ca),me(ma))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();class Mh{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(wh[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){n.appendChild(t)}insertBefore(n,t,r){n&&n.insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=wh[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=wh[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&($n.DashCase|$n.Important)?n.style.setProperty(t,r,i&$n.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&$n.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,eb(r)):this.eventManager.addEventListener(n,t,eb(r))}}class hP extends Mh{constructor(n,t,r,i){super(n),this.component=r;const o=Tu(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function cP(e){return"_ngcontent-%COMP%".replace(Sh,e)}(i+"-"+r.id),this.hostAttr=function dP(e){return"_nghost-%COMP%".replace(Sh,e)}(i+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class pP extends Mh{constructor(n,t,r,i){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Tu(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let gP=(()=>{class e extends Kv{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(me(un))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();const nb=["alt","control","meta","shift"],mP={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rb={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yP={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let vP=(()=>{class e extends Kv{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="";if(nb.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function bP(e){let n=e.key;if(null==n){if(n=e.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===e.location&&rb.hasOwnProperty(n)&&(n=rb[n]))}return mP[n]||n}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nb.forEach(o=>{o!=i&&yP[o](t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{e.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(me(un))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();const wP=pv(wI,"browser",[{provide:Kf,useValue:"browser"},{provide:av,useValue:function EP(){Dh.makeCurrent(),Ch.init()},multi:!0},{provide:un,useFactory:function CP(){return function HC(e){kc=e}(document),document},deps:[]}]),SP=[{provide:Jd,useValue:"root"},{provide:Qs,useFactory:function DP(){return new Qs},deps:[]},{provide:wu,useClass:gP,multi:!0,deps:[un,Mt,Kf]},{provide:wu,useClass:vP,multi:!0,deps:[un]},{provide:Th,useClass:Th,deps:[Su,Ca,ma]},{provide:Mf,useExisting:Th},{provide:Qv,useExisting:Ca},{provide:Ca,useClass:Ca,deps:[un]},{provide:Xf,useClass:Xf,deps:[Mt]},{provide:Su,useClass:Su,deps:[wu,Mt]},{provide:class tP{},useClass:aP,deps:[]}];let TP=(()=>{class e{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:ma,useValue:t.appId},{provide:Yv,useExisting:ma},sP]}}}return e.\u0275fac=function(t){return new(t||e)(me(e,12))},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({providers:SP,imports:[Wn,SI]}),e})();function Pe(...e){return rn(e,As(e))}"undefined"!=typeof window&&window;class sn extends fe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const{isArray:LP}=Array,{getPrototypeOf:VP,prototype:BP,keys:UP}=Object;const{isArray:jP}=Array;function Nh(e){return Oe(n=>function GP(e,n){return jP(n)?e(...n):e(n)}(e,n))}function Oh(...e){const n=As(e),t=il(e),{args:r,keys:i}=function sb(e){if(1===e.length){const n=e[0];if(LP(n))return{args:n,keys:null};if(function HP(e){return e&&"object"==typeof e&&VP(e)===BP}(n)){const t=UP(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return rn([],n);const o=new Qe(function $P(e,n,t=it){return r=>{lb(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)lb(n,()=>{const u=rn(e[l],n);let c=!1;u.subscribe(rt(r,p=>{o[l]=p,c||(c=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>function ab(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}(i,s):it));return t?o.pipe(Nh(t)):o}function lb(e,n,t){e?ei(t,e,n):n()}function Mu(e,n){const t=N(e)?e:()=>e,r=i=>i.error(t());return new Qe(n?i=>n.schedule(r,0,i):r)}const Au=m(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function wa(...e){return function zP(){return Ms(1)}()(rn(e,As(e)))}function ub(e){return new Qe(n=>{Pt(e()).subscribe(n)})}function cb(){return $e((e,n)=>{let t=null;e._refCount++;const r=rt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class WP extends Qe{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,gt(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Z;const t=this.getSubject();n.add(this.source.subscribe(rt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Z.EMPTY)}return n}refCount(){return cb()(this)}}function hi(e,n){return $e((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(rt(r,l=>{null==i||i.unsubscribe();let u=0;const c=o++;Pt(e(l,c)).subscribe(i=rt(r,p=>r.next(n?n(l,p,c,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function qP(e,n,t,r,i){return(o,s)=>{let a=t,l=n,u=0;o.subscribe(rt(s,c=>{const p=u++;l=a?e(l,c,p):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function db(e,n){return $e(qP(e,n,arguments.length>=2,!0))}function qn(e,n){return $e((t,r)=>{let i=0;t.subscribe(rt(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Fi(e){return $e((n,t)=>{let o,r=null,i=!1;r=n.subscribe(rt(t,void 0,void 0,s=>{o=Pt(e(s,Fi(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Sa(e,n){return N(n)?zt(e,n,1):zt(e,1)}function Ih(e){return e<=0?()=>cr:$e((n,t)=>{let r=[];n.subscribe(rt(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function fb(e=YP){return $e((n,t)=>{let r=!1;n.subscribe(rt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function YP(){return new Au}function hb(e){return $e((n,t)=>{let r=!1;n.subscribe(rt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function ds(e,n){const t=arguments.length>=2;return r=>r.pipe(e?qn((i,o)=>e(i,o,r)):it,an(1),t?hb(n):fb(()=>new Au))}function Mn(e,n,t){const r=N(e)||n||t?{next:e,error:n,complete:t}:e;return r?$e((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(rt(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):it}class pi{constructor(n,t){this.id=n,this.url=t}}class Rh extends pi{constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ta extends pi{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pb extends pi{constructor(n,t,r){super(n,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ZP extends pi{constructor(n,t,r){super(n,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class JP extends pi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XP extends pi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ex extends pi{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tx extends pi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nx extends pi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gb{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _b{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rx{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ix{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ox{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sx{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mb{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ge="primary";class ax{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function fs(e){return new ax(e)}const yb="ngNavigationCancelingError";function Ph(e){const n=Error("NavigationCancelingError: "+e);return n[yb]=!0,n}function ux(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function qr(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!vb(e[i],n[i]))return!1;return!0}function vb(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function bb(e){return Array.prototype.concat.apply([],e)}function Eb(e){return e.length>0?e[e.length-1]:null}function cn(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function Yr(e){return gf(e)?e:ia(e)?rn(Promise.resolve(e)):Pe(e)}const fx={exact:function wb(e,n,t){if(!io(e.segments,n.segments)||!Ou(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!wb(e.children[r],n.children[r],t))return!1;return!0},subset:Sb},Db={exact:function hx(e,n){return qr(e,n)},subset:function px(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>vb(e[t],n[t]))},ignored:()=>!0};function Cb(e,n,t){return fx[t.paths](e.root,n.root,t.matrixParams)&&Db[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function Sb(e,n,t){return Tb(e,n,n.segments,t)}function Tb(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!io(i,t)||n.hasChildren()||!Ou(i,t,r))}if(e.segments.length===t.length){if(!io(e.segments,t)||!Ou(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!Sb(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(io(e.segments,i)&&Ou(e.segments,i,r)&&e.children[Ge])&&Tb(e.children[Ge],n,o,r)}}function Ou(e,n,t){return n.every((r,i)=>Db[t](e[i].parameters,r.parameters))}class ro{constructor(n,t,r){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fs(this.queryParams)),this._queryParamMap}toString(){return mx.serialize(this)}}class Ke{constructor(n,t){this.segments=n,this.children=t,this.parent=null,cn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Iu(this)}}class Ma{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=fs(this.parameters)),this._parameterMap}toString(){return Ib(this)}}function io(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}class Mb{}class Ab{parse(n){const t=new Tx(n);return new ro(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Aa(n.root,!0)}`,r=function bx(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Ru(t)}=${Ru(i)}`).join("&"):`${Ru(t)}=${Ru(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function yx(e){return encodeURI(e)}(n.fragment)}`:""}`}}const mx=new Ab;function Iu(e){return e.segments.map(n=>Ib(n)).join("/")}function Aa(e,n){if(!e.hasChildren())return Iu(e);if(n){const t=e.children[Ge]?Aa(e.children[Ge],!1):"",r=[];return cn(e.children,(i,o)=>{o!==Ge&&r.push(`${o}:${Aa(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function _x(e,n){let t=[];return cn(e.children,(r,i)=>{i===Ge&&(t=t.concat(n(r,i)))}),cn(e.children,(r,i)=>{i!==Ge&&(t=t.concat(n(r,i)))}),t}(e,(r,i)=>i===Ge?[Aa(e.children[Ge],!1)]:[`${i}:${Aa(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ge]?`${Iu(e)}/${t[0]}`:`${Iu(e)}/(${t.join("//")})`}}function Nb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ru(e){return Nb(e).replace(/%3B/gi,";")}function xh(e){return Nb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pu(e){return decodeURIComponent(e)}function Ob(e){return Pu(e.replace(/\+/g,"%20"))}function Ib(e){return`${xh(e.path)}${function vx(e){return Object.keys(e).map(n=>`;${xh(n)}=${xh(e[n])}`).join("")}(e.parameters)}`}const Ex=/^[^\/()?;=#]+/;function xu(e){const n=e.match(Ex);return n?n[0]:""}const Dx=/^[^=?&#]+/,wx=/^[^&#]+/;class Tx{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[Ge]=new Ke(n,t)),r}parseSegment(){const n=xu(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Ma(Pu(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=xu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=xu(this.remaining);i&&(r=i,this.capture(r))}n[Pu(t)]=Pu(r)}parseQueryParam(n){const t=function Cx(e){const n=e.match(Dx);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Sx(e){const n=e.match(wx);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=Ob(t),o=Ob(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=xu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Ge);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Ge]:new Ke([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class Rb{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Fh(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Fh(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=kh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return kh(n,this._root).map(t=>t.value)}}function Fh(e,n){if(e===n.value)return n;for(const t of n.children){const r=Fh(e,t);if(r)return r}return null}function kh(e,n){if(e===n.value)return[n];for(const t of n.children){const r=kh(e,t);if(r.length)return r.unshift(n),r}return[]}class gi{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function hs(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class Pb extends Rb{constructor(n,t){super(n),this.snapshot=t,Lh(this,n)}toString(){return this.snapshot.toString()}}function xb(e,n){const t=function Mx(e,n){const s=new Fu([],{},{},"",{},Ge,n,null,e.root,-1,{});return new kb("",new gi(s,[]))}(e,n),r=new sn([new Ma("",{})]),i=new sn({}),o=new sn({}),s=new sn({}),a=new sn(""),l=new ps(r,i,s,a,o,Ge,n,t.root);return l.snapshot=t.root,new Pb(new gi(l,[]),t)}class ps{constructor(n,t,r,i,o,s,a,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(n=>fs(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(n=>fs(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fb(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Ax(e){return e.reduce((n,t)=>({params:Object.assign(Object.assign({},n.params),t.params),data:Object.assign(Object.assign({},n.data),t.data),resolve:Object.assign(Object.assign({},n.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Fu{constructor(n,t,r,i,o,s,a,l,u,c,p){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kb extends Rb{constructor(n,t){super(t),this.url=n,Lh(this,t)}toString(){return Lb(this._root)}}function Lh(e,n){n.value._routerState=e,n.children.forEach(t=>Lh(e,t))}function Lb(e){const n=e.children.length>0?` { ${e.children.map(Lb).join(", ")} } `:"";return`${e.value}${n}`}function Vh(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,qr(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),qr(n.params,t.params)||e.params.next(t.params),function cx(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!qr(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),qr(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Bh(e,n){const t=qr(e.params,n.params)&&function gx(e,n){return io(e,n)&&e.every((t,r)=>qr(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Bh(e.parent,n.parent))}function Na(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function Ox(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Na(e,r,i);return Na(e,r)})}(e,n,t);return new gi(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Na(e,a)),s}}const r=function Ix(e){return new ps(new sn(e.url),new sn(e.params),new sn(e.queryParams),new sn(e.fragment),new sn(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>Na(e,o));return new gi(r,i)}}function ku(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Oa(e){return"object"==typeof e&&null!=e&&e.outlets}function Uh(e,n,t,r,i){let o={};if(r&&cn(r,(a,l)=>{o[l]=Array.isArray(a)?a.map(u=>`${u}`):`${a}`}),e===n)return new ro(t,o,i);const s=Vb(e,n,t);return new ro(s,o,i)}function Vb(e,n,t){const r={};return cn(e.children,(i,o)=>{r[o]=i===n?t:Vb(i,n,t)}),new Ke(e.segments,r)}class Bb{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&ku(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Oa);if(i&&i!==Eb(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hh{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function Ub(e,n,t){if(e||(e=new Ke([],{})),0===e.segments.length&&e.hasChildren())return Lu(e,n,t);const r=function Lx(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(Oa(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!jb(l,u,s))return o;r+=2}else{if(!jb(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Ke(e.segments.slice(0,r.pathIndex),{});return o.children[Ge]=new Ke(e.segments.slice(r.pathIndex),e.children),Lu(o,0,i)}return r.match&&0===i.length?new Ke(e.segments,{}):r.match&&!e.hasChildren()?jh(e,n,t):r.match?Lu(e,0,i):jh(e,n,t)}function Lu(e,n,t){if(0===t.length)return new Ke(e.segments,{});{const r=function kx(e){return Oa(e[0])?e[0].outlets:{[Ge]:e}}(t),i={};return cn(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Ub(e.children[s],n,o))}),cn(e.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Ke(e.segments,i)}}function jh(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(Oa(o)){const l=Vx(o.outlets);return new Ke(r,l)}if(0===i&&ku(t[0])){r.push(new Ma(e.segments[n].path,Hb(t[0]))),i++;continue}const s=Oa(o)?o.outlets[Ge]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ku(a)?(r.push(new Ma(s,Hb(a))),i+=2):(r.push(new Ma(s,{})),i++)}return new Ke(r,{})}function Vx(e){const n={};return cn(e,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[r]=jh(new Ke([],{}),0,t))}),n}function Hb(e){const n={};return cn(e,(t,r)=>n[r]=`${t}`),n}function jb(e,n,t){return e==t.path&&qr(n,t.parameters)}class Ux{constructor(n,t,r,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Vh(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=hs(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),cn(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=hs(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=hs(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,t,r){const i=hs(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new sx(o.value.snapshot))}),n.children.length&&this.forwardEvent(new ix(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(Vh(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vh(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=function Hx(e){for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=l,s.outlet&&s.outlet.activateWith(i,l),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class Gh{constructor(n,t){this.routes=n,this.module=t}}function ki(e){return"function"==typeof e}function oo(e){return e instanceof ro}const Ia=Symbol("INITIAL_VALUE");function Ra(){return hi(e=>Oh(e.map(n=>n.pipe(an(1),function Nu(...e){const n=As(e);return $e((t,r)=>{(n?wa(e,t,n):wa(e,t)).subscribe(r)})}(Ia)))).pipe(db((n,t)=>{let r=!1;return t.reduce((i,o,s)=>i!==Ia?i:(o===Ia&&(r=!0),r||!1!==o&&s!==t.length-1&&!oo(o)?i:o),n)},Ia),qn(n=>n!==Ia),Oe(n=>oo(n)?n:!0===n),an(1)))}class qx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pa,this.attachRef=null}}class Pa{constructor(){this.contexts=new Map}onChildOutletCreated(n,t){const r=this.getOrCreateContext(n);r.outlet=t,this.contexts.set(n,r)}onChildOutletDestroyed(n){const t=this.getContext(n);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let t=this.getContext(n);return t||(t=new qx,this.contexts.set(n,t)),t}getContext(n){return this.contexts.get(n)||null}}let $h=(()=>{class e{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.name=o||Ge,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const s=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Yx(t,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(j(Pa),j(br),j(is),function Qi(e){return function _w(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Ng(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===n)return t[i+1];i+=2}}}return null}(Qt(),e)}("name"),j(Dr))},e.\u0275dir=de({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class Yx{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===ps?this.route:n===Pa?this.childContexts:this.parent.get(n,t)}}let Gb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pn({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&li(0,"router-outlet")},directives:[$h],encapsulation:2}),e})();function $b(e,n=""){for(let t=0;t<e.length;t++){const r=e[t];Kx(r,Qx(n,r))}}function Kx(e,n){e.children&&$b(e.children,n)}function Qx(e,n){return n?e||n.path?e&&!n.path?`${e}/`:!e&&n.path?n.path:`${e}/${n.path}`:"":e}function zh(e){const n=e.children&&e.children.map(zh),t=n?Object.assign(Object.assign({},e),{children:n}):Object.assign({},e);return!t.component&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Ge&&(t.component=Gb),t}function ar(e){return e.outlet||Ge}function zb(e,n){const t=e.filter(r=>ar(r)===n);return t.push(...e.filter(r=>ar(r)!==n)),t}const Wb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vu(e,n,t){var r;if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?Object.assign({},Wb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(n.matcher||ux)(t,e,n);if(!o)return Object.assign({},Wb);const s={};cn(o.posParams,(l,u)=>{s[u]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function Bu(e,n,t,r,i="corrected"){if(t.length>0&&function Xx(e,n,t){return t.some(r=>Uu(e,n,r)&&ar(r)!==Ge)}(e,t,r)){const s=new Ke(n,function Jx(e,n,t,r){const i={};i[Ge]=r,r._sourceSegment=e,r._segmentIndexShift=n.length;for(const o of t)if(""===o.path&&ar(o)!==Ge){const s=new Ke([],{});s._sourceSegment=e,s._segmentIndexShift=n.length,i[ar(o)]=s}return i}(e,n,r,new Ke(t,e.children)));return s._sourceSegment=e,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function eF(e,n,t){return t.some(r=>Uu(e,n,r))}(e,t,r)){const s=new Ke(e.segments,function Zx(e,n,t,r,i,o){const s={};for(const a of r)if(Uu(e,t,a)&&!i[ar(a)]){const l=new Ke([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:n.length,s[ar(a)]=l}return Object.assign(Object.assign({},i),s)}(e,n,t,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:t}}const o=new Ke(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:t}}function Uu(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function qb(e,n,t,r){return!!(ar(e)===r||r!==Ge&&Uu(n,t,e))&&("**"===e.path||Vu(n,e,t).matched)}function Yb(e,n,t){return 0===n.length&&!e.children[t]}class Hu{constructor(n){this.segmentGroup=n||null}}class Kb{constructor(n){this.urlTree=n}}function xa(e){return Mu(new Hu(e))}function Qb(e){return Mu(new Kb(e))}class iF{constructor(n,t,r,i,o){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=n.get(ui)}apply(){const n=Bu(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ke(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ge).pipe(Oe(o=>this.createUrlTree(Wh(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fi(o=>{if(o instanceof Kb)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Hu?this.noMatchError(o):o}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Ge).pipe(Oe(i=>this.createUrlTree(Wh(i),n.queryParams,n.fragment))).pipe(Fi(i=>{throw i instanceof Hu?this.noMatchError(i):i}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,t,r){const i=n.segments.length>0?new Ke([],{[Ge]:n}):n;return new ro(i,t,r)}expandSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,t,r).pipe(Oe(o=>new Ke([],o))):this.expandSegment(n,r,t,r.segments,i,!0)}expandChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return rn(i).pipe(Sa(o=>{const s=r.children[o],a=zb(t,o);return this.expandSegmentGroup(n,a,s,o).pipe(Oe(l=>({segment:l,outlet:o})))}),db((o,s)=>(o[s.outlet]=s.segment,o),{}),function KP(e,n){const t=arguments.length>=2;return r=>r.pipe(e?qn((i,o)=>e(i,o,r)):it,Ih(1),t?hb(n):fb(()=>new Au))}())}expandSegment(n,t,r,i,o,s){return rn(r).pipe(Sa(a=>this.expandSegmentAgainstRoute(n,t,r,a,i,o,s).pipe(Fi(u=>{if(u instanceof Hu)return Pe(null);throw u}))),ds(a=>!!a),Fi((a,l)=>{if(a instanceof Au||"EmptyError"===a.name)return Yb(t,i,o)?Pe(new Ke([],{})):xa(t);throw a}))}expandSegmentAgainstRoute(n,t,r,i,o,s,a){return qb(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s):xa(t):xa(t)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Qb(o):this.lineralizeSegments(r,o).pipe(zt(s=>{const a=new Ke(s,{});return this.expandSegment(n,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=Vu(t,i,o);if(!a)return xa(t);const p=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?Qb(p):this.lineralizeSegments(i,p).pipe(zt(g=>this.expandSegment(n,t,r,g.concat(u),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Pe(r._loadedConfig):this.configLoader.load(n.injector,r)).pipe(Oe(p=>(r._loadedConfig=p,new Ke(i,{})))):Pe(new Ke(i,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=Vu(t,r,i);return s?this.getChildConfig(n,r,i).pipe(zt(c=>{const p=c.module,g=c.routes,{segmentGroup:_,slicedSegments:A}=Bu(t,a,l,g),L=new Ke(_.segments,_.children);if(0===A.length&&L.hasChildren())return this.expandChildren(p,g,L).pipe(Oe(ue=>new Ke(a,ue)));if(0===g.length&&0===A.length)return Pe(new Ke(a,{}));const q=ar(r)===o;return this.expandSegment(p,L,g,A,q?Ge:o,!0).pipe(Oe(U=>new Ke(a.concat(U.segments),U.children)))})):xa(t)}getChildConfig(n,t,r){return t.children?Pe(new Gh(t.children,n)):t.loadChildren?void 0!==t._loadedConfig?Pe(t._loadedConfig):this.runCanLoadGuards(n.injector,t,r).pipe(zt(i=>i?this.configLoader.load(n.injector,t).pipe(Oe(o=>(t._loadedConfig=o,o))):function nF(e){return Mu(Ph(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))}(t))):Pe(new Gh([],n))}runCanLoadGuards(n,t,r){const i=t.canLoad;return i&&0!==i.length?Pe(i.map(s=>{const a=n.get(s);let l;if(function Gx(e){return e&&ki(e.canLoad)}(a))l=a.canLoad(t,r);else{if(!ki(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return Yr(l)})).pipe(Ra(),Mn(s=>{if(!oo(s))return;const a=Ph(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),Oe(s=>!0===s)):Pe(!0)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Pe(r);if(i.numberOfChildren>1||!i.children[Ge])return Mu(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n.redirectTo}'`));i=i.children[Ge]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreatreUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new ro(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return cn(n,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return cn(t.children,(a,l)=>{s[l]=this.createSegmentGroup(n,a,r,i)}),new Ke(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${n}'. Cannot find '${t.path}'.`);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}function Wh(e){const n={};for(const r of Object.keys(e.children)){const o=Wh(e.children[r]);(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function oF(e){if(1===e.numberOfChildren&&e.children[Ge]){const n=e.children[Ge];return new Ke(e.segments.concat(n.segments),n.children)}return e}(new Ke(e.segments,n))}class Zb{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class ju{constructor(n,t){this.component=n,this.route=t}}function aF(e,n,t){const r=e._root;return Fa(r,n?n._root:null,t,[r.value])}function Gu(e,n,t){const r=function uF(e){if(!e)return null;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(n);return(r?r.module.injector:t).get(e)}function Fa(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=hs(n);return e.children.forEach(s=>{(function cF(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function dF(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!io(e.url,n.url);case"pathParamsOrQueryParamsChange":return!io(e.url,n.url)||!qr(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bh(e,n)||!qr(e.queryParams,n.queryParams);default:return!Bh(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Zb(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Fa(e,n,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ju(a.outlet.component,s))}else s&&ka(n,a,i),i.canActivateChecks.push(new Zb(r)),Fa(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),cn(o,(s,a)=>ka(s,t.getContext(a),i)),i}function ka(e,n,t){const r=hs(e),i=e.value;cn(r,(o,s)=>{ka(o,i.component?n?n.children.getContext(s):null:n,t)}),t.canDeactivateChecks.push(new ju(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}class bF{}function Jb(e){return new Qe(n=>n.error(e))}class DF{constructor(n,t,r,i,o,s){this.rootComponentType=n,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const n=Bu(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,n,Ge);if(null===t)return null;const r=new Fu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ge,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new gi(r,t),o=new kb(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(n){const t=n.value,r=Fb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(n,t):this.processSegment(n,t,t.segments,r)}processChildren(n,t){const r=[];for(const o of Object.keys(t.children)){const s=t.children[o],a=zb(n,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;r.push(...l)}const i=Xb(r);return function CF(e){e.sort((n,t)=>n.value.outlet===Ge?-1:t.value.outlet===Ge?1:n.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(n,t,r,i){for(const o of n){const s=this.processSegmentAgainstRoute(o,t,r,i);if(null!==s)return s}return Yb(t,r,i)?[]:null}processSegmentAgainstRoute(n,t,r,i){if(n.redirectTo||!qb(n,t,r,i))return null;let o,s=[],a=[];if("**"===n.path){const _=r.length>0?Eb(r).parameters:{};o=new Fu(r,_,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nE(n),ar(n),n.component,n,eE(t),tE(t)+r.length,rE(n))}else{const _=Vu(t,n,r);if(!_.matched)return null;s=_.consumedSegments,a=_.remainingSegments,o=new Fu(s,_.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nE(n),ar(n),n.component,n,eE(t),tE(t)+s.length,rE(n))}const l=function wF(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(n),{segmentGroup:u,slicedSegments:c}=Bu(t,s,a,l.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const _=this.processChildren(l,u);return null===_?null:[new gi(o,_)]}if(0===l.length&&0===c.length)return[new gi(o,[])];const p=ar(n)===i,g=this.processSegment(l,u,c,p?Ge:i);return null===g?null:[new gi(o,g)]}}function SF(e){const n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function Xb(e){const n=[],t=new Set;for(const r of e){if(!SF(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=Xb(r.children);n.push(new gi(r.value,i))}return n.filter(r=>!t.has(r))}function eE(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function tE(e){let n=e,t=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,t+=n._segmentIndexShift?n._segmentIndexShift:0;return t-1}function nE(e){return e.data||{}}function rE(e){return e.resolve||{}}function iE(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function qh(e){return hi(n=>{const t=e(n);return t?rn(t).pipe(Oe(()=>n)):Pe(n)})}class PF extends class RF{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}{}const Yh=new je("ROUTES");class oE{constructor(n,t,r,i){this.injector=n,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(n,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Oe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t);const s=o.create(n);return new Gh(bb(s.injector.get(Yh,void 0,Ne.Self|Ne.Optional)).map(zh),s)}),Fi(o=>{throw t._loader$=void 0,o}));return t._loader$=new WP(i,()=>new fe).pipe(cb()),t._loader$}loadModuleFactory(n){return Yr(n()).pipe(zt(t=>t instanceof My?Pe(t):rn(this.compiler.compileModuleAsync(t))))}}class FF{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,t){return n}}function kF(e){throw e}function LF(e,n,t){return n.parse("/")}function sE(e,n){return Pe(null)}const VF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yn=(()=>{class e{constructor(t,r,i,o,s,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fe,this.errorHandler=kF,this.malformedUriErrorHandler=LF,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:sE,afterPreactivation:sE},this.urlHandlingStrategy=new FF,this.routeReuseStrategy=new PF,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(ui),this.console=s.get(HO);const p=s.get(Mt);this.isNgZoneEnabled=p instanceof Mt&&Mt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function dx(){return new ro(new Ke([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new oE(s,a,g=>this.triggerEvent(new gb(g)),g=>this.triggerEvent(new _b(g))),this.routerState=xb(this.currentUrlTree,this.rootComponentType),this.transitions=new sn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(qn(i=>0!==i.id),Oe(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),hi(i=>{let o=!1,s=!1;return Pe(i).pipe(Mn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hi(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return aE(a.source)&&(this.browserUrlTree=a.extractedUrl),Pe(a).pipe(hi(p=>{const g=this.transitions.getValue();return r.next(new Rh(p.id,this.serializeUrl(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions.getValue()?cr:Promise.resolve(p)}),function sF(e,n,t,r){return hi(i=>function rF(e,n,t,r,i){return new iF(e,n,t,r,i).apply()}(e,n,t,i.extractedUrl,r).pipe(Oe(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Mn(p=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:p.urlAfterRedirects})}),function TF(e,n,t,r,i){return zt(o=>function EF(e,n,t,r,i="emptyOnly",o="legacy"){try{const s=new DF(e,n,t,r,i,o).recognize();return null===s?Jb(new bF):Pe(s)}catch(s){return Jb(s)}}(e,n,o.urlAfterRedirects,t(o.urlAfterRedirects),r,i).pipe(Oe(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,p=>this.serializeUrl(p),this.paramsInheritanceStrategy,this.relativeLinkResolution),Mn(p=>{if("eager"===this.urlUpdateStrategy){if(!p.extras.skipLocationChange){const _=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl);this.setBrowserUrl(_,p)}this.browserUrlTree=p.urlAfterRedirects}const g=new JP(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);r.next(g)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:g,extractedUrl:_,source:A,restoredState:L,extras:q}=a,Q=new Rh(g,this.serializeUrl(_),A,L);r.next(Q);const U=xb(_,this.rootComponentType).snapshot;return Pe(Object.assign(Object.assign({},a),{targetSnapshot:U,urlAfterRedirects:_,extras:Object.assign(Object.assign({},q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),cr}),qh(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:p,extras:{skipLocationChange:g,replaceUrl:_}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:p,skipLocationChange:!!g,replaceUrl:!!_})}),Mn(a=>{const l=new XP(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Oe(a=>Object.assign(Object.assign({},a),{guards:aF(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function fF(e,n){return zt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Pe(Object.assign(Object.assign({},t),{guardsResult:!0})):function hF(e,n,t,r){return rn(e).pipe(zt(i=>function vF(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?Pe(o.map(a=>{const l=Gu(a,n,i);let u;if(function Wx(e){return e&&ki(e.canDeactivate)}(l))u=Yr(l.canDeactivate(e,n,t,r));else{if(!ki(l))throw new Error("Invalid CanDeactivate guard");u=Yr(l(e,n,t,r))}return u.pipe(ds())})).pipe(Ra()):Pe(!0)}(i.component,i.route,t,n,r)),ds(i=>!0!==i,!0))}(s,r,i,e).pipe(zt(a=>a&&function jx(e){return"boolean"==typeof e}(a)?function pF(e,n,t,r){return rn(n).pipe(Sa(i=>wa(function _F(e,n){return null!==e&&n&&n(new rx(e)),Pe(!0)}(i.route.parent,r),function gF(e,n){return null!==e&&n&&n(new ox(e)),Pe(!0)}(i.route,r),function yF(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function lF(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>ub(()=>Pe(s.guards.map(l=>{const u=Gu(l,s.node,t);let c;if(function zx(e){return e&&ki(e.canActivateChild)}(u))c=Yr(u.canActivateChild(r,e));else{if(!ki(u))throw new Error("Invalid CanActivateChild guard");c=Yr(u(r,e))}return c.pipe(ds())})).pipe(Ra())));return Pe(o).pipe(Ra())}(e,i.path,t),function mF(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Pe(!0);const i=r.map(o=>ub(()=>{const s=Gu(o,n,t);let a;if(function $x(e){return e&&ki(e.canActivate)}(s))a=Yr(s.canActivate(n,e));else{if(!ki(s))throw new Error("Invalid CanActivate guard");a=Yr(s(n,e))}return a.pipe(ds())}));return Pe(i).pipe(Ra())}(e,i.route,t))),ds(i=>!0!==i,!0))}(r,o,e,n):Pe(a)),Oe(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Mn(a=>{if(oo(a.guardsResult)){const u=Ph(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new ex(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),qn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),qh(a=>{if(a.guards.canActivateChecks.length)return Pe(a).pipe(Mn(l=>{const u=new tx(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),hi(l=>{let u=!1;return Pe(l).pipe(function MF(e,n){return zt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Pe(t);let o=0;return rn(i).pipe(Sa(s=>function AF(e,n,t,r){return function NF(e,n,t,r){const i=iE(e);if(0===i.length)return Pe({});const o={};return rn(i).pipe(zt(s=>function OF(e,n,t,r){const i=Gu(e,n,r);return Yr(i.resolve?i.resolve(n,t):i(n,t))}(e[s],n,t,r).pipe(Mn(a=>{o[s]=a}))),Ih(1),zt(()=>iE(o).length===i.length?Pe(o):cr))}(e._resolve,e,n,r).pipe(Oe(o=>(e._resolvedData=o,e.data=Object.assign(Object.assign({},e.data),Fb(e,t).resolve),null)))}(s.route,r,e,n)),Mn(()=>o++),Ih(1),zt(s=>o===i.length?Pe(t):cr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Mn({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Mn(l=>{const u=new nx(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),qh(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:p,extras:{skipLocationChange:g,replaceUrl:_}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:p,skipLocationChange:!!g,replaceUrl:!!_})}),Oe(a=>{const l=function Nx(e,n,t){const r=Na(e,n._root,t?t._root:void 0);return new Pb(r,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Mn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,n,t)=>Oe(r=>(new Ux(n,r.targetRouterState,r.currentRouterState,t).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Mn({next(){o=!0},complete(){o=!0}}),function QP(e){return $e((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}(()=>{var a;o||s||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Fi(a=>{if(s=!0,function lx(e){return e&&e[yb]}(a)){const l=oo(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const u=new pb(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(u),l?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),p={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||aE(i.source)};this.scheduleNavigation(c,"imperative",null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new ZP(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return cr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){$b(t),this.config=t.map(zh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:s;let p=null;switch(a){case"merge":p=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}return null!==p&&(p=this.removeEmptyProps(p)),function Rx(e,n,t,r,i){if(0===t.length)return Uh(n.root,n.root,n.root,r,i);const o=function Px(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Bb(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return cn(o.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new Bb(t,n,r)}(t);if(o.toRoot())return Uh(n.root,n.root,new Ke([],{}),r,i);const s=function xx(e,n,t){if(e.isAbsolute)return new Hh(n.root,!0,0);if(-1===t.snapshot._lastPathIndex){const o=t.snapshot._urlSegment;return new Hh(o,o===n.root,0)}const r=ku(e.commands[0])?0:1;return function Fx(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Hh(r,!1,i-o)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,n,e),a=s.processChildren?Lu(s.segmentGroup,s.index,o.commands):Ub(s.segmentGroup,s.index,o.commands);return Uh(n.root,s.segmentGroup,a,r,i)}(u,this.currentUrlTree,t,p,null!=c?c:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=oo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function UF(e){for(let n=0;n<e.length;n++){const t=e[n];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${n}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},VF):!1===r?Object.assign({},BF):r,oo(t))return Cb(this.currentUrlTree,t,i);const o=this.parseUrl(t);return Cb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ta(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);let u,c,p;s?(u=s.resolve,c=s.reject,p=s.promise):p=new Promise((A,L)=>{u=A,c=L});const g=++this.navigationId;let _;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),_=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):_=0,this.setTransition({id:g,targetPageId:_,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:u,reject:c,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new pb(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){df()},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();function aE(e){return"imperative"!==e}let La=(()=>{class e{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new fe,this.subscription=t.events.subscribe(o=>{o instanceof Ta&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,s){if(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:gs(this.skipLocationChange),replaceUrl:gs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gs(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(j(Yn),j(ps),j(ls))},e.\u0275dir=de({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&at("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&vt("target",r.target)("href",r.href,hd)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[En]}),e})();function gs(e){return""===e||!!e}class lE{}class uE{preload(n,t){return Pe(null)}}let cE=(()=>{class e{constructor(t,r,i,o){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new oE(i,r,l=>t.triggerEvent(new gb(l)),l=>t.triggerEvent(new _b(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(qn(t=>t instanceof Ta),Sa(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ui);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children));return rn(i).pipe(Ms(),Oe(o=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Pe(r._loadedConfig):this.loader.load(t.injector,r)).pipe(zt(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(me(Yn),me(uv),me(ln),me(lE))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})(),Qh=(()=>{class e{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Rh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ta&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new mb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){df()},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();const so=new je("ROUTER_CONFIGURATION"),dE=new je("ROUTER_FORROOT_GUARD"),$F=[lh,{provide:Mb,useClass:Ab},{provide:Yn,useFactory:function KF(e,n,t,r,i,o,s={},a,l){const u=new Yn(null,e,n,t,r,i,bb(o));return a&&(u.urlHandlingStrategy=a),l&&(u.routeReuseStrategy=l),function QF(e,n){e.errorHandler&&(n.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(n.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(n.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(n.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(n.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(n.canceledNavigationResolution=e.canceledNavigationResolution)}(s,u),s.enableTracing&&u.events.subscribe(c=>{var p,g;null===(p=console.group)||void 0===p||p.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(g=console.groupEnd)||void 0===g||g.call(console)}),u},deps:[Mb,Pa,lh,ln,uv,Yh,so,[class xF{},new Mi],[class IF{},new Mi]]},Pa,{provide:ps,useFactory:function ZF(e){return e.routerState.root},deps:[Yn]},cE,uE,class GF{preload(n,t){return t().pipe(Fi(()=>Pe(null)))}},{provide:so,useValue:{enableTracing:!1}}];function zF(){return new hv("Router",Yn)}let fE=(()=>{class e{constructor(t,r){}static forRoot(t,r){return{ngModule:e,providers:[$F,hE(t),{provide:dE,useFactory:YF,deps:[[Yn,new Mi,new $s]]},{provide:so,useValue:r||{}},{provide:ls,useFactory:qF,deps:[no,[new Il(ah),new Mi],so]},{provide:Qh,useFactory:WF,deps:[Yn,JR,so]},{provide:lE,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:uE},{provide:hv,multi:!0,useFactory:zF},[Zh,{provide:Wf,multi:!0,useFactory:JF,deps:[Zh]},{provide:pE,useFactory:XF,deps:[Zh]},{provide:lv,multi:!0,useExisting:pE}]]}}static forChild(t){return{ngModule:e,providers:[hE(t)]}}}return e.\u0275fac=function(t){return new(t||e)(me(dE,8),me(Yn,8))},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({}),e})();function WF(e,n,t){return t.scrollOffset&&n.setOffset(t.scrollOffset),new Qh(e,n,t)}function qF(e,n,t={}){return t.useHash?new PI(e,n):new Rv(e,n)}function YF(e){return"guarded"}function hE(e){return[{provide:Ew,multi:!0,useValue:e},{provide:Yh,multi:!0,useValue:e}]}let Zh=(()=>{class e{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fe}appInitializer(){return this.injector.get(OI,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),o=this.injector.get(Yn),s=this.injector.get(so);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Pe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(so),i=this.injector.get(cE),o=this.injector.get(Qh),s=this.injector.get(Yn),a=this.injector.get(uu);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(me(ln))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();function JF(e){return e.appInitializer.bind(e)}function XF(e){return e.bootstrapListener.bind(e)}const pE=new je("Router Initializer");let tk=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pn({type:e,selectors:[["app-home"]],decls:28,vars:0,consts:[[1,"row","g-4","py-5","row-cols-1","row-cols-lg-3"],[1,"feature","col"],["routerLink","/request-response",1,"icon-link"],["width","1em","height","1em",1,"bi"],[0,"xlink","href","#chevron-right"],["href","/request-stream",1,"icon-link"],["href","/fire-and-forget",1,"icon-link"]],template:function(t,r){1&t&&(be(0,"div",0)(1,"div",1)(2,"h2"),kt(3,"Request-Response"),we(),be(4,"p"),kt(5,"RSocket interaction for a request and a single response."),we(),be(6,"a",2),kt(7," See example "),yl(),be(8,"svg",3),li(9,"use",4),we()()(),Wc(),be(10,"div",1)(11,"h2"),kt(12,"Request-Stream"),we(),be(13,"p"),kt(14,"RSocket interaction for a request and a completable stream."),we(),be(15,"a",5),kt(16," See example "),yl(),be(17,"svg",3),li(18,"use",4),we()()(),Wc(),be(19,"div",1)(20,"h2"),kt(21,"Fire-And-Forget"),we(),be(22,"p"),kt(23,"RSocket interaction for a single one-way message."),we(),be(24,"a",6),kt(25," See example "),yl(),be(26,"svg",3),li(27,"use",4),we()()()())},directives:[La],styles:[""]}),e})(),nk=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pn({type:e,selectors:[["app-request-response"]],decls:2,vars:0,template:function(t,r){1&t&&(be(0,"p"),kt(1,"request-response works!"),we())},styles:[""]}),e})();var Jh=T(407),rk=T(674);function ik(e,n){if(1&e&&(be(0,"tr")(1,"td"),kt(2),we(),be(3,"td"),kt(4),we()()),2&e){const t=n.$implicit;ze(2),Zl(t.id),ze(2),Zl(t.content)}}function ok(e,n){if(1&e&&(be(0,"div")(1,"h2"),kt(2,"Request-Stream"),we(),be(3,"div",1)(4,"table",2)(5,"thead")(6,"tr")(7,"th",3),kt(8,"Id"),we(),be(9,"th",3),kt(10,"Content"),we()()(),be(11,"tbody"),Ue(12,ik,5,2,"tr",4),we()()()()),2&e){const t=ct();ze(12),Ze("ngForOf",t.messages)}}const sk=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:tk},{path:"request-response",component:nk},{path:"request-stream",component:(()=>{class e{constructor(){this.messages=[]}ngOnInit(){this.client=new Jh.RSocketClient({serializers:{data:Jh.JsonSerializer,metadata:Jh.IdentitySerializer},setup:{keepAlive:6e4,lifetime:18e4,dataMimeType:"application/cloudevents+json",metadataMimeType:"message/x.rsocket.routing.v0"},transport:new rk.Z({url:"ws://127.0.0.1.nip.io/ws/"})}),this.client.connect().subscribe({onComplete:t=>{t.requestStream({data:null,metadata:this.route("infinite-stream-ce")}).subscribe({onComplete:()=>console.log("complete"),onError:r=>{console.log("Connection has been closed due to: "+r)},onNext:r=>{console.log(r);let i=r.data;"com.thomasvitale.events.Message"===i.type&&this.addMessage(i.data)},onSubscribe:r=>{r.request(1e6)}})},onError:t=>{console.log("RSocket connection refused due to: "+t)},onSubscribe:t=>{}})}ngOnDestroy(){this.client&&this.client.close()}route(t){return String.fromCharCode(t.length)+t}addMessage(t){console.log("Add message:"+JSON.stringify(t)),this.messages=[...this.messages,t]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pn({type:e,selectors:[["app-request-stream"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"table-responsive"],["id","datatable",1,"table","table-centered","table-hover","mb-0"],["scope","col",1,"border-top-0"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&Ue(0,ok,13,1,"div",0),2&t&&Ze("ngIf",r.messages.length>0)},directives:[cs,us],styles:[""]}),e})()},{path:"fire-and-forget",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pn({type:e,selectors:[["app-fire-and-forget"]],decls:2,vars:0,template:function(t,r){1&t&&(be(0,"p"),kt(1,"fire-and-forget works!"),we())},styles:[""]}),e})()}];let ak=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[fE.forRoot(sk,{useHash:!0})],fE]}),e})();const lk=["addListener","removeListener"],uk=["addEventListener","removeEventListener"],ck=["on","off"];function An(e,n,t,r){if(N(t)&&(r=t,t=void 0),r)return An(e,n,t).pipe(Nh(r));const[i,o]=function hk(e){return N(e.addEventListener)&&N(e.removeEventListener)}(e)?uk.map(s=>a=>e[s](n,a,t)):function dk(e){return N(e.addListener)&&N(e.removeListener)}(e)?lk.map(gE(e,n)):function fk(e){return N(e.on)&&N(e.off)}(e)?ck.map(gE(e,n)):[];if(!i&&ve(e))return zt(s=>An(s,n,t))(Pt(e));if(!i)throw new TypeError("Invalid event target");return new Qe(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function gE(e,n){return t=>r=>e[t](n,r)}class pk extends Z{constructor(n,t){super()}schedule(n,t=0){return this}}const $u={setInterval(e,n,...t){const{delegate:r}=$u;return(null==r?void 0:r.setInterval)?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=$u;return((null==n?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0},_E={now:()=>(_E.delegate||Date).now(),delegate:void 0};class Va{constructor(n,t=Va.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}Va.now=_E.now;const mk=new class _k extends Va{constructor(n,t=Va.now){super(n,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class gk extends pk{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){if(this.closed)return this;this.state=n;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(n,t,r=0){return $u.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;$u.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,w(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});const{isArray:vk}=Array;function yE(e){return 1===e.length&&vk(e[0])?e[0]:e}function zu(...e){const n=il(e),t=yE(e);return t.length?new Qe(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<t.length;s++)Pt(t[s]).subscribe(rt(r,a=>{if(i[s].push(a),i.every(l=>l.length)){const l=i.map(u=>u.shift());r.next(n?n(...l):l),i.some((u,c)=>!u.length&&o[c])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):cr}function en(e){return $e((n,t)=>{Pt(e).subscribe(rt(t,()=>t.complete(),M)),!t.closed&&n.subscribe(t)})}function tp(...e){const n=il(e);return $e((t,r)=>{const i=e.length,o=new Array(i);let s=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)Pt(e[l]).subscribe(rt(r,u=>{o[l]=u,!a&&!s[l]&&(s[l]=!0,(a=s.every(it))&&(s=null))},M));t.subscribe(rt(r,l=>{if(a){const u=[l,...o];r.next(n?n(...u):u)}}))})}new Qe(M);let cD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({}),e})(),TL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[cD]]}),e})(),ML=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[TL]}),e})();Math,Math,Math;const VV=["*"],n2=["dialog"];function co(e){return null!=e}function Ds(e){return(e||document.body).getBoundingClientRect()}const $D={animation:!0,transitionTimerDelayMs:5},J2=()=>{},{transitionTimerDelayMs:X2}=$D,Ka=new Map,On=(e,n,t,r)=>{let i=r.context||{};const o=Ka.get(n);if(o)switch(r.runningTransition){case"continue":return cr;case"stop":e.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Ka.delete(n)}const s=t(n,r.animation,i)||J2;if(!r.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>s()),Pe(void 0).pipe(function Q2(e){return n=>new Qe(t=>n.subscribe({next:s=>e.run(()=>t.next(s)),error:s=>e.run(()=>t.error(s)),complete:()=>e.run(()=>t.complete())}))}(e));const a=new fe,l=new fe,u=a.pipe(function Ek(...e){return n=>wa(n,Pe(...e))}(!0));Ka.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const c=function Z2(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const p=An(n,"transitionend").pipe(en(u),qn(({target:_})=>_===n));(function vE(...e){return 1===(e=yE(e)).length?Pt(e[0]):new Qe(function bk(e){return n=>{let t=[];for(let r=0;t&&!n.closed&&r<e.length;r++)t.push(Pt(e[r]).subscribe(rt(n,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}n.next(i)})))}}(e))})(function Xh(e=0,n,t=mk){let r=-1;return null!=n&&(Zp(n)?t=n:r=n),new Qe(i=>{let o=function yk(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(c+X2).pipe(en(u)),p,l).pipe(en(u)).subscribe(()=>{Ka.delete(n),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let sc=(()=>{class e{constructor(){this.animation=$D.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),QD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn]]}),e})(),ZD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn]]}),e})(),XD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({}),e})(),n1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn]]}),e})(),r1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({}),e})();var tn=(()=>{return(e=tn||(tn={}))[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",tn;var e})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const o1=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function s1(e){const n=Array.from(e.querySelectorAll(o1)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let p1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn,ML]]}),e})(),jp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=de({type:e,selectors:[["",8,"navbar"]]}),e})(),m1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({}),e})();class go{constructor(n,t,r){this.nodes=n,this.viewRef=t,this.componentRef=r}}let WB=(()=>{class e{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(an(1)).subscribe(()=>{On(this._zone,this._el.nativeElement,(t,r)=>{r&&Ds(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return On(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(t){return new(t||e)(j(Dt),j(Mt))},e.\u0275cmp=Pn({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(Xi("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Nt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})();class y1{close(n){}dismiss(n){}}class qB{constructor(n,t,r,i){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new fe,this._dismissed=new fe,this._hidden=new fe,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(en(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(en(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Y2(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(r=>{!1!==r&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Pe(void 0);n.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),zu(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Xa=(()=>{return(e=Xa||(Xa={}))[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",Xa;var e})();let YB=(()=>{class e{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new fe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Le,this.shown=new fe,this.hidden=new fe}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(an(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=zu(On(this._zone,t,()=>t.classList.remove("show"),r),On(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const t={animation:this.animation,runningTransition:"continue"};zu(On(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Ds(o),o.classList.add("show")},t),On(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{An(t,"keydown").pipe(en(this._closed$),qn(i=>i.which===tn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Xa.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;An(this._dialogEl.nativeElement,"mousedown").pipe(en(this._closed$),Mn(()=>r=!1),hi(()=>An(t,"mouseup").pipe(en(this._closed$),an(1))),qn(({target:i})=>t===i)).subscribe(()=>{r=!0}),An(t,"click").pipe(en(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Xa.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=s1(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&On(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(t){return new(t||e)(j(un),j(Dt),j(Mt))},e.\u0275cmp=Pn({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&Uf(n2,7),2&t){let i;Ot(i=function It(){return function CO(e,n){return e[19].queries[n].queryList}(ne(),Dg())}())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(vt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Xi("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Nt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:VV,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(function u0(e){const n=ne()[16][6];if(!n.projection){const r=n.projection=Us(e?e.length:1,null),i=r.slice();let o=n.child;for(;null!==o;){const s=e?XM(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),be(0,"div",0,1)(2,"div",2),function c0(e,n=0,t){const r=ne(),i=Xe(),o=Bo(i,20+e,16,null,t||null);null===o.projection&&(o.projection=n),jc(),64!=(64&o.flags)&&function eT(e,n,t){F_(n[11],0,n,t,S_(e,t,n),N_(t.parent||n[6],t,n))}(i,r,o)}(3),we()()),2&t&&Xi("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),e})(),KB=(()=>{class e{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=s),i.overflow=o}}}return e.\u0275fac=function(t){return new(t||e)(me(un))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),QB=(()=>{class e{constructor(t,r,i,o,s,a){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new fe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Le,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=An(n,"focusin").pipe(en(t),Oe(o=>o.target));An(n,"keydown").pipe(en(t),qn(o=>o.which===tn.Tab),tp(i)).subscribe(([o,s])=>{const[a,l]=s1(n);(s===a||s===n)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&An(n,"click").pipe(en(t),tp(i),Oe(o=>o[1])).subscribe(o=>o.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i,o){const s=o.container instanceof HTMLElement?o.container:co(o.container)?this._document.querySelector(o.container):this._document.body,a=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const l=new y1,u=this._getContentRef(t,o.injector||r,i,l,o);let c=!1!==o.backdrop?this._attachBackdrop(t,s):void 0,p=this._attachWindowComponent(t,s,u),g=new qB(p,u,c,o.beforeDismiss);return this._registerModalRef(g),this._registerWindowCmpt(p),g.hidden.pipe(an(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=_=>{g.close(_)},l.dismiss=_=>{g.dismiss(_)},this._applyWindowOptions(p.instance,o),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),c&&c.instance&&(this._applyBackdropOptions(c.instance,o),c.changeDetectorRef.detectChanges()),p.changeDetectorRef.detectChanges(),g}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let o=t.resolveComponentFactory(WB).create(this._injector);return this._applicationRef.attachView(o.hostView),r.appendChild(o.location.nativeElement),o}_attachWindowComponent(t,r,i){let s=t.resolveComponentFactory(YB).create(this._injector,i.nodes);return this._applicationRef.attachView(s.hostView),r.appendChild(s.location.nativeElement),s}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{co(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{co(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,o,s){return i?i instanceof Vt?this._createFromTemplateRef(i,o):function GD(e){return"string"==typeof e}(i)?this._createFromString(i):this._createFromComponent(t,r,i,o,s):new go([])}_createFromTemplateRef(t,r){const o=t.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new go([o.rootNodes],o)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new go([[r]])}_createFromComponent(t,r,i,o,s){const a=t.resolveComponentFactory(i),l=ln.create({providers:[{provide:y1,useValue:o}],parent:r}),u=a.create(l),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new go([[c]],u.hostView,u)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(t){return new(t||e)(me(uu),me(ln),me(un),me(KB),me(Mf),me(Mt))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ZB=(()=>{class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return e.\u0275fac=function(t){return new(t||e)(me(sc))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),JB=(()=>{class e{constructor(t,r,i,o){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=o}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(t){return new(t||e)(me(is),me(ln),me(QB),me(ZB))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),v1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({providers:[JB]}),e})(),C1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn]]}),e})(),I1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn]]}),e})(),P1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn]]}),e})(),x1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn]]}),e})(),F1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn]]}),e})(),k1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn]]}),e})(),L1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn]]}),e})(),V1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({}),e})();new je("live announcer delay",{providedIn:"root",factory:function dU(){return 100}});let B1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[Wn]]}),e})();const fU=[QD,ZD,XD,n1,r1,p1,m1,v1,C1,I1,P1,x1,F1,k1,L1,V1,B1];let hU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[fU,QD,ZD,XD,n1,r1,p1,m1,v1,C1,I1,P1,x1,F1,k1,L1,V1,B1]}),e})(),pU=(()=>{class e{constructor(){this.title="angular-rsocket"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pn({type:e,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","text-light"],[1,"container","pt-3"]],template:function(t,r){1&t&&(be(0,"nav",0)(1,"div",1)(2,"a",2),kt(3,"Angular RSocket"),we()()(),be(4,"div",3),li(5,"router-outlet"),we())},directives:[jp,La,$h],styles:[""]}),e})(),gU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ht({type:e,bootstrap:[pU]}),e.\u0275inj=ut({providers:[],imports:[[TP,ak,hU]]}),e})();(function uI(){yv=!1})(),wP().bootstrapModule(gU).catch(e=>console.error(e))},343:(Be,f)=>{"use strict";f.byteLength=function b(C){var O=I(C),B=O[1];return 3*(O[0]+B)/4-B},f.toByteArray=function R(C){var O,P,E=I(C),B=E[0],x=E[1],W=new m(function F(C,O,E){return 3*(O+E)/4-E}(0,B,x)),ee=0,ae=x>0?B-4:B;for(P=0;P<ae;P+=4)O=N[C.charCodeAt(P)]<<18|N[C.charCodeAt(P+1)]<<12|N[C.charCodeAt(P+2)]<<6|N[C.charCodeAt(P+3)],W[ee++]=O>>16&255,W[ee++]=O>>8&255,W[ee++]=255&O;return 2===x&&(O=N[C.charCodeAt(P)]<<2|N[C.charCodeAt(P+1)]>>4,W[ee++]=255&O),1===x&&(O=N[C.charCodeAt(P)]<<10|N[C.charCodeAt(P+1)]<<4|N[C.charCodeAt(P+2)]>>2,W[ee++]=O>>8&255,W[ee++]=255&O),W},f.fromByteArray=function M(C){for(var O,E=C.length,B=E%3,x=[],W=16383,ee=0,ae=E-B;ee<ae;ee+=W)x.push(Y(C,ee,ee+W>ae?ae:ee+W));return 1===B?x.push(T[(O=C[E-1])>>2]+T[O<<4&63]+"=="):2===B&&x.push(T[(O=(C[E-2]<<8)+C[E-1])>>10]+T[O>>4&63]+T[O<<2&63]+"="),x.join("")};for(var T=[],N=[],m="undefined"!=typeof Uint8Array?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0,Z=k.length;w<Z;++w)T[w]=k[w],N[k.charCodeAt(w)]=w;function I(C){var O=C.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=C.indexOf("=");return-1===E&&(E=O),[E,E===O?0:4-E%4]}function $(C){return T[C>>18&63]+T[C>>12&63]+T[C>>6&63]+T[63&C]}function Y(C,O,E){for(var x=[],W=O;W<E;W+=3)x.push($((C[W]<<16&16711680)+(C[W+1]<<8&65280)+(255&C[W+2])));return x.join("")}N["-".charCodeAt(0)]=62,N["_".charCodeAt(0)]=63},172:(Be,f,T)=>{"use strict";var N=T(343),m=T(461),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;f.Buffer=b,f.SlowBuffer=function W(y){return+y!=y&&(y=0),b.alloc(+y)},f.INSPECT_MAX_BYTES=50;var w=2147483647;function I(y){if(y>w)throw new RangeError('The value "'+y+'" is invalid for option "size"');var d=new Uint8Array(y);return Object.setPrototypeOf(d,b.prototype),d}function b(y,d,h){if("number"==typeof y){if("string"==typeof d)throw new TypeError('The "string" argument must be of type string. Received type number');return Y(y)}return F(y,d,h)}function F(y,d,h){if("string"==typeof y)return function M(y,d){if(("string"!=typeof d||""===d)&&(d="utf8"),!b.isEncoding(d))throw new TypeError("Unknown encoding: "+d);var h=0|ee(y,d),D=I(h),H=D.write(y,d);return H!==h&&(D=D.slice(0,H)),D}(y,d);if(ArrayBuffer.isView(y))return function O(y){if(hn(y,Uint8Array)){var d=new Uint8Array(y);return E(d.buffer,d.byteOffset,d.byteLength)}return C(y)}(y);if(null==y)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(hn(y,ArrayBuffer)||y&&hn(y.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(hn(y,SharedArrayBuffer)||y&&hn(y.buffer,SharedArrayBuffer)))return E(y,d,h);if("number"==typeof y)throw new TypeError('The "value" argument must not be of type number. Received type number');var D=y.valueOf&&y.valueOf();if(null!=D&&D!==y)return b.from(D,d,h);var H=function B(y){if(b.isBuffer(y)){var d=0|x(y.length),h=I(d);return 0===h.length||y.copy(h,0,0,d),h}return void 0!==y.length?"number"!=typeof y.length||Zn(y.length)?I(0):C(y):"Buffer"===y.type&&Array.isArray(y.data)?C(y.data):void 0}(y);if(H)return H;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof y[Symbol.toPrimitive])return b.from(y[Symbol.toPrimitive]("string"),d,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}function R(y){if("number"!=typeof y)throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function Y(y){return R(y),I(y<0?0:0|x(y))}function C(y){for(var d=y.length<0?0:0|x(y.length),h=I(d),D=0;D<d;D+=1)h[D]=255&y[D];return h}function E(y,d,h){if(d<0||y.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<d+(h||0))throw new RangeError('"length" is outside of buffer bounds');var D;return D=void 0===d&&void 0===h?new Uint8Array(y):void 0===h?new Uint8Array(y,d):new Uint8Array(y,d,h),Object.setPrototypeOf(D,b.prototype),D}function x(y){if(y>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|y}function ee(y,d){if(b.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||hn(y,ArrayBuffer))return y.byteLength;if("string"!=typeof y)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);var h=y.length,D=arguments.length>2&&!0===arguments[2];if(!D&&0===h)return 0;for(var H=!1;;)switch(d){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return Oe(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*h;case"hex":return h>>>1;case"base64":return Rr(y).length;default:if(H)return D?-1:Oe(y).length;d=(""+d).toLowerCase(),H=!0}}function ae(y,d,h){var D=!1;if((void 0===d||d<0)&&(d=0),d>this.length||((void 0===h||h>this.length)&&(h=this.length),h<=0)||(h>>>=0)<=(d>>>=0))return"";for(y||(y="utf8");;)switch(y){case"hex":return Or(this,d,h);case"utf8":case"utf-8":return it(this,d,h);case"ascii":return Qe(this,d,h);case"latin1":case"binary":return Ln(this,d,h);case"base64":return xe(this,d,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rn(this,d,h);default:if(D)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),D=!0}}function P(y,d,h){var D=y[d];y[d]=y[h],y[h]=D}function S(y,d,h,D,H){if(0===y.length)return-1;if("string"==typeof h?(D=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),Zn(h=+h)&&(h=H?0:y.length-1),h<0&&(h=y.length+h),h>=y.length){if(H)return-1;h=y.length-1}else if(h<0){if(!H)return-1;h=0}if("string"==typeof d&&(d=b.from(d,D)),b.isBuffer(d))return 0===d.length?-1:G(y,d,h,D,H);if("number"==typeof d)return d&=255,"function"==typeof Uint8Array.prototype.indexOf?H?Uint8Array.prototype.indexOf.call(y,d,h):Uint8Array.prototype.lastIndexOf.call(y,d,h):G(y,[d],h,D,H);throw new TypeError("val must be string, number or Buffer")}function G(y,d,h,D,H){var Se,re=1,oe=y.length,Ye=d.length;if(void 0!==D&&("ucs2"===(D=String(D).toLowerCase())||"ucs-2"===D||"utf16le"===D||"utf-16le"===D)){if(y.length<2||d.length<2)return-1;re=2,oe/=2,Ye/=2,h/=2}function ot(v,V){return 1===re?v[V]:v.readUInt16BE(V*re)}if(H){var _t=-1;for(Se=h;Se<oe;Se++)if(ot(y,Se)===ot(d,-1===_t?0:Se-_t)){if(-1===_t&&(_t=Se),Se-_t+1===Ye)return _t*re}else-1!==_t&&(Se-=Se-_t),_t=-1}else for(h+Ye>oe&&(h=oe-Ye),Se=h;Se>=0;Se--){for(var dt=!0,Vn=0;Vn<Ye;Vn++)if(ot(y,Se+Vn)!==ot(d,Vn)){dt=!1;break}if(dt)return Se}return-1}function z(y,d,h,D){h=Number(h)||0;var H=y.length-h;D?(D=Number(D))>H&&(D=H):D=H;var re=d.length;D>re/2&&(D=re/2);for(var oe=0;oe<D;++oe){var Ye=parseInt(d.substr(2*oe,2),16);if(Zn(Ye))return oe;y[h+oe]=Ye}return oe}function X(y,d,h,D){return Pr(Oe(d,y.length-h),y,h,D)}function te(y,d,h,D){return Pr(function Ir(y){for(var d=[],h=0;h<y.length;++h)d.push(255&y.charCodeAt(h));return d}(d),y,h,D)}function ce(y,d,h,D){return Pr(Rr(d),y,h,D)}function ye(y,d,h,D){return Pr(function Gi(y,d){for(var h,D,re=[],oe=0;oe<y.length&&!((d-=2)<0);++oe)D=(h=y.charCodeAt(oe))>>8,re.push(h%256),re.push(D);return re}(d,y.length-h),y,h,D)}function xe(y,d,h){return N.fromByteArray(0===d&&h===y.length?y:y.slice(d,h))}function it(y,d,h){h=Math.min(y.length,h);for(var D=[],H=d;H<h;){var ot,Se,_t,dt,re=y[H],oe=null,Ye=re>239?4:re>223?3:re>191?2:1;if(H+Ye<=h)switch(Ye){case 1:re<128&&(oe=re);break;case 2:128==(192&(ot=y[H+1]))&&(dt=(31&re)<<6|63&ot)>127&&(oe=dt);break;case 3:Se=y[H+2],128==(192&(ot=y[H+1]))&&128==(192&Se)&&(dt=(15&re)<<12|(63&ot)<<6|63&Se)>2047&&(dt<55296||dt>57343)&&(oe=dt);break;case 4:Se=y[H+2],_t=y[H+3],128==(192&(ot=y[H+1]))&&128==(192&Se)&&128==(192&_t)&&(dt=(15&re)<<18|(63&ot)<<12|(63&Se)<<6|63&_t)>65535&&dt<1114112&&(oe=dt)}null===oe?(oe=65533,Ye=1):oe>65535&&(D.push((oe-=65536)>>>10&1023|55296),oe=56320|1023&oe),D.push(oe),H+=Ye}return function pt(y){var d=y.length;if(d<=4096)return String.fromCharCode.apply(String,y);for(var h="",D=0;D<d;)h+=String.fromCharCode.apply(String,y.slice(D,D+=4096));return h}(D)}function Qe(y,d,h){var D="";h=Math.min(y.length,h);for(var H=d;H<h;++H)D+=String.fromCharCode(127&y[H]);return D}function Ln(y,d,h){var D="";h=Math.min(y.length,h);for(var H=d;H<h;++H)D+=String.fromCharCode(y[H]);return D}function Or(y,d,h){var D=y.length;(!d||d<0)&&(d=0),(!h||h<0||h>D)&&(h=D);for(var H="",re=d;re<h;++re)H+=bi[y[re]];return H}function Rn(y,d,h){for(var D=y.slice(d,h),H="",re=0;re<D.length-1;re+=2)H+=String.fromCharCode(D[re]+256*D[re+1]);return H}function ie(y,d,h){if(y%1!=0||y<0)throw new RangeError("offset is not uint");if(y+d>h)throw new RangeError("Trying to access beyond buffer length")}function fe(y,d,h,D,H,re){if(!b.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>H||d<re)throw new RangeError('"value" argument is out of bounds');if(h+D>y.length)throw new RangeError("Index out of range")}function tt(y,d,h,D,H,re){if(h+D>y.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function gt(y,d,h,D,H){return d=+d,h>>>=0,H||tt(y,0,h,4),m.write(y,d,h,D,23,4),h+4}function $e(y,d,h,D,H){return d=+d,h>>>=0,H||tt(y,0,h,8),m.write(y,d,h,D,52,8),h+8}f.kMaxLength=w,!(b.TYPED_ARRAY_SUPPORT=function Z(){try{var y=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(y,d),42===y.foo()}catch(h){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}}),b.poolSize=8192,b.from=function(y,d,h){return F(y,d,h)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array),b.alloc=function(y,d,h){return function $(y,d,h){return R(y),y<=0?I(y):void 0!==d?"string"==typeof h?I(y).fill(d,h):I(y).fill(d):I(y)}(y,d,h)},b.allocUnsafe=function(y){return Y(y)},b.allocUnsafeSlow=function(y){return Y(y)},b.isBuffer=function(d){return null!=d&&!0===d._isBuffer&&d!==b.prototype},b.compare=function(d,h){if(hn(d,Uint8Array)&&(d=b.from(d,d.offset,d.byteLength)),hn(h,Uint8Array)&&(h=b.from(h,h.offset,h.byteLength)),!b.isBuffer(d)||!b.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===h)return 0;for(var D=d.length,H=h.length,re=0,oe=Math.min(D,H);re<oe;++re)if(d[re]!==h[re]){D=d[re],H=h[re];break}return D<H?-1:H<D?1:0},b.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(d,h){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(0===d.length)return b.alloc(0);var D;if(void 0===h)for(h=0,D=0;D<d.length;++D)h+=d[D].length;var H=b.allocUnsafe(h),re=0;for(D=0;D<d.length;++D){var oe=d[D];if(hn(oe,Uint8Array))re+oe.length>H.length?b.from(oe).copy(H,re):Uint8Array.prototype.set.call(H,oe,re);else{if(!b.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(H,re)}re+=oe.length}return H},b.byteLength=ee,b.prototype._isBuffer=!0,b.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var h=0;h<d;h+=2)P(this,h,h+1);return this},b.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var h=0;h<d;h+=4)P(this,h,h+3),P(this,h+1,h+2);return this},b.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var h=0;h<d;h+=8)P(this,h,h+7),P(this,h+1,h+6),P(this,h+2,h+5),P(this,h+3,h+4);return this},b.prototype.toLocaleString=b.prototype.toString=function(){var d=this.length;return 0===d?"":0===arguments.length?it(this,0,d):ae.apply(this,arguments)},b.prototype.equals=function(d){if(!b.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||0===b.compare(this,d)},b.prototype.inspect=function(){var d="",h=f.INSPECT_MAX_BYTES;return d=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(d+=" ... "),"<Buffer "+d+">"},k&&(b.prototype[k]=b.prototype.inspect),b.prototype.compare=function(d,h,D,H,re){if(hn(d,Uint8Array)&&(d=b.from(d,d.offset,d.byteLength)),!b.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(void 0===h&&(h=0),void 0===D&&(D=d?d.length:0),void 0===H&&(H=0),void 0===re&&(re=this.length),h<0||D>d.length||H<0||re>this.length)throw new RangeError("out of range index");if(H>=re&&h>=D)return 0;if(H>=re)return-1;if(h>=D)return 1;if(this===d)return 0;for(var oe=(re>>>=0)-(H>>>=0),Ye=(D>>>=0)-(h>>>=0),ot=Math.min(oe,Ye),Se=this.slice(H,re),_t=d.slice(h,D),dt=0;dt<ot;++dt)if(Se[dt]!==_t[dt]){oe=Se[dt],Ye=_t[dt];break}return oe<Ye?-1:Ye<oe?1:0},b.prototype.includes=function(d,h,D){return-1!==this.indexOf(d,h,D)},b.prototype.indexOf=function(d,h,D){return S(this,d,h,D,!0)},b.prototype.lastIndexOf=function(d,h,D){return S(this,d,h,D,!1)},b.prototype.write=function(d,h,D,H){if(void 0===h)H="utf8",D=this.length,h=0;else if(void 0===D&&"string"==typeof h)H=h,D=this.length,h=0;else{if(!isFinite(h))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");h>>>=0,isFinite(D)?(D>>>=0,void 0===H&&(H="utf8")):(H=D,D=void 0)}var re=this.length-h;if((void 0===D||D>re)&&(D=re),d.length>0&&(D<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");for(var oe=!1;;)switch(H){case"hex":return z(this,d,h,D);case"utf8":case"utf-8":return X(this,d,h,D);case"ascii":case"latin1":case"binary":return te(this,d,h,D);case"base64":return ce(this,d,h,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,d,h,D);default:if(oe)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),oe=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},b.prototype.slice=function(d,h){var D=this.length;(d=~~d)<0?(d+=D)<0&&(d=0):d>D&&(d=D),(h=void 0===h?D:~~h)<0?(h+=D)<0&&(h=0):h>D&&(h=D),h<d&&(h=d);var H=this.subarray(d,h);return Object.setPrototypeOf(H,b.prototype),H},b.prototype.readUintLE=b.prototype.readUIntLE=function(d,h,D){d>>>=0,h>>>=0,D||ie(d,h,this.length);for(var H=this[d],re=1,oe=0;++oe<h&&(re*=256);)H+=this[d+oe]*re;return H},b.prototype.readUintBE=b.prototype.readUIntBE=function(d,h,D){d>>>=0,h>>>=0,D||ie(d,h,this.length);for(var H=this[d+--h],re=1;h>0&&(re*=256);)H+=this[d+--h]*re;return H},b.prototype.readUint8=b.prototype.readUInt8=function(d,h){return d>>>=0,h||ie(d,1,this.length),this[d]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(d,h){return d>>>=0,h||ie(d,2,this.length),this[d]|this[d+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(d,h){return d>>>=0,h||ie(d,2,this.length),this[d]<<8|this[d+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(d,h){return d>>>=0,h||ie(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(d,h){return d>>>=0,h||ie(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},b.prototype.readIntLE=function(d,h,D){d>>>=0,h>>>=0,D||ie(d,h,this.length);for(var H=this[d],re=1,oe=0;++oe<h&&(re*=256);)H+=this[d+oe]*re;return H>=(re*=128)&&(H-=Math.pow(2,8*h)),H},b.prototype.readIntBE=function(d,h,D){d>>>=0,h>>>=0,D||ie(d,h,this.length);for(var H=h,re=1,oe=this[d+--H];H>0&&(re*=256);)oe+=this[d+--H]*re;return oe>=(re*=128)&&(oe-=Math.pow(2,8*h)),oe},b.prototype.readInt8=function(d,h){return d>>>=0,h||ie(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},b.prototype.readInt16LE=function(d,h){d>>>=0,h||ie(d,2,this.length);var D=this[d]|this[d+1]<<8;return 32768&D?4294901760|D:D},b.prototype.readInt16BE=function(d,h){d>>>=0,h||ie(d,2,this.length);var D=this[d+1]|this[d]<<8;return 32768&D?4294901760|D:D},b.prototype.readInt32LE=function(d,h){return d>>>=0,h||ie(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},b.prototype.readInt32BE=function(d,h){return d>>>=0,h||ie(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},b.prototype.readFloatLE=function(d,h){return d>>>=0,h||ie(d,4,this.length),m.read(this,d,!0,23,4)},b.prototype.readFloatBE=function(d,h){return d>>>=0,h||ie(d,4,this.length),m.read(this,d,!1,23,4)},b.prototype.readDoubleLE=function(d,h){return d>>>=0,h||ie(d,8,this.length),m.read(this,d,!0,52,8)},b.prototype.readDoubleBE=function(d,h){return d>>>=0,h||ie(d,8,this.length),m.read(this,d,!1,52,8)},b.prototype.writeUintLE=b.prototype.writeUIntLE=function(d,h,D,H){d=+d,h>>>=0,D>>>=0,H||fe(this,d,h,D,Math.pow(2,8*D)-1,0);var oe=1,Ye=0;for(this[h]=255&d;++Ye<D&&(oe*=256);)this[h+Ye]=d/oe&255;return h+D},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(d,h,D,H){d=+d,h>>>=0,D>>>=0,H||fe(this,d,h,D,Math.pow(2,8*D)-1,0);var oe=D-1,Ye=1;for(this[h+oe]=255&d;--oe>=0&&(Ye*=256);)this[h+oe]=d/Ye&255;return h+D},b.prototype.writeUint8=b.prototype.writeUInt8=function(d,h,D){return d=+d,h>>>=0,D||fe(this,d,h,1,255,0),this[h]=255&d,h+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(d,h,D){return d=+d,h>>>=0,D||fe(this,d,h,2,65535,0),this[h]=255&d,this[h+1]=d>>>8,h+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(d,h,D){return d=+d,h>>>=0,D||fe(this,d,h,2,65535,0),this[h]=d>>>8,this[h+1]=255&d,h+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(d,h,D){return d=+d,h>>>=0,D||fe(this,d,h,4,4294967295,0),this[h+3]=d>>>24,this[h+2]=d>>>16,this[h+1]=d>>>8,this[h]=255&d,h+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(d,h,D){return d=+d,h>>>=0,D||fe(this,d,h,4,4294967295,0),this[h]=d>>>24,this[h+1]=d>>>16,this[h+2]=d>>>8,this[h+3]=255&d,h+4},b.prototype.writeIntLE=function(d,h,D,H){if(d=+d,h>>>=0,!H){var re=Math.pow(2,8*D-1);fe(this,d,h,D,re-1,-re)}var oe=0,Ye=1,ot=0;for(this[h]=255&d;++oe<D&&(Ye*=256);)d<0&&0===ot&&0!==this[h+oe-1]&&(ot=1),this[h+oe]=(d/Ye>>0)-ot&255;return h+D},b.prototype.writeIntBE=function(d,h,D,H){if(d=+d,h>>>=0,!H){var re=Math.pow(2,8*D-1);fe(this,d,h,D,re-1,-re)}var oe=D-1,Ye=1,ot=0;for(this[h+oe]=255&d;--oe>=0&&(Ye*=256);)d<0&&0===ot&&0!==this[h+oe+1]&&(ot=1),this[h+oe]=(d/Ye>>0)-ot&255;return h+D},b.prototype.writeInt8=function(d,h,D){return d=+d,h>>>=0,D||fe(this,d,h,1,127,-128),d<0&&(d=255+d+1),this[h]=255&d,h+1},b.prototype.writeInt16LE=function(d,h,D){return d=+d,h>>>=0,D||fe(this,d,h,2,32767,-32768),this[h]=255&d,this[h+1]=d>>>8,h+2},b.prototype.writeInt16BE=function(d,h,D){return d=+d,h>>>=0,D||fe(this,d,h,2,32767,-32768),this[h]=d>>>8,this[h+1]=255&d,h+2},b.prototype.writeInt32LE=function(d,h,D){return d=+d,h>>>=0,D||fe(this,d,h,4,2147483647,-2147483648),this[h]=255&d,this[h+1]=d>>>8,this[h+2]=d>>>16,this[h+3]=d>>>24,h+4},b.prototype.writeInt32BE=function(d,h,D){return d=+d,h>>>=0,D||fe(this,d,h,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[h]=d>>>24,this[h+1]=d>>>16,this[h+2]=d>>>8,this[h+3]=255&d,h+4},b.prototype.writeFloatLE=function(d,h,D){return gt(this,d,h,!0,D)},b.prototype.writeFloatBE=function(d,h,D){return gt(this,d,h,!1,D)},b.prototype.writeDoubleLE=function(d,h,D){return $e(this,d,h,!0,D)},b.prototype.writeDoubleBE=function(d,h,D){return $e(this,d,h,!1,D)},b.prototype.copy=function(d,h,D,H){if(!b.isBuffer(d))throw new TypeError("argument should be a Buffer");if(D||(D=0),!H&&0!==H&&(H=this.length),h>=d.length&&(h=d.length),h||(h=0),H>0&&H<D&&(H=D),H===D||0===d.length||0===this.length)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),d.length-h<H-D&&(H=d.length-h+D);var re=H-D;return this===d&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(h,D,H):Uint8Array.prototype.set.call(d,this.subarray(D,H),h),re},b.prototype.fill=function(d,h,D,H){if("string"==typeof d){if("string"==typeof h?(H=h,h=0,D=this.length):"string"==typeof D&&(H=D,D=this.length),void 0!==H&&"string"!=typeof H)throw new TypeError("encoding must be a string");if("string"==typeof H&&!b.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(1===d.length){var re=d.charCodeAt(0);("utf8"===H&&re<128||"latin1"===H)&&(d=re)}}else"number"==typeof d?d&=255:"boolean"==typeof d&&(d=Number(d));if(h<0||this.length<h||this.length<D)throw new RangeError("Out of range index");if(D<=h)return this;var oe;if(h>>>=0,D=void 0===D?this.length:D>>>0,d||(d=0),"number"==typeof d)for(oe=h;oe<D;++oe)this[oe]=d;else{var Ye=b.isBuffer(d)?d:b.from(d,H),ot=Ye.length;if(0===ot)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(oe=0;oe<D-h;++oe)this[oe+h]=Ye[oe%ot]}return this};var rt=/[^+/0-9A-Za-z-_]/g;function Oe(y,d){d=d||1/0;for(var h,D=y.length,H=null,re=[],oe=0;oe<D;++oe){if((h=y.charCodeAt(oe))>55295&&h<57344){if(!H){if(h>56319){(d-=3)>-1&&re.push(239,191,189);continue}if(oe+1===D){(d-=3)>-1&&re.push(239,191,189);continue}H=h;continue}if(h<56320){(d-=3)>-1&&re.push(239,191,189),H=h;continue}h=65536+(H-55296<<10|h-56320)}else H&&(d-=3)>-1&&re.push(239,191,189);if(H=null,h<128){if((d-=1)<0)break;re.push(h)}else if(h<2048){if((d-=2)<0)break;re.push(h>>6|192,63&h|128)}else if(h<65536){if((d-=3)<0)break;re.push(h>>12|224,h>>6&63|128,63&h|128)}else{if(!(h<1114112))throw new Error("Invalid code point");if((d-=4)<0)break;re.push(h>>18|240,h>>12&63|128,h>>6&63|128,63&h|128)}}return re}function Rr(y){return N.toByteArray(function Jr(y){if((y=(y=y.split("=")[0]).trim().replace(rt,"")).length<2)return"";for(;y.length%4!=0;)y+="=";return y}(y))}function Pr(y,d,h,D){for(var H=0;H<D&&!(H+h>=d.length||H>=y.length);++H)d[H+h]=y[H];return H}function hn(y,d){return y instanceof d||null!=y&&null!=y.constructor&&null!=y.constructor.name&&y.constructor.name===d.name}function Zn(y){return y!=y}var bi=function(){for(var y="0123456789abcdef",d=new Array(256),h=0;h<16;++h)for(var D=16*h,H=0;H<16;++H)d[D+H]=y[h]+y[H];return d}()},461:(Be,f)=>{f.read=function(T,N,m,k,w){var Z,I,b=8*w-k-1,F=(1<<b)-1,R=F>>1,$=-7,Y=m?w-1:0,M=m?-1:1,C=T[N+Y];for(Y+=M,Z=C&(1<<-$)-1,C>>=-$,$+=b;$>0;Z=256*Z+T[N+Y],Y+=M,$-=8);for(I=Z&(1<<-$)-1,Z>>=-$,$+=k;$>0;I=256*I+T[N+Y],Y+=M,$-=8);if(0===Z)Z=1-R;else{if(Z===F)return I?NaN:1/0*(C?-1:1);I+=Math.pow(2,k),Z-=R}return(C?-1:1)*I*Math.pow(2,Z-k)},f.write=function(T,N,m,k,w,Z){var I,b,F,R=8*Z-w-1,$=(1<<R)-1,Y=$>>1,M=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,C=k?0:Z-1,O=k?1:-1,E=N<0||0===N&&1/N<0?1:0;for(N=Math.abs(N),isNaN(N)||N===1/0?(b=isNaN(N)?1:0,I=$):(I=Math.floor(Math.log(N)/Math.LN2),N*(F=Math.pow(2,-I))<1&&(I--,F*=2),(N+=I+Y>=1?M/F:M*Math.pow(2,1-Y))*F>=2&&(I++,F/=2),I+Y>=$?(b=0,I=$):I+Y>=1?(b=(N*F-1)*Math.pow(2,w),I+=Y):(b=N*Math.pow(2,Y-1)*Math.pow(2,w),I=0));w>=8;T[m+C]=255&b,C+=O,b/=256,w-=8);for(I=I<<w|b,R+=w;R>0;T[m+C]=255&I,C+=O,I/=256,R-=8);T[m+C-O]|=128*E}},849:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.encodeWellKnownAuthMetadata=function Y(x,W){if(x===k.UNPARSEABLE_AUTH_TYPE||x===k.UNKNOWN_RESERVED_AUTH_TYPE)throw new Error(`Illegal WellKnownAuthType[${x.toString()}]. Only allowed AuthType should be used`);const ee=(0,m.createBuffer)(1);return ee.writeUInt8(128|x.identifier),N.LiteBuffer.concat([ee,W])},f.encodeCustomAuthMetadata=function M(x,W){const ee=(0,m.toBuffer)(x);if(ee.byteLength!==x.length)throw new Error("Custom auth type must be US_ASCII characters only");if(ee.byteLength<1||ee.byteLength>128)throw new Error("Custom auth type must have a strictly positive length that fits on 7 unsigned bits, ie 1-128");const ae=(0,m.createBuffer)(1+ee.byteLength);return ae.writeUInt8(ee.byteLength-1),ae.write(x,1),N.LiteBuffer.concat([ae,W])},f.encodeSimpleAuthMetadata=function C(x,W){const ee=(0,m.toBuffer)(x),ae=(0,m.toBuffer)(W),P=ee.byteLength;if(P>65535)throw new Error(`Username should be shorter than or equal to 65535 bytes length in UTF-8 encoding but the given was ${P}`);const G=(0,m.createBuffer)(3);return G.writeUInt8(128|k.SIMPLE.identifier),G.writeUInt16BE(P,1),N.LiteBuffer.concat([G,ee,ae])},f.encodeBearerAuthMetadata=function O(x){const W=(0,m.toBuffer)(x),ee=(0,m.createBuffer)(1);return ee.writeUInt8(128|k.BEARER.identifier),N.LiteBuffer.concat([ee,W])},f.decodeAuthMetadata=function E(x){if(x.byteLength<1)throw new Error("Unable to decode Auth metadata. Not enough readable bytes");const W=x.readUInt8(),ee=127&W;if(ee!==W){const ae=k.default.fromIdentifier(ee);return{payload:x.slice(1),type:{identifier:ae.identifier,string:ae.string}}}{const ae=W+1;if(x.byteLength<ae+1)throw new Error("Unable to decode custom Auth type. Malformed length or auth type string");const P=x.toString("utf8",1,1+ae);return{payload:x.slice(ae+1),type:{identifier:k.UNPARSEABLE_AUTH_TYPE.identifier,string:P}}}},f.decodeSimpleAuthPayload=function B(x){if(x.byteLength<2)throw new Error("Unable to decode Simple Auth Payload. Not enough readable bytes");const W=x.readUInt16BE();if(x.byteLength<W+2)throw new Error("Unable to decode Simple Auth Payload. Not enough readable bytes");const ee=x.slice(2,2+W);return{password:x.slice(2+W),username:ee}};var N=T(618),m=T(297),k=function Z(x){if(x&&x.__esModule)return x;if(null===x||"object"!=typeof x&&"function"!=typeof x)return{default:x};var W=w();if(W&&W.has(x))return W.get(x);var ee={},ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in x)if(Object.prototype.hasOwnProperty.call(x,P)){var S=ae?Object.getOwnPropertyDescriptor(x,P):null;S&&(S.get||S.set)?Object.defineProperty(ee,P,S):ee[P]=x[P]}return ee.default=x,W&&W.set(x,ee),ee}(T(8));function w(){if("function"!=typeof WeakMap)return null;var x=new WeakMap;return w=function(){return x},x}},856:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.encodeCompositeMetadata=function b(z){let X=(0,m.createBuffer)(0);for(const[te,ce]of z){const ye="function"==typeof ce?ce():ce;X=te instanceof k.default||"number"==typeof te||"WellKnownMimeType"===te.constructor.name?R(X,te,ye):F(X,te,ye)}return X},f.encodeAndAddCustomMetadata=F,f.encodeAndAddWellKnownMetadata=R,f.decodeMimeAndContentBuffersSlices=$,f.decodeMimeTypeFromMimeBuffer=Y,f.encodeCustomMetadataHeader=M,f.encodeWellKnownMetadataHeader=C,f.decodeCompositeMetadata=O,f.WellKnownMimeTypeEntry=f.ReservedMimeTypeEntry=f.ExplicitMimeTimeEntry=f.CompositeMetadata=void 0;var N=T(618),m=T(297),k=function Z(z){if(z&&z.__esModule)return z;if(null===z||"object"!=typeof z&&"function"!=typeof z)return{default:z};var X=w();if(X&&X.has(z))return X.get(z);var te={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ye in z)if(Object.prototype.hasOwnProperty.call(z,ye)){var xe=ce?Object.getOwnPropertyDescriptor(z,ye):null;xe&&(xe.get||xe.set)?Object.defineProperty(te,ye,xe):te[ye]=z[ye]}return te.default=z,X&&X.set(z,te),te}(T(296));function w(){if("function"!=typeof WeakMap)return null;var z=new WeakMap;return w=function(){return z},z}class I{constructor(X){this._buffer=X}iterator(){return O(this._buffer)}[Symbol.iterator](){return O(this._buffer)}}function F(z,X,te){return N.LiteBuffer.concat([z,M(X,te.byteLength),te])}function R(z,X,te){let ce;return ce=Number.isInteger(X)?X:X.identifier,N.LiteBuffer.concat([z,C(ce,te.byteLength),te])}function $(z,X){const te=z.readInt8(X);let ce,ye=X;if((te&P)===P)ce=z.slice(ye,ye+1),ye+=1;else{const xe=1+(255&te);if(!(z.byteLength>ye+xe))throw new Error("Metadata is malformed. Inappropriately formed Mime Length");ce=z.slice(ye,ye+xe+1),ye+=xe+1}if(z.byteLength>=ye+3){const xe=(0,m.readUInt24BE)(z,ye);if(ye+=3,z.byteLength>=xe+ye)return[ce,z.slice(ye,ye+xe)];throw new Error("Metadata is malformed. Inappropriately formed Metadata Length or malformed content")}throw new Error("Metadata is malformed. Metadata Length is absent or malformed")}function Y(z){if(z.length<2)throw new Error("Unable to decode explicit MIME type");return z.toString("ascii",1)}function M(z,X){const te=(0,m.createBuffer)(4+z.length),ce=te.write(z,1);if(!function G(z,X){let te=!0;for(let ce=X,ye=z.length;ce<ye;ce++)if(z[ce]>127){te=!1;break}return te}(te,1))throw new Error("Custom mime type must be US_ASCII characters only");if(ce<1||ce>128)throw new Error("Custom mime type must have a strictly positive length that fits on 7 unsigned bits, ie 1-128");return te.writeUInt8(ce-1),(0,m.writeUInt24BE)(te,X,ce+1),te}function C(z,X){const te=N.LiteBuffer.alloc(4);return te.writeUInt8(z|P),(0,m.writeUInt24BE)(te,X,1),te}function*O(z){const X=z.byteLength;let te=0;for(;te<X;){const ce=$(z,te),ye=ce[0],xe=ce[1];if(te=ee(te,ye,xe),!ae(ye)){const pt=Y(ye);if(!pt)throw new Error("MIME type cannot be null");yield new E(xe,pt);continue}const it=W(ye),nn=k.default.fromIdentifier(it);k.UNKNOWN_RESERVED_MIME_TYPE!==nn?yield new x(xe,nn):yield new B(xe,it)}}f.CompositeMetadata=I;class E{constructor(X,te){this._content=X,this._type=te}get content(){return this._content}get mimeType(){return this._type}}f.ExplicitMimeTimeEntry=E;class B{constructor(X,te){this._content=X,this._type=te}get content(){return this._content}get mimeType(){}get type(){return this._type}}f.ReservedMimeTypeEntry=B;class x{constructor(X,te){this._content=X,this._type=te}get content(){return this._content}get mimeType(){return this._type.string}get type(){return this._type}}function W(z){return ae(z)?z.readInt8()&S:k.UNPARSEABLE_MIME_TYPE.identifier}function ee(z,X,te){return z+X.byteLength+3+te.byteLength}function ae(z){return 1===z.byteLength}f.WellKnownMimeTypeEntry=x;const P=128,S=127},586:Be=>{"use strict";Be.exports=function f(T,N,...m){if(!T){let k;if(void 0===N)k=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let w=0;k=new Error(N.replace(/%s/g,()=>String(m[w++]))),k.name="Invariant Violation"}throw k.framesToPop=1,k}}},618:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.LiteBuffer=f.Buffer=void 0;var N=function m(P){return P&&P.__esModule?P:{default:P}}(T(172));const k="undefined"!=typeof global&&global.hasOwnProperty("Buffer"),w=N.default.hasOwnProperty("Buffer");function I(P){return null==P||"utf8"===P||"utf-8"===P?"utf8":function F(P){switch(P.length){case 4:if("UTF8"===P)return"utf8";if("ucs2"===P||"UCS2"===P)return"utf16le";if("utf8"===(P=`${P}`.toLowerCase()))return"utf8";if("ucs2"===P)return"utf16le";break;case 3:if("hex"===P||"HEX"===P||"hex"===`${P}`.toLowerCase())return"hex";break;case 5:if("ascii"===P)return"ascii";if("ucs-2"===P)return"utf16le";if("UTF-8"===P)return"utf8";if("ASCII"===P)return"ascii";if("UCS-2"===P)return"utf16le";if("utf-8"===(P=`${P}`.toLowerCase()))return"utf8";if("ascii"===P)return"ascii";if("ucs-2"===P)return"utf16le";break;case 6:if("base64"===P)return"base64";if("latin1"===P||"binary"===P)return"latin1";if("BASE64"===P)return"base64";if("LATIN1"===P||"BINARY"===P)return"latin1";if("base64"===(P=`${P}`.toLowerCase()))return"base64";if("latin1"===P||"binary"===P)return"latin1";break;case 7:if("utf16le"===P||"UTF16LE"===P||"utf16le"===`${P}`.toLowerCase())return"utf16le";break;case 8:if("utf-16le"===P||"UTF-16LE"===P||"utf-16le"===`${P}`.toLowerCase())return"utf16le";break;default:if(""===P)return"utf8"}}(P)}function b(P,S){return P instanceof S||null!=P&&null!=P.constructor&&null!=P.constructor.name&&P.constructor.name===S.name}const R=["base64","hex","ascii","binary","latin1","ucs2","utf16le"];function $(P="utf8",S=!0){if("string"!=typeof P||S&&""===P){if(!S)return"utf8";throw new TypeError(`Unknown encoding: ${P}`)}const G=I(P);if(void 0===G)throw new TypeError(`Unknown encoding: ${P}`);return R.includes(P)&&function Z(P){throw new Error(P?`Not implemented: ${P}`:"Not implemented")}(`"${P}" encoding`),G}const Y={ascii:{byteLength:P=>P.length},base64:{byteLength:P=>function M(P,S){return 61===P.charCodeAt(S-1)&&S--,S>1&&61===P.charCodeAt(S-1)&&S--,3*S>>>2}(P,P.length)},hex:{byteLength:P=>P.length>>>1},latin1:{byteLength:P=>P.length},ucs2:{byteLength:P=>2*P.length},utf16le:{byteLength:P=>2*P.length},utf8:{byteLength:P=>E(P).length}};function E(P,S=1/0){let z,G=S;const X=P.length;let te=null;const ce=[];for(let ye=0;ye<X;++ye){if(z=P.charCodeAt(ye),z>55295&&z<57344){if(!te){if(z>56319){(G-=3)>-1&&ce.push(239,191,189);continue}if(ye+1===X){(G-=3)>-1&&ce.push(239,191,189);continue}te=z;continue}if(z<56320){(G-=3)>-1&&ce.push(239,191,189),te=z;continue}z=65536+(te-55296<<10|z-56320)}else te&&(G-=3)>-1&&ce.push(239,191,189);if(te=null,z<128){if((G-=1)<0)break;ce.push(z)}else if(z<2048){if((G-=2)<0)break;ce.push(z>>6|192,63&z|128)}else if(z<65536){if((G-=3)<0)break;ce.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(z<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;ce.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return ce}class ee extends Uint8Array{constructor(S,G,z){"number"==typeof S?super(S):super(S,G||0,z||(b(S,Array)?S.length:S.byteLength))}static alloc(S,G=0,z="utf8"){if("number"!=typeof S)throw new TypeError('The "size" argument must be of type number. Received type '+typeof S);const X=new ee(S);if(0===S)return X;let te;if("string"==typeof G)z=$(z),1===G.length&&"utf8"===z?X.fill(G.charCodeAt(0)):te=ee.from(G,z);else if("number"==typeof G)X.fill(G);else if(b(G,Uint8Array)){if(0===G.length)throw new TypeError(`The argument "value" is invalid. Received ${G.constructor.name} []`);te=G}if(te){te.length>X.length&&(te=te.subarray(0,X.length));let ce=0;for(;ce<S&&(X.set(te,ce),ce+=te.length,!(ce+te.length>=S)););ce!==S&&X.set(te.subarray(0,S-ce),ce)}return X}static allocUnsafe(S){return new ee(S)}static byteLength(S,G="utf8"){return"string"!=typeof S?S.byteLength:(G=I(G)||"utf8",Y[G].byteLength(S))}static concat(S,G){if(null==G){G=0;for(const te of S)G+=te.length}const z=new ee(G);let X=0;for(const te of S)z.set(te,X),X+=te.length;return z}static from(S,G,z){const X="string"==typeof G?void 0:G;let te="string"==typeof G?G:void 0;if("string"==typeof S||"String"===S.constructor.name){if("utf8"===(S=S.toString(),te=$(te,!1),te))return"undefined"!=typeof TextEncoder?new ee((new TextEncoder).encode(S).buffer):new ee(E(S));throw new TypeError("Unknown encoding: "+te)}return new ee(S,X,z)}static isBuffer(S){return b(S,ee)||!k&&w&&b(S,Uint8Array)}static isEncoding(S){return"string"==typeof S&&0!==S.length&&void 0!==I(S)}copy(S,G=0,z=0,X=this.length){const te=this.subarray(z,X);return S.set(te,G),te.length}equals(S){if(!b(S,Uint8Array))throw new TypeError('The "otherBuffer" argument must be an instance of Buffer or Uint8Array. Received type '+typeof S);if(this===S)return!0;if(this.byteLength!==S.byteLength)return!1;for(let G=0;G<this.length;G++)if(this[G]!==S[G])return!1;return!0}readDoubleBE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat64(S)}readDoubleLE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat64(S,!0)}readFloatBE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat32(S)}readFloatLE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat32(S,!0)}readInt8(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt8(S)}readInt16BE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt16(S)}readInt16LE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt16(S,!0)}readInt32BE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt32(S)}readInt32LE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt32(S,!0)}readUInt8(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint8(S)}readUInt16BE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint16(S)}readUInt16LE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint16(S,!0)}readUInt32BE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint32(S)}readUInt32LE(S=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint32(S,!0)}slice(S=0,G=this.length){return this.subarray(S,G)}subarray(S=0,G=this.length){return new ee(super.subarray(S,G))}toJSON(){return{data:Array.from(this),type:"Buffer"}}toString(S="utf8",G=0,z=this.length){if(S=$(S),"undefined"!=typeof TextDecoder){const X=this.subarray(G,z);return(new TextDecoder).decode(X)}return this.slowToString(S,G,z)}slowToString(S="utf8",G=0,z=this.length){if((void 0===G||G<0)&&(G=0),G>this.length||((void 0===z||z>this.length)&&(z=this.length),z<=0)||(z>>>=0)<=(G>>>=0))return"";if("utf8"===(S=$(S)))return function B(P,S,G){G=Math.min(P.length,G);const z=[];let X=S;for(;X<G;){const te=P[X];let ce=null,ye=te>239?4:te>223?3:te>191?2:1;if(X+ye<=G){let xe,it,nn,pt;switch(ye){case 1:te<128&&(ce=te);break;case 2:xe=P[X+1],128==(192&xe)&&(pt=(31&te)<<6|63&xe,pt>127&&(ce=pt));break;case 3:xe=P[X+1],it=P[X+2],128==(192&xe)&&128==(192&it)&&(pt=(15&te)<<12|(63&xe)<<6|63&it,pt>2047&&(pt<55296||pt>57343)&&(ce=pt));break;case 4:xe=P[X+1],it=P[X+2],nn=P[X+3],128==(192&xe)&&128==(192&it)&&128==(192&nn)&&(pt=(15&te)<<18|(63&xe)<<12|(63&it)<<6|63&nn,pt>65535&&pt<1114112&&(ce=pt))}}null===ce?(ce=65533,ye=1):ce>65535&&(ce-=65536,z.push(ce>>>10&1023|55296),ce=56320|1023&ce),z.push(ce),X+=ye}return function O(P){const S=P.length;if(S<=4096)return String.fromCharCode.apply(String,P);let G="",z=0;for(;z<S;)G+=String.fromCharCode.apply(String,P.slice(z,z+=4096));return G}(z)}(this,G,z);throw new TypeError("Unsupported encoding: "+S)}write(S,G=0,z=this.length,X="utf8"){if("utf8"===(X=$(X))){if("undefined"!=typeof TextEncoder){const te=(new TextEncoder).encode(S);return this.set(te,G),te.byteLength>z-G?z-G:te.byteLength}return function x(P,S,G,z){return function W(P,S,G,z){let X=0;for(;X<z&&!(X+G>=S.length||X>=P.length);++X)S[X+G]=P[X];return X}(E(S,P.length-G),P,G,z)}(this,S,G,z)}throw new TypeError("Unknown encoding: "+X)}writeDoubleBE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat64(G,S),G+8}writeDoubleLE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat64(G,S,!0),G+8}writeFloatBE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat32(G,S),G+4}writeFloatLE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat32(G,S,!0),G+4}writeInt8(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt8(G,S),G+1}writeInt16BE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt16(G,S),G+2}writeInt16LE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt16(G,S,!0),G+2}writeInt32BE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint32(G,S),G+4}writeInt32LE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt32(G,S,!0),G+4}writeUInt8(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint8(G,S),G+1}writeUInt16BE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint16(G,S),G+2}writeUInt16LE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint16(G,S,!0),G+2}writeUInt32BE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint32(G,S),G+4}writeUInt32LE(S,G=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint32(G,S,!0),G+4}}f.Buffer=ee,k||(w&&Object.defineProperty(N.default,"Buffer",{configurable:!0,enumerable:!1,value:ee,writable:!0}),Object.defineProperty(window,"Buffer",{configurable:!0,enumerable:!1,value:ee,writable:!0}));const ae=k?global.Buffer:ee;f.LiteBuffer=ae},446:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.deserializeFrameWithLength=function F(v,V){const J=(0,w.readUInt24BE)(v,0);return Y(v.slice(3,3+J),V)},f.deserializeFrames=function R(v,V){const J=[];let K=0;for(;K+3<v.length;){const se=K+3,ve=se+(0,w.readUInt24BE)(v,K);if(ve>v.length)break;const Bt=Y(v.slice(se,ve),V);J.push(Bt),K=ve}return[J,v.slice(K,v.length)]},f.serializeFrameWithLength=function $(v,V){const J=M(v,V),K=(0,w.createBuffer)(J.length+3);return(0,w.writeUInt24BE)(K,J.length,0),J.copy(K,3,0,J.length),K},f.deserializeFrame=Y,f.serializeFrame=M,f.sizeOfFrame=function C(v,V){switch(V=V||k.Utf8Encoders,v.type){case m.FRAME_TYPES.SETUP:return function x(v,V){const J=null!=v.resumeToken?V.resumeToken.byteLength(v.resumeToken):0;return 20+(J?2+J:0)+(null!=v.metadataMimeType?V.metadataMimeType.byteLength(v.metadataMimeType):0)+(null!=v.dataMimeType?V.dataMimeType.byteLength(v.dataMimeType):0)+_t(v,V)}(v,V);case m.FRAME_TYPES.PAYLOAD:return function bi(v,V){return 6+_t(v,V)}(v,V);case m.FRAME_TYPES.ERROR:return function P(v,V){return 10+(null!=v.message?V.message.byteLength(v.message):0)}(v,V);case m.FRAME_TYPES.KEEPALIVE:return function X(v,V){return 14+(null!=v.data?V.data.byteLength(v.data):0)}(v,V);case m.FRAME_TYPES.REQUEST_FNF:case m.FRAME_TYPES.REQUEST_RESPONSE:return function pt(v,V){return 6+_t(v,V)}(v,V);case m.FRAME_TYPES.REQUEST_STREAM:case m.FRAME_TYPES.REQUEST_CHANNEL:return function gt(v,V){return 10+_t(v,V)}(v,V);case m.FRAME_TYPES.METADATA_PUSH:return function Ln(v,V){return 6+(null!=v.metadata?V.metadata.byteLength(v.metadata):0)}(v,V);case m.FRAME_TYPES.REQUEST_N:return 10;case m.FRAME_TYPES.RESUME:return function D(v,V){return 28+V.resumeToken.byteLength(v.resumeToken)}(v,V);case m.FRAME_TYPES.RESUME_OK:return 14;case m.FRAME_TYPES.CANCEL:return 6;case m.FRAME_TYPES.LEASE:return function xe(v,V){return 14+(null!=v.metadata?V.metadata.byteLength(v.metadata):0)}(v,V);default:(0,N.default)(!1,"RSocketBinaryFraming: Unsupported frame type `%s`.",(0,m.getFrameTypeName)(v.type))}};var N=function Z(v){return v&&v.__esModule?v:{default:v}}(T(586)),m=T(511),k=T(830),w=T(297);function Y(v,V){V=V||k.Utf8Encoders;let J=0;const K=v.readInt32BE(J);J+=4,(0,N.default)(K>=0,"RSocketBinaryFraming: Invalid frame, expected a positive stream id, got `%s.",K);const le=v.readUInt16BE(J);J+=2;const se=le>>>m.FRAME_TYPE_OFFFSET,ve=le&m.FLAGS_MASK;switch(se){case m.FRAME_TYPES.SETUP:return function W(v,V,J,K){(0,N.default)(0===V,"RSocketBinaryFraming: Invalid SETUP frame, expected stream id to be 0.");const le=v.length;let se=6;const ve=v.readUInt16BE(se);se+=2;const Ce=v.readUInt16BE(se);se+=2;const Bt=v.readInt32BE(se);se+=4,(0,N.default)(Bt>=0&&Bt<=m.MAX_KEEPALIVE,"RSocketBinaryFraming: Invalid SETUP frame, expected keepAlive to be >= 0 and <= %s. Got `%s`.",m.MAX_KEEPALIVE,Bt);const Xr=v.readInt32BE(se);se+=4,(0,N.default)(Xr>=0&&Xr<=m.MAX_LIFETIME,"RSocketBinaryFraming: Invalid SETUP frame, expected lifetime to be >= 0 and <= %s. Got `%s`.",m.MAX_LIFETIME,Xr);let $i=null;if(J&m.FLAGS.RESUME_ENABLE){const Pt=v.readInt16BE(se);se+=2,(0,N.default)(Pt>=0&&Pt<=m.MAX_RESUME_LENGTH,"RSocketBinaryFraming: Invalid SETUP frame, expected resumeToken length to be >= 0 and <= %s. Got `%s`.",m.MAX_RESUME_LENGTH,Pt),$i=K.resumeToken.decode(v,se,se+Pt),se+=Pt}const vo=v.readUInt8(se);se+=1;const nl=K.metadataMimeType.decode(v,se,se+vo);se+=vo;const Ss=v.readUInt8(se);se+=1;const rl=K.dataMimeType.decode(v,se,se+Ss);se+=Ss;const Ts={data:null,dataMimeType:rl,flags:J,keepAlive:Bt,length:le,lifetime:Xr,majorVersion:ve,metadata:null,metadataMimeType:nl,minorVersion:Ce,resumeToken:$i,streamId:V,type:m.FRAME_TYPES.SETUP};return Vn(v,Ts,K,se),Ts}(v,K,ve,V);case m.FRAME_TYPES.PAYLOAD:return function y(v,V,J,K){(0,N.default)(V>0,"RSocketBinaryFraming: Invalid PAYLOAD frame, expected stream id to be > 0.");const se={data:null,flags:J,length:v.length,metadata:null,streamId:V,type:m.FRAME_TYPES.PAYLOAD};return Vn(v,se,K,6),se}(v,K,ve,V);case m.FRAME_TYPES.ERROR:return function S(v,V,J,K){const le=v.length;let se=6;const ve=v.readInt32BE(se);se+=4,(0,N.default)(ve>=0&&ve<=m.MAX_CODE,"RSocketBinaryFraming: Invalid ERROR frame, expected code to be >= 0 and <= %s. Got `%s`.",m.MAX_CODE,ve);const Ce=v.length-se;let Bt="";return Ce>0&&(Bt=K.message.decode(v,se,se+Ce),se+=Ce),{code:ve,flags:J,length:le,message:Bt,streamId:V,type:m.FRAME_TYPES.ERROR}}(v,K,ve,V);case m.FRAME_TYPES.KEEPALIVE:return function te(v,V,J,K){(0,N.default)(0===V,"RSocketBinaryFraming: Invalid KEEPALIVE frame, expected stream id to be 0.");const le=v.length;let se=6;const ve=(0,w.readUInt64BE)(v,se);se+=8;let Ce=null;return se<v.length&&(Ce=K.data.decode(v,se,v.length)),{data:Ce,flags:J,lastReceivedPosition:ve,length:le,streamId:V,type:m.FRAME_TYPES.KEEPALIVE}}(v,K,ve,V);case m.FRAME_TYPES.REQUEST_FNF:return function Or(v,V,J,K){(0,N.default)(V>0,"RSocketBinaryFraming: Invalid REQUEST_FNF frame, expected stream id to be > 0.");const se={data:null,flags:J,length:v.length,metadata:null,streamId:V,type:m.FRAME_TYPES.REQUEST_FNF};return Vn(v,se,K,6),se}(v,K,ve,V);case m.FRAME_TYPES.REQUEST_RESPONSE:return function Rn(v,V,J,K){(0,N.default)(V>0,"RSocketBinaryFraming: Invalid REQUEST_RESPONSE frame, expected stream id to be > 0.");const se={data:null,flags:J,length:v.length,metadata:null,streamId:V,type:m.FRAME_TYPES.REQUEST_RESPONSE};return Vn(v,se,K,6),se}(v,K,ve,V);case m.FRAME_TYPES.REQUEST_STREAM:return function $e(v,V,J,K){(0,N.default)(V>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected stream id to be > 0.");const le=v.length;let se=6;const ve=v.readInt32BE(se);se+=4,(0,N.default)(ve>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected requestN to be > 0, got `%s`.",ve);const Ce={data:null,flags:J,length:le,metadata:null,requestN:ve,streamId:V,type:m.FRAME_TYPES.REQUEST_STREAM};return Vn(v,Ce,K,se),Ce}(v,K,ve,V);case m.FRAME_TYPES.REQUEST_CHANNEL:return function rt(v,V,J,K){(0,N.default)(V>0,"RSocketBinaryFraming: Invalid REQUEST_CHANNEL frame, expected stream id to be > 0.");const le=v.length;let se=6;const ve=v.readInt32BE(se);se+=4,(0,N.default)(ve>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected requestN to be > 0, got `%s`.",ve);const Ce={data:null,flags:J,length:le,metadata:null,requestN:ve,streamId:V,type:m.FRAME_TYPES.REQUEST_CHANNEL};return Vn(v,Ce,K,se),Ce}(v,K,ve,V);case m.FRAME_TYPES.METADATA_PUSH:return function ie(v,V,J,K){(0,N.default)(0===V,"RSocketBinaryFraming: Invalid METADATA_PUSH frame, expected stream id to be 0.");const le=v.length;return{flags:J,length:le,metadata:6===le?null:K.metadata.decode(v,6,le),streamId:V,type:m.FRAME_TYPES.METADATA_PUSH}}(v,K,ve,V);case m.FRAME_TYPES.REQUEST_N:return function Gi(v,V,J,K){(0,N.default)(V>0,"RSocketBinaryFraming: Invalid REQUEST_N frame, expected stream id to be > 0.");const le=v.length,se=v.readInt32BE(6);return(0,N.default)(se>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected requestN to be > 0, got `%s`.",se),{flags:J,length:le,requestN:se,streamId:V,type:m.FRAME_TYPES.REQUEST_N}}(v,K,ve);case m.FRAME_TYPES.RESUME:return function H(v,V,J,K){(0,N.default)(0===V,"RSocketBinaryFraming: Invalid RESUME frame, expected stream id to be 0.");const le=v.length;let se=6;const ve=v.readUInt16BE(se);se+=2;const Ce=v.readUInt16BE(se);se+=2;const Bt=v.readInt16BE(se);se+=2,(0,N.default)(Bt>=0&&Bt<=m.MAX_RESUME_LENGTH,"RSocketBinaryFraming: Invalid SETUP frame, expected resumeToken length to be >= 0 and <= %s. Got `%s`.",m.MAX_RESUME_LENGTH,Bt);const Xr=K.resumeToken.decode(v,se,se+Bt);se+=Bt;const $i=(0,w.readUInt64BE)(v,se);se+=8;const vo=(0,w.readUInt64BE)(v,se);return se+=8,{clientPosition:vo,flags:J,length:le,majorVersion:ve,minorVersion:Ce,resumeToken:Xr,serverPosition:$i,streamId:V,type:m.FRAME_TYPES.RESUME}}(v,K,ve,V);case m.FRAME_TYPES.RESUME_OK:return function ot(v,V,J,K){(0,N.default)(0===V,"RSocketBinaryFraming: Invalid RESUME frame, expected stream id to be 0.");const le=v.length;return{clientPosition:(0,w.readUInt64BE)(v,6),flags:J,length:le,streamId:V,type:m.FRAME_TYPES.RESUME_OK}}(v,K,ve);case m.FRAME_TYPES.CANCEL:return function hn(v,V,J,K){return(0,N.default)(V>0,"RSocketBinaryFraming: Invalid CANCEL frame, expected stream id to be > 0."),{flags:J,length:v.length,streamId:V,type:m.FRAME_TYPES.CANCEL}}(v,K,ve);case m.FRAME_TYPES.LEASE:return function it(v,V,J,K){(0,N.default)(0===V,"RSocketBinaryFraming: Invalid LEASE frame, expected stream id to be 0.");const le=v.length;let se=6;const ve=v.readUInt32BE(se);se+=4;const Ce=v.readUInt32BE(se);se+=4;let Bt=null;return se<v.length&&(Bt=K.metadata.decode(v,se,v.length)),{flags:J,length:le,metadata:Bt,requestCount:Ce,streamId:V,ttl:ve,type:m.FRAME_TYPES.LEASE}}(v,K,ve,V);default:(0,N.default)(!1,"RSocketBinaryFraming: Unsupported frame type `%s`.",(0,m.getFrameTypeName)(se))}}function M(v,V){switch(V=V||k.Utf8Encoders,v.type){case m.FRAME_TYPES.SETUP:return function B(v,V){const J=null!=v.resumeToken?V.resumeToken.byteLength(v.resumeToken):0,K=null!=v.metadataMimeType?V.metadataMimeType.byteLength(v.metadataMimeType):0,le=null!=v.dataMimeType?V.dataMimeType.byteLength(v.dataMimeType):0,se=_t(v,V),ve=(0,w.createBuffer)(20+(J?2+J:0)+K+le+se);let Ce=Se(v,ve);return Ce=ve.writeUInt16BE(v.majorVersion,Ce),Ce=ve.writeUInt16BE(v.minorVersion,Ce),Ce=ve.writeUInt32BE(v.keepAlive,Ce),Ce=ve.writeUInt32BE(v.lifetime,Ce),v.flags&m.FLAGS.RESUME_ENABLE&&(Ce=ve.writeUInt16BE(J,Ce),null!=v.resumeToken&&(Ce=V.resumeToken.encode(v.resumeToken,ve,Ce,Ce+J))),Ce=ve.writeUInt8(K,Ce),null!=v.metadataMimeType&&(Ce=V.metadataMimeType.encode(v.metadataMimeType,ve,Ce,Ce+K)),Ce=ve.writeUInt8(le,Ce),null!=v.dataMimeType&&(Ce=V.dataMimeType.encode(v.dataMimeType,ve,Ce,Ce+le)),dt(v,ve,V,Ce),ve}(v,V);case m.FRAME_TYPES.PAYLOAD:return function Zn(v,V){const J=_t(v,V),K=(0,w.createBuffer)(6+J);return dt(v,K,V,Se(v,K)),K}(v,V);case m.FRAME_TYPES.ERROR:return function ae(v,V){const J=null!=v.message?V.message.byteLength(v.message):0,K=(0,w.createBuffer)(10+J);let le=Se(v,K);return le=K.writeUInt32BE(v.code,le),null!=v.message&&V.message.encode(v.message,K,le,le+J),K}(v,V);case m.FRAME_TYPES.KEEPALIVE:return function z(v,V){const J=null!=v.data?V.data.byteLength(v.data):0,K=(0,w.createBuffer)(14+J);let le=Se(v,K);return le=(0,w.writeUInt64BE)(K,v.lastReceivedPosition,le),null!=v.data&&V.data.encode(v.data,K,le,le+J),K}(v,V);case m.FRAME_TYPES.REQUEST_FNF:case m.FRAME_TYPES.REQUEST_RESPONSE:return function nn(v,V){const J=_t(v,V),K=(0,w.createBuffer)(6+J);return dt(v,K,V,Se(v,K)),K}(v,V);case m.FRAME_TYPES.REQUEST_STREAM:case m.FRAME_TYPES.REQUEST_CHANNEL:return function tt(v,V){const J=_t(v,V),K=(0,w.createBuffer)(10+J);let le=Se(v,K);return le=K.writeUInt32BE(v.requestN,le),dt(v,K,V,le),K}(v,V);case m.FRAME_TYPES.METADATA_PUSH:return function Qe(v,V){const J=v.metadata;if(null!=J){const K=(0,w.createBuffer)(6+V.metadata.byteLength(J)),le=Se(v,K);return V.metadata.encode(J,K,le,K.length),K}{const K=(0,w.createBuffer)(6);return Se(v,K),K}}(v,V);case m.FRAME_TYPES.REQUEST_N:return function Oe(v,V){const J=(0,w.createBuffer)(10),K=Se(v,J);return J.writeUInt32BE(v.requestN,K),J}(v);case m.FRAME_TYPES.RESUME:return function h(v,V){const J=V.resumeToken.byteLength(v.resumeToken),K=(0,w.createBuffer)(28+J);let le=Se(v,K);return le=K.writeUInt16BE(v.majorVersion,le),le=K.writeUInt16BE(v.minorVersion,le),le=K.writeUInt16BE(J,le),le=V.resumeToken.encode(v.resumeToken,K,le,le+J),le=(0,w.writeUInt64BE)(K,v.serverPosition,le),(0,w.writeUInt64BE)(K,v.clientPosition,le),K}(v,V);case m.FRAME_TYPES.RESUME_OK:return function oe(v,V){const J=(0,w.createBuffer)(14),K=Se(v,J);return(0,w.writeUInt64BE)(J,v.clientPosition,K),J}(v);case m.FRAME_TYPES.CANCEL:return function Rr(v,V){const J=(0,w.createBuffer)(6);return Se(v,J),J}(v);case m.FRAME_TYPES.LEASE:return function ye(v,V){const J=null!=v.metadata?V.metadata.byteLength(v.metadata):0,K=(0,w.createBuffer)(14+J);let le=Se(v,K);return le=K.writeUInt32BE(v.ttl,le),le=K.writeUInt32BE(v.requestCount,le),null!=v.metadata&&V.metadata.encode(v.metadata,K,le,le+J),K}(v,V);default:(0,N.default)(!1,"RSocketBinaryFraming: Unsupported frame type `%s`.",(0,m.getFrameTypeName)(v.type))}}function Se(v,V){const J=V.writeInt32BE(v.streamId,0);return V.writeUInt16BE(v.type<<m.FRAME_TYPE_OFFFSET|v.flags&m.FLAGS_MASK,J)}function _t(v,V){let J=0;return null!=v.data&&(J+=V.data.byteLength(v.data)),(0,m.isMetadata)(v.flags)&&(J+=3,null!=v.metadata&&(J+=V.metadata.byteLength(v.metadata))),J}function dt(v,V,J,K){if((0,m.isMetadata)(v.flags))if(null!=v.metadata){const le=J.metadata.byteLength(v.metadata);K=(0,w.writeUInt24BE)(V,le,K),K=J.metadata.encode(v.metadata,V,K,K+le)}else K=(0,w.writeUInt24BE)(V,0,K);null!=v.data&&J.data.encode(v.data,V,K,V.length)}function Vn(v,V,J,K){if((0,m.isMetadata)(V.flags)){const le=(0,w.readUInt24BE)(v,K);K+=3,le>0&&(V.metadata=J.metadata.decode(v,K,K+le),K+=le)}K<v.length&&(V.data=J.data.decode(v,K,v.length))}},297:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.readUInt24BE=function k($,Y){return $.readUInt8(Y)<<16|$.readUInt8(Y+1)<<8|$.readUInt8(Y+2)},f.writeUInt24BE=function w($,Y,M){return M=$.writeUInt8(Y>>>16,M),M=$.writeUInt8(Y>>>8&255,M),$.writeUInt8(255&Y,M)},f.readUInt64BE=function Z($,Y){const M=$.readUInt32BE(Y),C=$.readUInt32BE(Y+4);return M*m+C},f.writeUInt64BE=function I($,Y,M){const O=Y%m;return M=$.writeUInt32BE(Y/m|0,M),$.writeUInt32BE(O,M)},f.byteLength=function b($,Y){return null==$?0:N.LiteBuffer.byteLength($,Y)},f.createBuffer=f.toBuffer=void 0;var N=T(618);const m=4294967296;f.toBuffer="function"==typeof N.LiteBuffer.from?(...$)=>$[0]instanceof N.LiteBuffer?$[0]:N.LiteBuffer.from.apply(N.LiteBuffer,$):(...$)=>$[0]instanceof N.LiteBuffer?$[0]:new(N.LiteBuffer.bind.apply(N.LiteBuffer,[N.LiteBuffer,...$])),f.createBuffer="function"==typeof N.LiteBuffer.alloc?$=>N.LiteBuffer.alloc($):$=>new N.LiteBuffer($).fill(0)},937:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var N=T(962),m=function R(M){return M&&M.__esModule?M:{default:M}}(T(586)),k=T(511),w=T(602),Z=T(718),I=T(438),b=T(377),F=T(209);f.default=class ${constructor(C){this._checkConfig(C),this._cancel=null,this._config=C,this._connection=null,this._socket=null}close(){this._config.transport.close()}connect(){return(0,m.default)(!this._connection,"RSocketClient: Unexpected call to connect(), already connected."),this._connection=new N.Single(C=>{const O=this._config.transport;let E;O.connectionStatus().subscribe({onNext:B=>{"CONNECTED"===B.kind?(E&&E.cancel(),C.onComplete(new Y(this._config,new F.ReassemblyDuplexConnection(O)))):"ERROR"===B.kind?(E&&E.cancel(),C.onError(B.error)):"CLOSED"===B.kind&&(E&&E.cancel(),C.onError(new Error("RSocketClient: Connection closed.")))},onSubscribe:B=>{E=B,C.onSubscribe(()=>{B.cancel(),O.close()}),E.request(Number.MAX_SAFE_INTEGER)}}),O.connect()}),this._connection}_checkConfig(C){const O=C.setup,E=O&&O.keepAlive;try{const B=window&&window.navigator;E>3e4&&B&&B.userAgent&&(B.userAgent.includes("Trident")||B.userAgent.includes("Edg"))&&console.warn("rsocket-js: Due to a browser bug, Internet Explorer and Edge users may experience WebSocket instability with keepAlive values longer than 30 seconds.")}catch(B){}}};class Y{constructor(C,O){let E,B;const x=C.leases;if(x){const P=x();E=new I.RequesterLeaseHandler(P._receiver),B=new I.ResponderLeaseHandler(P._sender,P._stats)}const{keepAlive:W,lifetime:ee}=C.setup;this._machine=(0,Z.createClientMachine)(O,P=>O.receive().subscribe(P),ee,C.serializers,C.responder,C.errorHandler,E,B),O.sendOne(this._buildSetupFrame(C));const ae=(0,N.every)(W).map(()=>({data:null,flags:k.FLAGS.RESPOND,lastReceivedPosition:0,streamId:k.CONNECTION_STREAM_ID,type:k.FRAME_TYPES.KEEPALIVE}));O.send(ae)}fireAndForget(C){this._machine.fireAndForget(C)}requestResponse(C){return this._machine.requestResponse(C)}requestStream(C){return this._machine.requestStream(C)}requestChannel(C){return this._machine.requestChannel(C)}metadataPush(C){return this._machine.metadataPush(C)}close(){this._machine.close()}connectionStatus(){return this._machine.connectionStatus()}availability(){return this._machine.availability()}_buildSetupFrame(C){const{dataMimeType:O,keepAlive:E,lifetime:B,metadataMimeType:x,payload:W}=C.setup,ee=C.serializers||b.IdentitySerializers,ae=W?ee.data.serialize(W.data):void 0,P=W?ee.metadata.serialize(W.metadata):void 0;let S=0;return void 0!==P&&(S|=k.FLAGS.METADATA),{data:ae,dataMimeType:O,flags:S|(C.leases?k.FLAGS.LEASE:0),keepAlive:E,lifetime:B,majorVersion:w.MAJOR_VERSION,metadata:P,metadataMimeType:x,minorVersion:w.MINOR_VERSION,resumeToken:null,streamId:k.CONNECTION_STREAM_ID,type:k.FRAME_TYPES.SETUP}}}},830:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.BufferEncoders=f.Utf8Encoders=f.BufferEncoder=f.UTF8Encoder=void 0;var N=T(297),m=function k(F){return F&&F.__esModule?F:{default:F}}(T(586));const w={byteLength:F=>(0,N.byteLength)(F,"utf8"),decode:(F,R,$)=>F.toString("utf8",R,$),encode:(F,R,$,Y)=>((0,m.default)("string"==typeof F,"RSocketEncoding: Expected value to be a string, got `%s`.",F),R.write(F,$,Y-$,"utf8"),Y)};f.UTF8Encoder=w;const Z={byteLength:F=>((0,m.default)(Buffer.isBuffer(F),"RSocketEncoding: Expected value to be a buffer, got `%s`.",F),F.length),decode:(F,R,$)=>F.slice(R,$),encode:(F,R,$,Y)=>((0,m.default)(Buffer.isBuffer(F),"RSocketEncoding: Expected value to be a buffer, got `%s`.",F),F.copy(R,$,0,F.length),Y)};f.BufferEncoder=Z,f.Utf8Encoders={data:w,dataMimeType:w,message:w,metadata:w,metadataMimeType:w,resumeToken:w},f.BufferEncoders={data:Z,dataMimeType:w,message:w,metadata:Z,metadataMimeType:w,resumeToken:Z}},511:(Be,f)=>{"use strict";function T(ie,fe){var tt=Object.keys(ie);if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(ie);fe&&(gt=gt.filter(function($e){return Object.getOwnPropertyDescriptor(ie,$e).enumerable})),tt.push.apply(tt,gt)}return tt}function m(ie,fe,tt){return fe in ie?Object.defineProperty(ie,fe,{value:tt,enumerable:!0,configurable:!0,writable:!0}):ie[fe]=tt,ie}Object.defineProperty(f,"__esModule",{value:!0}),f.isIgnore=function S(ie){return(ie&I.IGNORE)===I.IGNORE},f.isMetadata=function G(ie){return(ie&I.METADATA)===I.METADATA},f.isComplete=function z(ie){return(ie&I.COMPLETE)===I.COMPLETE},f.isNext=function X(ie){return(ie&I.NEXT)===I.NEXT},f.isRespond=function te(ie){return(ie&I.RESPOND)===I.RESPOND},f.isResumeEnable=function ce(ie){return(ie&I.RESUME_ENABLE)===I.RESUME_ENABLE},f.isLease=function ye(ie){return(ie&I.LEASE)===I.LEASE},f.isFollows=function xe(ie){return(ie&I.FOLLOWS)===I.FOLLOWS},f.isResumePositionFrameType=function it(ie){return ie===w.CANCEL||ie===w.ERROR||ie===w.PAYLOAD||ie===w.REQUEST_CHANNEL||ie===w.REQUEST_FNF||ie===w.REQUEST_RESPONSE||ie===w.REQUEST_STREAM||ie===w.REQUEST_N},f.getFrameTypeName=nn,f.createErrorFromFrame=function Qe(ie){const{code:fe,message:tt}=ie,gt=Ln(fe),$e=new Error(function pt(ie,...fe){let tt=0;return ie.replace(/%s/g,gt=>fe[tt++])}("RSocket error %s (%s): %s. See error `source` property for details.",Rn(fe),gt,tt));return $e.source={code:fe,explanation:gt,message:tt},$e},f.getErrorCodeExplanation=Ln,f.printFrame=function Or(ie){const fe=function N(ie){for(var fe=1;fe<arguments.length;fe++){var tt=null!=arguments[fe]?arguments[fe]:{};fe%2?T(Object(tt),!0).forEach(function(gt){m(ie,gt,tt[gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(tt)):T(Object(tt)).forEach(function(gt){Object.defineProperty(ie,gt,Object.getOwnPropertyDescriptor(tt,gt))})}return ie}({},ie);fe.type=nn(ie.type)+` (${Rn(ie.type)})`;const tt=[];for(const gt in I){const $e=I[gt];(ie.flags&$e)===$e&&tt.push(gt)}return tt.length||tt.push("NO FLAGS"),fe.flags=tt.join(" | ")+` (${Rn(ie.flags)})`,ie.type===w.ERROR&&(fe.code=Ln(ie.code)+` (${Rn(ie.code)})`),JSON.stringify(fe,null,2)},f.MAX_VERSION=f.MAX_TTL=f.MAX_STREAM_ID=f.MAX_RESUME_LENGTH=f.MAX_REQUEST_N=f.MAX_REQUEST_COUNT=f.MAX_MIME_LENGTH=f.MAX_METADATA_LENGTH=f.MAX_LIFETIME=f.MAX_KEEPALIVE=f.MAX_CODE=f.FRAME_TYPE_OFFFSET=f.FLAGS_MASK=f.ERROR_EXPLANATIONS=f.ERROR_CODES=f.FLAGS=f.FRAME_TYPE_NAMES=f.FRAME_TYPES=f.CONNECTION_STREAM_ID=void 0,f.CONNECTION_STREAM_ID=0;const w={CANCEL:9,ERROR:11,EXT:63,KEEPALIVE:3,LEASE:2,METADATA_PUSH:12,PAYLOAD:10,REQUEST_CHANNEL:7,REQUEST_FNF:5,REQUEST_N:8,REQUEST_RESPONSE:4,REQUEST_STREAM:6,RESERVED:0,RESUME:13,RESUME_OK:14,SETUP:1};f.FRAME_TYPES=w;const Z={};f.FRAME_TYPE_NAMES=Z;for(const ie in w)Z[w[ie]]=ie;const I={COMPLETE:64,FOLLOWS:128,IGNORE:512,LEASE:64,METADATA:256,NEXT:32,RESPOND:128,RESUME_ENABLE:128};f.FLAGS=I;const b={APPLICATION_ERROR:513,CANCELED:515,CONNECTION_CLOSE:258,CONNECTION_ERROR:257,INVALID:516,INVALID_SETUP:1,REJECTED:514,REJECTED_RESUME:4,REJECTED_SETUP:3,RESERVED:0,RESERVED_EXTENSION:4294967295,UNSUPPORTED_SETUP:2};f.ERROR_CODES=b;const F={};f.ERROR_EXPLANATIONS=F;for(const ie in b)F[b[ie]]=ie;function nn(ie){const fe=Z[ie];return null!=fe?fe:Rn(ie)}function Ln(ie){const fe=F[ie];return null!=fe?fe:ie<=768?"RESERVED (PROTOCOL)":"RESERVED (APPLICATION)"}function Rn(ie){return"0x"+ie.toString(16)}f.FLAGS_MASK=1023,f.FRAME_TYPE_OFFFSET=10,f.MAX_CODE=2147483647,f.MAX_KEEPALIVE=2147483647,f.MAX_LIFETIME=2147483647,f.MAX_METADATA_LENGTH=16777215,f.MAX_MIME_LENGTH=255,f.MAX_REQUEST_COUNT=2147483647,f.MAX_REQUEST_N=2147483647,f.MAX_RESUME_LENGTH=65535,f.MAX_STREAM_ID=2147483647,f.MAX_TTL=2147483647,f.MAX_VERSION=65535},438:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ResponderLeaseHandler=f.RequesterLeaseHandler=f.Leases=f.Lease=void 0;var N=function w(Y){return Y&&Y.__esModule?Y:{default:Y}}(T(586)),m=T(962),k=T(511);function Z(Y,M,C){return M in Y?Object.defineProperty(Y,M,{value:C,enumerable:!0,configurable:!0,writable:!0}):Y[M]=C,Y}class I{constructor(M,C,O){(0,N.default)(M>0,"Lease time-to-live must be positive"),(0,N.default)(C>0,"Lease allowed requests must be positive"),this.timeToLiveMillis=M,this.allowedRequests=C,this.startingAllowedRequests=C,this.expiry=Date.now()+M,this.metadata=O}expired(){return Date.now()>this.expiry}valid(){return this.allowedRequests>0&&!this.expired()}_use(){if(this.expired())return!1;const M=this.allowedRequests,C=M>0;return C&&(this.allowedRequests=M-1),C}}function $(Y){if(!Y)return"Lease was not received yet";if(Y.valid())return"Missing leases";{const M=Y.expired(),C=Y.allowedRequests;return`Missing leases. Expired: ${M.toString()}, allowedRequests: ${C}`}}f.Lease=I,f.Leases=class b{constructor(){Z(this,"_sender",()=>m.Flowable.never()),Z(this,"_receiver",M=>{})}sender(M){return this._sender=M,this}receiver(M){return this._receiver=M,this}stats(M){return this._stats=M,this}},f.RequesterLeaseHandler=class F{constructor(M){Z(this,"_requestN",-1),M(new m.Flowable(C=>{this._subscriber?C.onError(new Error("only 1 subscriber is allowed")):this.isDisposed()?C.onComplete():(this._subscriber=C,C.onSubscribe({cancel:()=>{this.dispose()},request:O=>{if(O<=0&&C.onError(new Error(`request demand must be positive: ${O}`)),!this.isDisposed()){const E=this._requestN;this._onRequestN(E),this._requestN=Math.min(Number.MAX_SAFE_INTEGER,Math.max(0,E)+O)}}}))}))}use(){const M=this._lease;return!!M&&M._use()}errorMessage(){return $(this._lease)}receive(M){this.isDisposed()||this._onLease(new I(M.ttl,M.requestCount,M.metadata))}availability(){const M=this._lease;return M&&M.valid()?M.allowedRequests/M.startingAllowedRequests:0}dispose(){if(!this._isDisposed){this._isDisposed=!0;const M=this._subscriber;M&&M.onComplete()}}isDisposed(){return this._isDisposed}_onRequestN(M){const C=this._lease,O=this._subscriber;M<0&&C&&O&&O.onNext(C)}_onLease(M){const C=this._subscriber,O=this._requestN-1;O>=0&&C&&C.onNext(M),this._requestN=Math.max(-1,O),this._lease=M}},f.ResponderLeaseHandler=class R{constructor(M,C,O){this._leaseSender=M,this._stats=C,this._errorConsumer=O}use(){const M=this._lease,C=!!M&&M._use();return this._onStatsEvent(C),C}errorMessage(){return $(this._lease)}send(M){let C,O;return this._leaseSender(this._stats).subscribe({onComplete:()=>this._onStatsEvent(),onError:E=>{this._onStatsEvent();const B=this._errorConsumer;B&&B(E)},onNext:E=>{this._lease=E,M(E)},onSubscribe:E=>{O?E.cancel():(E.request(k.MAX_REQUEST_N),C=E)}}),{dispose(){O||(O=!0,this._onStatsEvent(),C&&C.cancel())},isDisposed:()=>O}}_onStatsEvent(M){const C=this._stats;C&&C.onEvent(void 0===M?"Terminate":M?"Accept":"Reject")}}},718:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.createServerMachine=function R(O,E,B,x,W,ee,ae){return new Y("SERVER",O,E,B,x,void 0,W,ee,ae)},f.createClientMachine=function $(O,E,B,x,W,ee,ae,P){return new Y("CLIENT",O,E,B,x,W,ee,ae,P)};var N=T(962),m=T(511),k=T(377);function Z(O,E){var B=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);E&&(x=x.filter(function(W){return Object.getOwnPropertyDescriptor(O,W).enumerable})),B.push.apply(B,x)}return B}function I(O){for(var E=1;E<arguments.length;E++){var B=null!=arguments[E]?arguments[E]:{};E%2?Z(Object(B),!0).forEach(function(x){b(O,x,B[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(B)):Z(Object(B)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(B,x))})}return O}function b(O,E,B){return E in O?Object.defineProperty(O,E,{value:B,enumerable:!0,configurable:!0,writable:!0}):O[E]=B,O}T(438);class F{constructor(E){this._responder=E||{}}setResponder(E){this._responder=E||{}}fireAndForget(E){if(this._responder.fireAndForget)try{this._responder.fireAndForget(E)}catch(B){console.error("fireAndForget threw an exception",B)}}requestResponse(E){let B;if(this._responder.requestResponse)try{return this._responder.requestResponse(E)}catch(x){console.error("requestResponse threw an exception",x),B=x}return N.Single.error(B||new Error("not implemented"))}requestStream(E){let B;if(this._responder.requestStream)try{return this._responder.requestStream(E)}catch(x){console.error("requestStream threw an exception",x),B=x}return N.Flowable.error(B||new Error("not implemented"))}requestChannel(E){let B;if(this._responder.requestChannel)try{return this._responder.requestChannel(E)}catch(x){console.error("requestChannel threw an exception",x),B=x}return N.Flowable.error(B||new Error("not implemented"))}metadataPush(E){let B;if(this._responder.metadataPush)try{return this._responder.metadataPush(E)}catch(x){console.error("metadataPush threw an exception",x),B=x}return N.Single.error(B||new Error("not implemented"))}}class Y{constructor(E,B,x,W,ee,ae,P,S,G){b(this,"_connectionAvailability",1),b(this,"_handleTransportClose",()=>{this._handleError(new Error("RSocket: The connection was closed."))}),b(this,"_handleError",ce=>{this._receivers.forEach(xe=>{xe.onError(ce)}),this._receivers.clear(),this._subscriptions.forEach(xe=>{xe.cancel()}),this._subscriptions.clear(),this._connectionAvailability=0,this._dispose(this._requesterLeaseHandler,this._responderLeaseSenderDisposable);const ye=this._keepAliveTimerHandle;ye&&(clearTimeout(ye),this._keepAliveTimerHandle=null)}),b(this,"_handleFrame",ce=>{const{streamId:ye}=ce;ye===m.CONNECTION_STREAM_ID?this._handleConnectionFrame(ce):this._handleStreamFrame(ye,ce)}),this._connection=B,this._requesterLeaseHandler=S,this._responderLeaseHandler=G,this._nextStreamId="CLIENT"===E?1:2,this._receivers=new Map,this._subscriptions=new Map,this._serializers=ee||k.IdentitySerializers,this._requestHandler=new F(ae),this._errorHandler=P,x({onComplete:this._handleTransportClose,onError:this._handleError,onNext:this._handleFrame,onSubscribe:ce=>ce.request(Number.MAX_SAFE_INTEGER)});const z=this._responderLeaseHandler;z&&(this._responderLeaseSenderDisposable=z.send(this._leaseFrameSender())),this._connection.connectionStatus().subscribe({onNext:ce=>{"CLOSED"===ce.kind?this._handleTransportClose():"ERROR"===ce.kind&&this._handleError(ce.error)},onSubscribe:ce=>ce.request(Number.MAX_SAFE_INTEGER)}),this._keepAliveLastReceivedMillis=Date.now();const te=()=>{const ye=Date.now()-this._keepAliveLastReceivedMillis;ye>=W?this._handleConnectionError(new Error(`No keep-alive acks for ${W} millis`)):this._keepAliveTimerHandle=setTimeout(te,Math.max(100,W-ye))};this._keepAliveTimerHandle=setTimeout(te,W)}setRequestHandler(E){this._requestHandler.setResponder(E)}close(){this._connection.close()}connectionStatus(){return this._connection.connectionStatus()}availability(){const E=this._requesterLeaseHandler,B=E?E.availability():1;return Math.min(this._connectionAvailability,B)}fireAndForget(E){if(this._useLeaseOrError(this._requesterLeaseHandler))return;const B=this._getNextStreamId(this._receivers),x=this._serializers.data.serialize(E.data),W=this._serializers.metadata.serialize(E.metadata);this._connection.sendOne({data:x,flags:void 0!==E.metadata?m.FLAGS.METADATA:0,metadata:W,streamId:B,type:m.FRAME_TYPES.REQUEST_FNF})}requestResponse(E){const B=this._useLeaseOrError(this._requesterLeaseHandler);if(B)return N.Single.error(new Error(B));const x=this._getNextStreamId(this._receivers);return new N.Single(W=>{this._receivers.set(x,{onComplete:()=>{},onError:S=>W.onError(S),onNext:S=>W.onComplete(S)});const ee=this._serializers.data.serialize(E.data),ae=this._serializers.metadata.serialize(E.metadata);this._connection.sendOne({data:ee,flags:void 0!==E.metadata?m.FLAGS.METADATA:0,metadata:ae,streamId:x,type:m.FRAME_TYPES.REQUEST_RESPONSE}),W.onSubscribe(()=>{this._receivers.delete(x),this._connection.sendOne({flags:0,streamId:x,type:m.FRAME_TYPES.CANCEL})})})}requestStream(E){const B=this._useLeaseOrError(this._requesterLeaseHandler);if(B)return N.Flowable.error(new Error(B));const x=this._getNextStreamId(this._receivers);return new N.Flowable(W=>{this._receivers.set(x,W);let ee=!1;W.onSubscribe({cancel:()=>{this._receivers.delete(x),ee&&this._connection.sendOne({flags:0,streamId:x,type:m.FRAME_TYPES.CANCEL})},request:ae=>{if(ae>m.MAX_REQUEST_N&&(ae=m.MAX_REQUEST_N),ee)this._connection.sendOne({flags:0,requestN:ae,streamId:x,type:m.FRAME_TYPES.REQUEST_N});else{ee=!0;const P=this._serializers.data.serialize(E.data),S=this._serializers.metadata.serialize(E.metadata);this._connection.sendOne({data:P,flags:void 0!==E.metadata?m.FLAGS.METADATA:0,metadata:S,requestN:ae,streamId:x,type:m.FRAME_TYPES.REQUEST_STREAM})}}})},m.MAX_REQUEST_N)}requestChannel(E){const B=this._useLeaseOrError(this._requesterLeaseHandler);if(B)return N.Flowable.error(new Error(B));const x=this._getNextStreamId(this._receivers);let W=!1;return new N.Flowable(ee=>{try{this._receivers.set(x,ee);let ae=!1;ee.onSubscribe({cancel:()=>{this._receivers.delete(x),ae&&this._connection.sendOne({flags:0,streamId:x,type:m.FRAME_TYPES.CANCEL})},request:P=>{P>m.MAX_REQUEST_N&&(P=m.MAX_REQUEST_N),ae?this._connection.sendOne({flags:0,requestN:P,streamId:x,type:m.FRAME_TYPES.REQUEST_N}):W?console.warn("RSocketClient: re-entrant call to request n before initial channel established."):(W=!0,E.subscribe({onComplete:()=>{this._sendStreamComplete(x)},onError:S=>{this._sendStreamError(x,S.message)},onNext:S=>{const G=this._serializers.data.serialize(S.data),z=this._serializers.metadata.serialize(S.metadata);ae?this._connection.sendOne({data:G,flags:m.FLAGS.NEXT|(void 0!==S.metadata?m.FLAGS.METADATA:0),metadata:z,streamId:x,type:m.FRAME_TYPES.PAYLOAD}):(ae=!0,this._connection.sendOne({data:G,flags:void 0!==S.metadata?m.FLAGS.METADATA:0,metadata:z,requestN:P,streamId:x,type:m.FRAME_TYPES.REQUEST_CHANNEL}))},onSubscribe:S=>{this._subscriptions.set(x,S),S.request(1)}}))}})}catch(ae){console.warn("Exception while subscribing to channel flowable:"+ae)}},m.MAX_REQUEST_N)}metadataPush(E){return new N.Single(B=>{const x=this._serializers.metadata.serialize(E.metadata);this._connection.sendOne({flags:0,metadata:x,streamId:0,type:m.FRAME_TYPES.METADATA_PUSH}),B.onSubscribe(()=>{}),B.onComplete()})}_getNextStreamId(E){const B=this._nextStreamId;do{this._nextStreamId=this._nextStreamId+2&m.MAX_STREAM_ID}while(0===this._nextStreamId||E.has(B));return B}_useLeaseOrError(E){if(E&&!E.use())return E.errorMessage()}_leaseFrameSender(){return E=>this._connection.sendOne({flags:0,metadata:E.metadata,requestCount:E.allowedRequests,streamId:m.CONNECTION_STREAM_ID,ttl:E.timeToLiveMillis,type:m.FRAME_TYPES.LEASE})}_dispose(...E){E.forEach(B=>{B&&B.dispose()})}_isRequest(E){switch(E){case m.FRAME_TYPES.REQUEST_FNF:case m.FRAME_TYPES.REQUEST_RESPONSE:case m.FRAME_TYPES.REQUEST_STREAM:case m.FRAME_TYPES.REQUEST_CHANNEL:return!0;default:return!1}}_handleConnectionError(E){this._handleError(E),this._connection.close();const B=this._errorHandler;B&&B(E)}_handleConnectionFrame(E){switch(E.type){case m.FRAME_TYPES.ERROR:const B=(0,m.createErrorFromFrame)(E);this._handleConnectionError(B);break;case m.FRAME_TYPES.EXT:break;case m.FRAME_TYPES.KEEPALIVE:this._keepAliveLastReceivedMillis=Date.now(),(0,m.isRespond)(E.flags)&&this._connection.sendOne(I(I({},E),{},{flags:E.flags^m.FLAGS.RESPOND,lastReceivedPosition:0}));break;case m.FRAME_TYPES.LEASE:const x=this._requesterLeaseHandler;x&&x.receive(E);break;case m.FRAME_TYPES.METADATA_PUSH:this._handleMetadataPush(E)}}_handleStreamFrame(E,B){if(this._isRequest(B.type)){const x=this._useLeaseOrError(this._responderLeaseHandler);if(x)return void this._sendStreamError(E,x)}switch(B.type){case m.FRAME_TYPES.CANCEL:this._handleCancel(E,B);break;case m.FRAME_TYPES.REQUEST_N:this._handleRequestN(E,B);break;case m.FRAME_TYPES.REQUEST_FNF:this._handleFireAndForget(E,B);break;case m.FRAME_TYPES.REQUEST_RESPONSE:this._handleRequestResponse(E,B);break;case m.FRAME_TYPES.REQUEST_STREAM:this._handleRequestStream(E,B);break;case m.FRAME_TYPES.REQUEST_CHANNEL:this._handleRequestChannel(E,B);break;case m.FRAME_TYPES.ERROR:const x=(0,m.createErrorFromFrame)(B);this._handleStreamError(E,x);break;case m.FRAME_TYPES.PAYLOAD:const W=this._receivers.get(E);if(null!=W){if((0,m.isNext)(B.flags)){const ee={data:this._serializers.data.deserialize(B.data),metadata:this._serializers.metadata.deserialize(B.metadata)};W.onNext(ee)}(0,m.isComplete)(B.flags)&&(this._receivers.delete(E),W.onComplete())}}}_handleCancel(E,B){const x=this._subscriptions.get(E);x&&(x.cancel(),this._subscriptions.delete(E))}_handleRequestN(E,B){const x=this._subscriptions.get(E);x&&x.request(B.requestN)}_handleFireAndForget(E,B){const x=this._deserializePayload(B);this._requestHandler.fireAndForget(x)}_handleRequestResponse(E,B){const x=this._deserializePayload(B);this._requestHandler.requestResponse(x).subscribe({onComplete:W=>{this._sendStreamPayload(E,W,!0)},onError:W=>this._sendStreamError(E,W.message),onSubscribe:W=>{this._subscriptions.set(E,{cancel:W,request:()=>{}})}})}_handleRequestStream(E,B){const x=this._deserializePayload(B);this._requestHandler.requestStream(x).subscribe({onComplete:()=>this._sendStreamComplete(E),onError:W=>this._sendStreamError(E,W.message),onNext:W=>this._sendStreamPayload(E,W),onSubscribe:W=>{this._subscriptions.set(E,W),W.request(B.requestN)}})}_handleRequestChannel(E,B){if(this._subscriptions.get(E))return;const W=new N.Flowable(ae=>{let P=!0;ae.onSubscribe({cancel:()=>{this._receivers.delete(E),this._connection.sendOne({flags:0,streamId:E,type:m.FRAME_TYPES.CANCEL})},request:S=>{S>m.MAX_REQUEST_N&&(S=m.MAX_REQUEST_N),P&&S--,S>0&&this._connection.sendOne({flags:0,requestN:S,streamId:E,type:m.FRAME_TYPES.REQUEST_N}),P&&S>=0&&(P=!1,ae.onNext(B))}})},m.MAX_REQUEST_N),ee=new N.FlowableProcessor(W,ae=>this._deserializePayload(ae));this._receivers.set(E,ee),this._requestHandler.requestChannel(ee).subscribe({onComplete:()=>this._sendStreamComplete(E),onError:ae=>this._sendStreamError(E,ae.message),onNext:ae=>this._sendStreamPayload(E,ae),onSubscribe:ae=>{this._subscriptions.set(E,ae),ae.request(B.requestN)}})}_handleMetadataPush(E){const B=this._deserializeMetadataPushPayload(E);this._requestHandler.metadataPush(B).subscribe({onComplete:()=>{},onError:x=>{},onSubscribe:x=>{}})}_sendStreamComplete(E){this._subscriptions.delete(E),this._connection.sendOne({data:null,flags:m.FLAGS.COMPLETE,metadata:null,streamId:E,type:m.FRAME_TYPES.PAYLOAD})}_sendStreamError(E,B){this._subscriptions.delete(E),this._connection.sendOne({code:m.ERROR_CODES.APPLICATION_ERROR,flags:0,message:B,streamId:E,type:m.FRAME_TYPES.ERROR});const x=new Error(`terminated from the requester: ${B}`);this._handleStreamError(E,x)}_sendStreamPayload(E,B,x=!1){let W=m.FLAGS.NEXT;x&&(W|=m.FLAGS.COMPLETE,this._subscriptions.delete(E));const ee=this._serializers.data.serialize(B.data),ae=this._serializers.metadata.serialize(B.metadata);this._connection.sendOne({data:ee,flags:W,metadata:ae,streamId:E,type:m.FRAME_TYPES.PAYLOAD})}_deserializePayload(E){return function M(O,E){return{data:O.data.deserialize(E.data),metadata:O.metadata.deserialize(E.metadata)}}(this._serializers,E)}_deserializeMetadataPushPayload(E){return function C(O,E){return{data:null,metadata:O.metadata.deserialize(E.metadata)}}(this._serializers,E)}_handleStreamError(E,B){const x=this._receivers.get(E);null!=x&&(this._receivers.delete(E),x.onError(B))}}},333:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var N=T(962),m=function I(Y){return Y&&Y.__esModule?Y:{default:Y}}(T(586)),k=T(511),w=T(738),Z=T(446);function b(Y,M){var C=Object.keys(Y);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(Y);M&&(O=O.filter(function(E){return Object.getOwnPropertyDescriptor(Y,E).enumerable})),C.push.apply(C,O)}return C}function F(Y){for(var M=1;M<arguments.length;M++){var C=null!=arguments[M]?arguments[M]:{};M%2?b(Object(C),!0).forEach(function(O){R(Y,O,C[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(C)):b(Object(C)).forEach(function(O){Object.defineProperty(Y,O,Object.getOwnPropertyDescriptor(C,O))})}return Y}function R(Y,M,C){return M in Y?Object.defineProperty(Y,M,{value:C,enumerable:!0,configurable:!0,writable:!0}):Y[M]=C,Y}f.default=class ${constructor(M,C,O){(0,m.default)(C.bufferSize>=0,"RSocketResumableTransport: bufferSize option must be >= 0, got `%s`.",C.bufferSize),this._encoders=O,this._bufferSize=C.bufferSize,this._sentFramesSize=0,this._position={client:0,server:0},this._currentConnection=null,this._statusSubscription=null,this._receiveSubscription=null,this._receivers=new Set,this._resumeToken=C.resumeToken,this._sessionTimeoutMillis=1e3*C.sessionDurationSeconds,this._sessionTimeoutHandle=null,this._senders=new Set,this._sentFrames=[],this._setupFrame=null,this._source=M,this._status=w.CONNECTION_STATUS.NOT_CONNECTED,this._statusSubscribers=new Set}close(){this._close()}connect(){(0,m.default)(!this._isTerminated(),"RSocketResumableTransport: Cannot connect(), connection terminated (%s: %s).",this._status.kind,"ERROR"===this._status.kind?this._status.error.message:"no message");try{this._disconnect(),this._currentConnection=null,this._receiveSubscription=null,this._statusSubscription=null,this._setConnectionStatus(w.CONNECTION_STATUS.CONNECTING);const M=this._source();M.connectionStatus().subscribe({onNext:C=>{C.kind!==this._status.kind&&("CONNECTED"===C.kind?(this._sessionTimeoutHandle&&(clearTimeout(this._sessionTimeoutHandle),this._sessionTimeoutHandle=null),null==this._setupFrame?this._handleConnected(M):this._handleResume(M)):this._isTerminationStatus(C)&&(this._sessionTimeoutHandle||(this._sessionTimeoutHandle=setTimeout(()=>this._close(this._resumeTimeoutError()),this._sessionTimeoutMillis)),this._disconnect(),this._setConnectionStatus(w.CONNECTION_STATUS.NOT_CONNECTED)))},onSubscribe:C=>{this._statusSubscription=C,C.request(Number.MAX_SAFE_INTEGER)}}),M.connect()}catch(M){this._close(M)}}connectionStatus(){return new N.Flowable(M=>{M.onSubscribe({cancel:()=>{this._statusSubscribers.delete(M)},request:()=>{this._statusSubscribers.add(M),M.onNext(this._status)}})})}receive(){return new N.Flowable(M=>{let C=!1;M.onSubscribe({cancel:()=>{this._receivers.delete(M)},request:()=>{C||(C=!0,this._receivers.add(M))}})})}sendOne(M){try{this._writeFrame(M)}catch(C){this._close(C)}}send(M){let C;M.subscribe({onComplete:()=>{C&&this._senders.delete(C)},onError:O=>{C&&this._senders.delete(C),this._close(O)},onNext:O=>this._writeFrame(O),onSubscribe:O=>{C=O,this._senders.add(C),C.request(Number.MAX_SAFE_INTEGER)}})}_close(M){if(this._isTerminated())return;this._setConnectionStatus(M?{error:M,kind:"ERROR"}:w.CONNECTION_STATUS.CLOSED);const C=this._receivers;C.forEach(E=>E.onComplete()),C.clear();const O=this._senders;O.forEach(E=>E.cancel()),O.clear(),this._sentFrames.length=0,this._disconnect()}_disconnect(){this._statusSubscription&&(this._statusSubscription.cancel(),this._statusSubscription=null),this._receiveSubscription&&(this._receiveSubscription.cancel(),this._receiveSubscription=null),this._currentConnection&&(this._currentConnection.close(),this._currentConnection=null)}_handleConnected(M){this._currentConnection=M,this._flushFrames(),this._setConnectionStatus(w.CONNECTION_STATUS.CONNECTED),M.receive().subscribe({onNext:C=>{try{this._receiveFrame(C)}catch(O){this._close(O)}},onSubscribe:C=>{this._receiveSubscription=C,C.request(Number.MAX_SAFE_INTEGER)}})}_handleResume(M){M.receive().take(1).subscribe({onNext:O=>{try{if(O.type===k.FRAME_TYPES.RESUME_OK){const{clientPosition:E}=O;if(E<this._position.client)return void this._close(this._nonResumableStateError());let B=E-this._position.client,x=0;for(;B>0;){const W=this._onReleasedTailFrame(this._sentFrames[x]);if(!W)return void this._close(this._absentLengthError(O));B-=W,x++}if(0!==B)return void this._close(this._inconsistentImpliedPositionError());x>0&&this._sentFrames.splice(0,x),this._handleConnected(M)}else{const E=O.type===k.FRAME_TYPES.ERROR?(0,k.createErrorFromFrame)(O):new Error("RSocketResumableTransport: Resumption failed for an unspecified reason.");this._close(E)}}catch(E){this._close(E)}},onSubscribe:O=>{this._receiveSubscription=O,O.request(1)}});const C=this._setupFrame;(0,m.default)(C,"RSocketResumableTransport: Cannot resume, setup frame has not been sent."),M.sendOne({clientPosition:this._position.client,flags:0,majorVersion:C.majorVersion,minorVersion:C.minorVersion,resumeToken:this._resumeToken,serverPosition:this._position.server,streamId:k.CONNECTION_STREAM_ID,type:k.FRAME_TYPES.RESUME})}_absentLengthError(M){return new Error("RSocketResumableTransport: absent frame.length for type "+M.type)}_inconsistentImpliedPositionError(){return new Error("RSocketResumableTransport: local frames are inconsistent with remote implied position")}_nonResumableStateError(){return new Error("RSocketResumableTransport: resumption failed, server is missing frames that are no longer in the client buffer.")}_resumeTimeoutError(){return new Error("RSocketResumableTransport: resumable session timed out")}_isTerminated(){return this._isTerminationStatus(this._status)}_isTerminationStatus(M){const C=M.kind;return"CLOSED"===C||"ERROR"===C}_setConnectionStatus(M){M.kind!==this._status.kind&&(this._status=M,this._statusSubscribers.forEach(C=>C.onNext(M)))}_receiveFrame(M){(0,k.isResumePositionFrameType)(M.type)&&M.length&&(this._position.server+=M.length),this._receivers.forEach(C=>C.onNext(M))}_flushFrames(){this._sentFrames.forEach(M=>{const C=this._currentConnection;C&&C.sendOne(M)})}_onReleasedTailFrame(M){const C=M.length;if(C)return this._sentFramesSize-=C,this._position.client+=C,C}_writeFrame(M){if(M.type===k.FRAME_TYPES.SETUP&&(M=F(F({},M),{},{flags:M.flags|k.FLAGS.RESUME_ENABLE,resumeToken:this._resumeToken}),this._setupFrame=M),M.length=(0,Z.sizeOfFrame)(M,this._encoders),(0,k.isResumePositionFrameType)(M.type)){let O=this._bufferSize-this._sentFramesSize;const E=M.length;if(!E)return void this._close(this._absentLengthError(M));for(;O<E;){const B=this._sentFrames.shift();if(!B)break;{const x=this._onReleasedTailFrame(B);if(!x)return void this._close(this._absentLengthError(M));O+=x}}O>=E?(this._sentFrames.push(M),this._sentFramesSize+=E):this._position.client+=E}const C=this._currentConnection;C&&C.sendOne(M)}}},377:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.IdentitySerializers=f.IdentitySerializer=f.JsonSerializers=f.JsonSerializer=void 0;var N=T(618),m=function k(F){return F&&F.__esModule?F:{default:F}}(T(586));const w={deserialize:F=>{let R;return null==F?null:(R="string"==typeof F?F:N.LiteBuffer.isBuffer(F)?F.toString("utf8"):N.LiteBuffer.from(F).toString("utf8"),JSON.parse(R))},serialize:JSON.stringify};f.JsonSerializer=w,f.JsonSerializers={data:w,metadata:w};const I={deserialize:F=>((0,m.default)(null==F||"string"==typeof F||N.LiteBuffer.isBuffer(F)||F instanceof Uint8Array,"RSocketSerialization: Expected data to be a string, Buffer, or Uint8Array. Got `%s`.",F),F),serialize:F=>F};f.IdentitySerializer=I,f.IdentitySerializers={data:I,metadata:I}},754:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,T(962);var m=function F(C){return C&&C.__esModule?C:{default:C}}(T(586)),k=T(511),w=T(377),Z=T(718),I=T(438),b=T(209);function R(C,O,E){return O in C?Object.defineProperty(C,O,{value:E,enumerable:!0,configurable:!0,writable:!0}):C[O]=E,C}f.default=class ${constructor(O){R(this,"_handleTransportComplete",()=>{this._handleTransportError(new Error("RSocketServer: Connection closed unexpectedly."))}),R(this,"_handleTransportError",E=>{this._connections.forEach(B=>{B.close()})}),R(this,"_handleTransportConnection",E=>{const B=new Y;let x;(E=new b.ReassemblyDuplexConnection(E)).receive().subscribe(B.swap({onError:W=>console.error(W),onNext:W=>{switch(W.type){case k.FRAME_TYPES.RESUME:E.sendOne({code:k.ERROR_CODES.REJECTED_RESUME,flags:0,message:"RSocketServer: RESUME not supported.",streamId:k.CONNECTION_STREAM_ID,type:k.FRAME_TYPES.ERROR}),E.close();break;case k.FRAME_TYPES.SETUP:if(this._setupLeaseError(W)){E.sendOne({code:k.ERROR_CODES.INVALID_SETUP,flags:0,message:"RSocketServer: LEASE not supported.",streamId:k.CONNECTION_STREAM_ID,type:k.FRAME_TYPES.ERROR}),E.close();break}const ee=this._getSerializers();let ae,P;const S=this._config.leases;if(S){const z=S();ae=new I.RequesterLeaseHandler(z._receiver),P=new I.ResponderLeaseHandler(z._sender,z._stats)}const G=(0,Z.createServerMachine)(E,z=>{B.swap(z)},W.lifetime,ee,this._config.errorHandler,ae,P);try{const z=this._config.getRequestHandler(G,function M(C,O){return{data:C.data.deserialize(O.data),metadata:C.metadata.deserialize(O.metadata)}}(ee,W));G.setRequestHandler(z),this._connections.add(G),E.connectionStatus().subscribe({onNext:X=>{("CLOSED"===X.kind||"ERROR"===X.kind)&&this._connections.delete(G)},onSubscribe:X=>X.request(Number.MAX_SAFE_INTEGER)})}catch(z){E.sendOne({code:k.ERROR_CODES.REJECTED_SETUP,flags:0,message:"Application rejected setup, reason: "+z.message,streamId:k.CONNECTION_STREAM_ID,type:k.FRAME_TYPES.ERROR}),E.close()}break;default:(0,m.default)(!1,"RSocketServer: Expected first frame to be SETUP or RESUME, got `%s`.",(0,k.getFrameTypeName)(W.type))}},onSubscribe:W=>{x=W,x.request(1)}}))}),this._config=O,this._connections=new Set,this._started=!1,this._subscription=null}start(){(0,m.default)(!this._started,"RSocketServer: Unexpected call to start(), already started."),this._started=!0,this._config.transport.start().subscribe({onComplete:this._handleTransportComplete,onError:this._handleTransportError,onNext:this._handleTransportConnection,onSubscribe:O=>{this._subscription=O,O.request(Number.MAX_SAFE_INTEGER)}})}stop(){this._subscription&&this._subscription.cancel(),this._config.transport.stop(),this._handleTransportError(new Error("RSocketServer: Connection terminated via stop()."))}_getSerializers(){return this._config.serializers||w.IdentitySerializers}_setupLeaseError(O){return(O.flags&k.FLAGS.LEASE)===k.FLAGS.LEASE&&!this._config.leases}};class Y{constructor(O){this._target=O}swap(O){return this._target=O,this._subscription&&this._target.onSubscribe&&this._target.onSubscribe(this._subscription),this}onComplete(){(0,m.default)(this._target,"must have target"),this._target.onComplete&&this._target.onComplete()}onError(O){(0,m.default)(this._target,"must have target"),this._target.onError&&this._target.onError(O)}onNext(O){(0,m.default)(this._target,"must have target"),this._target.onNext&&this._target.onNext(O)}onSubscribe(O){(0,m.default)(this._target,"must have target"),this._subscription=O,this._target.onSubscribe&&this._target.onSubscribe(O)}}},602:(Be,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.MINOR_VERSION=f.MAJOR_VERSION=void 0,f.MAJOR_VERSION=1,f.MINOR_VERSION=0},209:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ReassemblyDuplexConnection=void 0;var N=T(618),k=(T(962),T(511));f.ReassemblyDuplexConnection=class Z{constructor(R){this._source=R}sendOne(R){this._source.sendOne(R)}send(R){this._source.send(R)}receive(){return this._source.receive().lift(R=>new I(R))}close(){this._source.close()}connect(){this._source.connect()}connectionStatus(){return this._source.connectionStatus()}};class I{constructor(R){(function w(F,R,$){R in F?Object.defineProperty(F,R,{value:$,enumerable:!0,configurable:!0,writable:!0}):F[R]=$})(this,"_framesReassemblyMap",new Map),this._actual=R}request(R){this._subscription.request(R)}cancel(){this._subscription.cancel(),this._framesReassemblyMap.clear()}onSubscribe(R){null==this._subscription?(this._subscription=R,this._actual.onSubscribe(this)):R.cancel()}onComplete(){this._actual.onComplete()}onError(R){this._actual.onError(R)}onNext(R){const $=R.streamId;if($!==k.CONNECTION_STREAM_ID){const Y=(0,k.isFollows)(R.flags),M=(0,k.isComplete)(R.flags),C=R.type===k.FRAME_TYPES.ERROR||R.type===k.FRAME_TYPES.CANCEL,O=this._framesReassemblyMap.get($);if(O){if(!C)return O.metadata&&R.metadata&&(O.metadata=b(O.metadata,R.metadata)),O.data&&R.data?O.data=b(O.data,R.data):!O.data&&R.data&&(O.data=R.data),void((!Y||M)&&(M&&(O.flags|=k.FLAGS.COMPLETE),this._framesReassemblyMap.delete($),this._actual.onNext(O)));this._framesReassemblyMap.delete($)}else if(Y&&!M&&!C)return void this._framesReassemblyMap.set($,R)}this._actual.onNext(R)}}const b=(F,R)=>{switch(F.constructor.name){case"String":return F+R;case"Uint8Array":const $=new Uint8Array(F.length+R.length);return $.set(F),$.set(R,F.length),$;default:return N.LiteBuffer.concat([F,R])}}},41:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.encodeRoutes=function w(...b){if(b.length<1)throw new Error("routes should be non empty array");return N.LiteBuffer.concat(b.map(F=>Z(F)))},f.encodeRoute=Z,f.decodeRoutes=I,f.RoutingMetadata=void 0;var N=T(618),m=T(297);class k{constructor(F){this._buffer=F}iterator(){return I(this._buffer)}[Symbol.iterator](){return I(this._buffer)}}function Z(b){const F=(0,m.toBuffer)(b,"utf8");if(F.length>255)throw new Error(`route length should fit into unsigned byte length but the given one is ${F.length}`);const R=(0,m.createBuffer)(1);return R.writeUInt8(F.length),N.LiteBuffer.concat([R,F])}function*I(b){const F=b.byteLength;let R=0;for(;R<F;){const $=b.readUInt8(R++);if(R+$>F)throw new Error(`Malformed RouteMetadata. Offset(${R}) + RouteLength(${$}) is greater than TotalLength`);const Y=b.toString("utf8",R,R+$);R+=$,yield Y}}f.RoutingMetadata=k},8:(Be,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.TYPES_BY_AUTH_STRING=f.TYPES_BY_AUTH_ID=f.BEARER=f.SIMPLE=f.UNKNOWN_RESERVED_AUTH_TYPE=f.UNPARSEABLE_AUTH_TYPE=f.default=void 0;class T{constructor(R,$){this._string=R,this._identifier=$}static fromIdentifier(R){return R<0||R>127?N:Z[R]}static fromString(R){if(!R)throw new Error("type must be non-null");return R===m.string?N:I.get(R)||N}get identifier(){return this._identifier}get string(){return this._string}toString(){return this._string}}f.default=T;const N=new T("UNPARSEABLE_AUTH_TYPE_DO_NOT_USE",-2);f.UNPARSEABLE_AUTH_TYPE=N;const m=new T("UNKNOWN_YET_RESERVED_DO_NOT_USE",-1);f.UNKNOWN_RESERVED_AUTH_TYPE=m;const k=new T("simple",0);f.SIMPLE=k;const w=new T("bearer",1);f.BEARER=w;const Z=new Array(128);f.TYPES_BY_AUTH_ID=Z;const I=new Map;f.TYPES_BY_AUTH_STRING=I;const b=[N,m,k,w];Z.fill(m);for(const F of b)F.identifier>=0&&(Z[F.identifier]=F,I.set(F.string,F));Object.seal&&Object.seal(Z)},296:(Be,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.TYPES_BY_MIME_STRING=f.TYPES_BY_MIME_ID=f.MESSAGE_RSOCKET_COMPOSITE_METADATA=f.MESSAGE_RSOCKET_ROUTING=f.MESSAGE_RSOCKET_TRACING_ZIPKIN=f.MESSAGE_RSOCKET_AUTHENTICATION=f.MESSAGE_RSOCKET_ACCEPT_MIMETYPES=f.MESSAGE_RSOCKET_MIMETYPE=f.APPLICATION_CLOUDEVENTS_JSON=f.APPLICATION_JAVA_OBJECT=f.APPLICATION_HESSIAN=f.VIDEO_VP8=f.VIDEO_H265=f.VIDEO_H264=f.TEXT_XML=f.TEXT_PLAIN=f.TEXT_HTML=f.TEXT_CSV=f.TEXT_CSS=f.MULTIPART_MIXED=f.IMAGE_TIFF=f.IMAGE_PNG=f.IMAGE_JPEG=f.IMAGE_HEIF=f.IMAGE_HEIF_SEQUENCE=f.IMAGE_HEIC=f.IMAGE_HEIC_SEQUENCE=f.IMAGE_GIG=f.IMAGE_BMP=f.AUDIO_VORBIS=f.AUDIO_OPUS=f.AUDIO_OGG=f.AUDIO_MPEG=f.AUDIO_MPEG3=f.AUDIO_MP4=f.AUDIO_MP3=f.AUDIO_AAC=f.APPLICATION_ZIP=f.APPLICATION_XML=f.APPLICATION_PROTOBUF=f.APPLICATION_THRIFT=f.APPLICATION_PDF=f.APPLICATION_OCTET_STREAM=f.APPLICATION_JSON=f.APPLICATION_JAVASCRIPT=f.APPLICATION_GZIP=f.APPLICATION_GRAPHQL=f.APPLICATION_CBOR=f.APPLICATION_AVRO=f.UNKNOWN_RESERVED_MIME_TYPE=f.UNPARSEABLE_MIME_TYPE=f.default=void 0;class T{constructor(h,D){this._string=h,this._identifier=D}static fromIdentifier(h){return h<0||h>127?N:Zn[h]}static fromString(h){if(!h)throw new Error("type must be non-null");return h===m.string?N:bi.get(h)||N}get identifier(){return this._identifier}get string(){return this._string}toString(){return this._string}}f.default=T;const N=new T("UNPARSEABLE_MIME_TYPE_DO_NOT_USE",-2);f.UNPARSEABLE_MIME_TYPE=N;const m=new T("UNKNOWN_YET_RESERVED_DO_NOT_USE",-1);f.UNKNOWN_RESERVED_MIME_TYPE=m;const k=new T("application/avro",0);f.APPLICATION_AVRO=k;const w=new T("application/cbor",1);f.APPLICATION_CBOR=w;const Z=new T("application/graphql",2);f.APPLICATION_GRAPHQL=Z;const I=new T("application/gzip",3);f.APPLICATION_GZIP=I;const b=new T("application/javascript",4);f.APPLICATION_JAVASCRIPT=b;const F=new T("application/json",5);f.APPLICATION_JSON=F;const R=new T("application/octet-stream",6);f.APPLICATION_OCTET_STREAM=R;const $=new T("application/pdf",7);f.APPLICATION_PDF=$;const Y=new T("application/vnd.apache.thrift.binary",8);f.APPLICATION_THRIFT=Y;const M=new T("application/vnd.google.protobuf",9);f.APPLICATION_PROTOBUF=M;const C=new T("application/xml",10);f.APPLICATION_XML=C;const O=new T("application/zip",11);f.APPLICATION_ZIP=O;const E=new T("audio/aac",12);f.AUDIO_AAC=E;const B=new T("audio/mp3",13);f.AUDIO_MP3=B;const x=new T("audio/mp4",14);f.AUDIO_MP4=x;const W=new T("audio/mpeg3",15);f.AUDIO_MPEG3=W;const ee=new T("audio/mpeg",16);f.AUDIO_MPEG=ee;const ae=new T("audio/ogg",17);f.AUDIO_OGG=ae;const P=new T("audio/opus",18);f.AUDIO_OPUS=P;const S=new T("audio/vorbis",19);f.AUDIO_VORBIS=S;const G=new T("image/bmp",20);f.IMAGE_BMP=G;const z=new T("image/gif",21);f.IMAGE_GIG=z;const X=new T("image/heic-sequence",22);f.IMAGE_HEIC_SEQUENCE=X;const te=new T("image/heic",23);f.IMAGE_HEIC=te;const ce=new T("image/heif-sequence",24);f.IMAGE_HEIF_SEQUENCE=ce;const ye=new T("image/heif",25);f.IMAGE_HEIF=ye;const xe=new T("image/jpeg",26);f.IMAGE_JPEG=xe;const it=new T("image/png",27);f.IMAGE_PNG=it;const nn=new T("image/tiff",28);f.IMAGE_TIFF=nn;const pt=new T("multipart/mixed",29);f.MULTIPART_MIXED=pt;const Qe=new T("text/css",30);f.TEXT_CSS=Qe;const Ln=new T("text/csv",31);f.TEXT_CSV=Ln;const Or=new T("text/html",32);f.TEXT_HTML=Or;const Rn=new T("text/plain",33);f.TEXT_PLAIN=Rn;const ie=new T("text/xml",34);f.TEXT_XML=ie;const fe=new T("video/H264",35);f.VIDEO_H264=fe;const tt=new T("video/H265",36);f.VIDEO_H265=tt;const gt=new T("video/VP8",37);f.VIDEO_VP8=gt;const $e=new T("application/x-hessian",38);f.APPLICATION_HESSIAN=$e;const rt=new T("application/x-java-object",39);f.APPLICATION_JAVA_OBJECT=rt;const Jr=new T("application/cloudevents+json",40);f.APPLICATION_CLOUDEVENTS_JSON=Jr;const Oe=new T("message/x.rsocket.mime-type.v0",122);f.MESSAGE_RSOCKET_MIMETYPE=Oe;const Ir=new T("message/x.rsocket.accept-mime-types.v0",123);f.MESSAGE_RSOCKET_ACCEPT_MIMETYPES=Ir;const Gi=new T("message/x.rsocket.authentication.v0",124);f.MESSAGE_RSOCKET_AUTHENTICATION=Gi;const Rr=new T("message/x.rsocket.tracing-zipkin.v0",125);f.MESSAGE_RSOCKET_TRACING_ZIPKIN=Rr;const Pr=new T("message/x.rsocket.routing.v0",126);f.MESSAGE_RSOCKET_ROUTING=Pr;const hn=new T("message/x.rsocket.composite-metadata.v0",127);f.MESSAGE_RSOCKET_COMPOSITE_METADATA=hn;const Zn=new Array(128);f.TYPES_BY_MIME_ID=Zn;const bi=new Map;f.TYPES_BY_MIME_STRING=bi;const y=[N,m,k,w,Z,I,b,F,R,$,Y,M,C,O,E,B,x,W,ee,ae,P,S,G,z,X,te,ce,ye,xe,it,nn,pt,Qe,Ln,Or,Rn,ie,fe,tt,gt,$e,rt,Jr,Oe,Ir,Gi,Rr,Pr,hn];Zn.fill(m);for(const d of y)d.identifier>=0&&(Zn[d.identifier]=d,bi.set(d.string,d));Object.seal&&Object.seal(Zn)},407:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"RSocketClient",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(f,"RSocketServer",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(f,"RSocketResumableTransport",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(f,"WellKnownMimeType",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(f,"UNPARSEABLE_MIME_TYPE",{enumerable:!0,get:function(){return w.UNPARSEABLE_MIME_TYPE}}),Object.defineProperty(f,"UNKNOWN_RESERVED_MIME_TYPE",{enumerable:!0,get:function(){return w.UNKNOWN_RESERVED_MIME_TYPE}}),Object.defineProperty(f,"APPLICATION_AVRO",{enumerable:!0,get:function(){return w.APPLICATION_AVRO}}),Object.defineProperty(f,"APPLICATION_CBOR",{enumerable:!0,get:function(){return w.APPLICATION_CBOR}}),Object.defineProperty(f,"APPLICATION_GRAPHQL",{enumerable:!0,get:function(){return w.APPLICATION_GRAPHQL}}),Object.defineProperty(f,"APPLICATION_GZIP",{enumerable:!0,get:function(){return w.APPLICATION_GZIP}}),Object.defineProperty(f,"APPLICATION_JAVASCRIPT",{enumerable:!0,get:function(){return w.APPLICATION_JAVASCRIPT}}),Object.defineProperty(f,"APPLICATION_JSON",{enumerable:!0,get:function(){return w.APPLICATION_JSON}}),Object.defineProperty(f,"APPLICATION_OCTET_STREAM",{enumerable:!0,get:function(){return w.APPLICATION_OCTET_STREAM}}),Object.defineProperty(f,"APPLICATION_PDF",{enumerable:!0,get:function(){return w.APPLICATION_PDF}}),Object.defineProperty(f,"APPLICATION_THRIFT",{enumerable:!0,get:function(){return w.APPLICATION_THRIFT}}),Object.defineProperty(f,"APPLICATION_PROTOBUF",{enumerable:!0,get:function(){return w.APPLICATION_PROTOBUF}}),Object.defineProperty(f,"APPLICATION_XML",{enumerable:!0,get:function(){return w.APPLICATION_XML}}),Object.defineProperty(f,"APPLICATION_ZIP",{enumerable:!0,get:function(){return w.APPLICATION_ZIP}}),Object.defineProperty(f,"AUDIO_AAC",{enumerable:!0,get:function(){return w.AUDIO_AAC}}),Object.defineProperty(f,"AUDIO_MP3",{enumerable:!0,get:function(){return w.AUDIO_MP3}}),Object.defineProperty(f,"AUDIO_MP4",{enumerable:!0,get:function(){return w.AUDIO_MP4}}),Object.defineProperty(f,"AUDIO_MPEG3",{enumerable:!0,get:function(){return w.AUDIO_MPEG3}}),Object.defineProperty(f,"AUDIO_MPEG",{enumerable:!0,get:function(){return w.AUDIO_MPEG}}),Object.defineProperty(f,"AUDIO_OGG",{enumerable:!0,get:function(){return w.AUDIO_OGG}}),Object.defineProperty(f,"AUDIO_OPUS",{enumerable:!0,get:function(){return w.AUDIO_OPUS}}),Object.defineProperty(f,"AUDIO_VORBIS",{enumerable:!0,get:function(){return w.AUDIO_VORBIS}}),Object.defineProperty(f,"IMAGE_BMP",{enumerable:!0,get:function(){return w.IMAGE_BMP}}),Object.defineProperty(f,"IMAGE_GIG",{enumerable:!0,get:function(){return w.IMAGE_GIG}}),Object.defineProperty(f,"IMAGE_HEIC_SEQUENCE",{enumerable:!0,get:function(){return w.IMAGE_HEIC_SEQUENCE}}),Object.defineProperty(f,"IMAGE_HEIC",{enumerable:!0,get:function(){return w.IMAGE_HEIC}}),Object.defineProperty(f,"IMAGE_HEIF_SEQUENCE",{enumerable:!0,get:function(){return w.IMAGE_HEIF_SEQUENCE}}),Object.defineProperty(f,"IMAGE_HEIF",{enumerable:!0,get:function(){return w.IMAGE_HEIF}}),Object.defineProperty(f,"IMAGE_JPEG",{enumerable:!0,get:function(){return w.IMAGE_JPEG}}),Object.defineProperty(f,"IMAGE_PNG",{enumerable:!0,get:function(){return w.IMAGE_PNG}}),Object.defineProperty(f,"IMAGE_TIFF",{enumerable:!0,get:function(){return w.IMAGE_TIFF}}),Object.defineProperty(f,"MULTIPART_MIXED",{enumerable:!0,get:function(){return w.MULTIPART_MIXED}}),Object.defineProperty(f,"TEXT_CSS",{enumerable:!0,get:function(){return w.TEXT_CSS}}),Object.defineProperty(f,"TEXT_CSV",{enumerable:!0,get:function(){return w.TEXT_CSV}}),Object.defineProperty(f,"TEXT_HTML",{enumerable:!0,get:function(){return w.TEXT_HTML}}),Object.defineProperty(f,"TEXT_PLAIN",{enumerable:!0,get:function(){return w.TEXT_PLAIN}}),Object.defineProperty(f,"TEXT_XML",{enumerable:!0,get:function(){return w.TEXT_XML}}),Object.defineProperty(f,"VIDEO_H264",{enumerable:!0,get:function(){return w.VIDEO_H264}}),Object.defineProperty(f,"VIDEO_H265",{enumerable:!0,get:function(){return w.VIDEO_H265}}),Object.defineProperty(f,"VIDEO_VP8",{enumerable:!0,get:function(){return w.VIDEO_VP8}}),Object.defineProperty(f,"APPLICATION_HESSIAN",{enumerable:!0,get:function(){return w.APPLICATION_HESSIAN}}),Object.defineProperty(f,"APPLICATION_JAVA_OBJECT",{enumerable:!0,get:function(){return w.APPLICATION_JAVA_OBJECT}}),Object.defineProperty(f,"APPLICATION_CLOUDEVENTS_JSON",{enumerable:!0,get:function(){return w.APPLICATION_CLOUDEVENTS_JSON}}),Object.defineProperty(f,"MESSAGE_RSOCKET_MIMETYPE",{enumerable:!0,get:function(){return w.MESSAGE_RSOCKET_MIMETYPE}}),Object.defineProperty(f,"MESSAGE_RSOCKET_ACCEPT_MIMETYPES",{enumerable:!0,get:function(){return w.MESSAGE_RSOCKET_ACCEPT_MIMETYPES}}),Object.defineProperty(f,"MESSAGE_RSOCKET_AUTHENTICATION",{enumerable:!0,get:function(){return w.MESSAGE_RSOCKET_AUTHENTICATION}}),Object.defineProperty(f,"MESSAGE_RSOCKET_TRACING_ZIPKIN",{enumerable:!0,get:function(){return w.MESSAGE_RSOCKET_TRACING_ZIPKIN}}),Object.defineProperty(f,"MESSAGE_RSOCKET_ROUTING",{enumerable:!0,get:function(){return w.MESSAGE_RSOCKET_ROUTING}}),Object.defineProperty(f,"MESSAGE_RSOCKET_COMPOSITE_METADATA",{enumerable:!0,get:function(){return w.MESSAGE_RSOCKET_COMPOSITE_METADATA}}),Object.defineProperty(f,"WellKnownAuthType",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(f,"UNPARSEABLE_AUTH_TYPE",{enumerable:!0,get:function(){return Z.UNPARSEABLE_AUTH_TYPE}}),Object.defineProperty(f,"UNKNOWN_RESERVED_AUTH_TYPE",{enumerable:!0,get:function(){return Z.UNKNOWN_RESERVED_AUTH_TYPE}}),Object.defineProperty(f,"SIMPLE",{enumerable:!0,get:function(){return Z.SIMPLE}}),Object.defineProperty(f,"BEARER",{enumerable:!0,get:function(){return Z.BEARER}}),Object.defineProperty(f,"CONNECTION_STREAM_ID",{enumerable:!0,get:function(){return I.CONNECTION_STREAM_ID}}),Object.defineProperty(f,"ERROR_CODES",{enumerable:!0,get:function(){return I.ERROR_CODES}}),Object.defineProperty(f,"ERROR_EXPLANATIONS",{enumerable:!0,get:function(){return I.ERROR_EXPLANATIONS}}),Object.defineProperty(f,"FLAGS_MASK",{enumerable:!0,get:function(){return I.FLAGS_MASK}}),Object.defineProperty(f,"FLAGS",{enumerable:!0,get:function(){return I.FLAGS}}),Object.defineProperty(f,"FRAME_TYPE_OFFFSET",{enumerable:!0,get:function(){return I.FRAME_TYPE_OFFFSET}}),Object.defineProperty(f,"FRAME_TYPES",{enumerable:!0,get:function(){return I.FRAME_TYPES}}),Object.defineProperty(f,"MAX_CODE",{enumerable:!0,get:function(){return I.MAX_CODE}}),Object.defineProperty(f,"MAX_KEEPALIVE",{enumerable:!0,get:function(){return I.MAX_KEEPALIVE}}),Object.defineProperty(f,"MAX_LIFETIME",{enumerable:!0,get:function(){return I.MAX_LIFETIME}}),Object.defineProperty(f,"MAX_MIME_LENGTH",{enumerable:!0,get:function(){return I.MAX_MIME_LENGTH}}),Object.defineProperty(f,"MAX_RESUME_LENGTH",{enumerable:!0,get:function(){return I.MAX_RESUME_LENGTH}}),Object.defineProperty(f,"MAX_STREAM_ID",{enumerable:!0,get:function(){return I.MAX_STREAM_ID}}),Object.defineProperty(f,"MAX_VERSION",{enumerable:!0,get:function(){return I.MAX_VERSION}}),Object.defineProperty(f,"createErrorFromFrame",{enumerable:!0,get:function(){return I.createErrorFromFrame}}),Object.defineProperty(f,"getErrorCodeExplanation",{enumerable:!0,get:function(){return I.getErrorCodeExplanation}}),Object.defineProperty(f,"isComplete",{enumerable:!0,get:function(){return I.isComplete}}),Object.defineProperty(f,"isIgnore",{enumerable:!0,get:function(){return I.isIgnore}}),Object.defineProperty(f,"isLease",{enumerable:!0,get:function(){return I.isLease}}),Object.defineProperty(f,"isMetadata",{enumerable:!0,get:function(){return I.isMetadata}}),Object.defineProperty(f,"isNext",{enumerable:!0,get:function(){return I.isNext}}),Object.defineProperty(f,"isRespond",{enumerable:!0,get:function(){return I.isRespond}}),Object.defineProperty(f,"isResumeEnable",{enumerable:!0,get:function(){return I.isResumeEnable}}),Object.defineProperty(f,"printFrame",{enumerable:!0,get:function(){return I.printFrame}}),Object.defineProperty(f,"deserializeFrame",{enumerable:!0,get:function(){return b.deserializeFrame}}),Object.defineProperty(f,"deserializeFrameWithLength",{enumerable:!0,get:function(){return b.deserializeFrameWithLength}}),Object.defineProperty(f,"deserializeFrames",{enumerable:!0,get:function(){return b.deserializeFrames}}),Object.defineProperty(f,"serializeFrame",{enumerable:!0,get:function(){return b.serializeFrame}}),Object.defineProperty(f,"serializeFrameWithLength",{enumerable:!0,get:function(){return b.serializeFrameWithLength}}),Object.defineProperty(f,"byteLength",{enumerable:!0,get:function(){return F.byteLength}}),Object.defineProperty(f,"createBuffer",{enumerable:!0,get:function(){return F.createBuffer}}),Object.defineProperty(f,"readUInt24BE",{enumerable:!0,get:function(){return F.readUInt24BE}}),Object.defineProperty(f,"toBuffer",{enumerable:!0,get:function(){return F.toBuffer}}),Object.defineProperty(f,"writeUInt24BE",{enumerable:!0,get:function(){return F.writeUInt24BE}}),Object.defineProperty(f,"BufferEncoders",{enumerable:!0,get:function(){return R.BufferEncoders}}),Object.defineProperty(f,"BufferEncoder",{enumerable:!0,get:function(){return R.BufferEncoder}}),Object.defineProperty(f,"Utf8Encoders",{enumerable:!0,get:function(){return R.Utf8Encoders}}),Object.defineProperty(f,"UTF8Encoder",{enumerable:!0,get:function(){return R.UTF8Encoder}}),Object.defineProperty(f,"IdentitySerializer",{enumerable:!0,get:function(){return $.IdentitySerializer}}),Object.defineProperty(f,"IdentitySerializers",{enumerable:!0,get:function(){return $.IdentitySerializers}}),Object.defineProperty(f,"JsonSerializer",{enumerable:!0,get:function(){return $.JsonSerializer}}),Object.defineProperty(f,"JsonSerializers",{enumerable:!0,get:function(){return $.JsonSerializers}}),Object.defineProperty(f,"Leases",{enumerable:!0,get:function(){return Y.Leases}}),Object.defineProperty(f,"Lease",{enumerable:!0,get:function(){return Y.Lease}}),Object.defineProperty(f,"CompositeMetadata",{enumerable:!0,get:function(){return M.CompositeMetadata}}),Object.defineProperty(f,"ReservedMimeTypeEntry",{enumerable:!0,get:function(){return M.ReservedMimeTypeEntry}}),Object.defineProperty(f,"WellKnownMimeTypeEntry",{enumerable:!0,get:function(){return M.WellKnownMimeTypeEntry}}),Object.defineProperty(f,"ExplicitMimeTimeEntry",{enumerable:!0,get:function(){return M.ExplicitMimeTimeEntry}}),Object.defineProperty(f,"encodeAndAddCustomMetadata",{enumerable:!0,get:function(){return M.encodeAndAddCustomMetadata}}),Object.defineProperty(f,"encodeAndAddWellKnownMetadata",{enumerable:!0,get:function(){return M.encodeAndAddWellKnownMetadata}}),Object.defineProperty(f,"encodeCompositeMetadata",{enumerable:!0,get:function(){return M.encodeCompositeMetadata}}),Object.defineProperty(f,"decodeCompositeMetadata",{enumerable:!0,get:function(){return M.decodeCompositeMetadata}}),Object.defineProperty(f,"RoutingMetadata",{enumerable:!0,get:function(){return C.RoutingMetadata}}),Object.defineProperty(f,"encodeRoute",{enumerable:!0,get:function(){return C.encodeRoute}}),Object.defineProperty(f,"encodeRoutes",{enumerable:!0,get:function(){return C.encodeRoutes}}),Object.defineProperty(f,"decodeRoutes",{enumerable:!0,get:function(){return C.decodeRoutes}}),Object.defineProperty(f,"encodeSimpleAuthMetadata",{enumerable:!0,get:function(){return O.encodeSimpleAuthMetadata}}),Object.defineProperty(f,"encodeBearerAuthMetadata",{enumerable:!0,get:function(){return O.encodeBearerAuthMetadata}}),Object.defineProperty(f,"encodeWellKnownAuthMetadata",{enumerable:!0,get:function(){return O.encodeWellKnownAuthMetadata}}),Object.defineProperty(f,"encodeCustomAuthMetadata",{enumerable:!0,get:function(){return O.encodeCustomAuthMetadata}}),Object.defineProperty(f,"decodeSimpleAuthPayload",{enumerable:!0,get:function(){return O.decodeSimpleAuthPayload}}),Object.defineProperty(f,"decodeAuthMetadata",{enumerable:!0,get:function(){return O.decodeAuthMetadata}});var N=x(T(937)),m=x(T(754)),k=x(T(333)),w=B(T(296)),Z=B(T(8)),I=T(511),b=T(446),F=T(297),R=T(830),$=T(377),Y=T(438),M=T(856),C=T(41),O=T(849);function E(){if("function"!=typeof WeakMap)return null;var W=new WeakMap;return E=function(){return W},W}function B(W){if(W&&W.__esModule)return W;if(null===W||"object"!=typeof W&&"function"!=typeof W)return{default:W};var ee=E();if(ee&&ee.has(W))return ee.get(W);var ae={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in W)if(Object.prototype.hasOwnProperty.call(W,S)){var G=P?Object.getOwnPropertyDescriptor(W,S):null;G&&(G.get||G.set)?Object.defineProperty(ae,S,G):ae[S]=W[S]}return ae.default=W,ee&&ee.set(W,ae),ae}function x(W){return W&&W.__esModule?W:{default:W}}},478:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var N=w(T(663)),m=w(T(123)),k=w(T(593));function w(F){return F&&F.__esModule?F:{default:F}}function Z(F,R,$){return R in F?Object.defineProperty(F,R,{value:$,enumerable:!0,configurable:!0,writable:!0}):F[R]=$,F}class I{static just(...R){return new I($=>{let Y=!1,M=0;$.onSubscribe({cancel:()=>{Y=!0},request:C=>{for(;!Y&&C>0&&M<R.length;)$.onNext(R[M++]),C--;!Y&&M==R.length&&$.onComplete()}})})}static error(R){return new I($=>{$.onSubscribe({cancel:()=>{},request:()=>{$.onError(R)}})})}static never(){return new I(R=>{R.onSubscribe({cancel:()=>{},request:()=>{}})})}constructor(R,$=Number.MAX_SAFE_INTEGER){this._max=$,this._source=R}subscribe(R){let $;$="function"==typeof R?this._wrapCallback(R):R;const Y=new b($,this._max);this._source(Y)}lift(R){return new I($=>this._source(R($)))}map(R){return this.lift($=>new N.default($,R))}take(R){return this.lift($=>new m.default($,R))}_wrapCallback(R){const $=this._max;return{onNext:R,onSubscribe(Y){Y.request($)}}}}f.default=I;class b{constructor(R,$){Z(this,"_cancel",()=>{!this._active||(this._active=!1,this._subscription&&this._subscription.cancel())}),Z(this,"_request",Y=>{(0,k.default)(Number.isInteger(Y)&&Y>=1&&Y<=this._max,"Flowable: Expected request value to be an integer with a value greater than 0 and less than or equal to %s, got `%s`.",this._max,Y),this._active&&(Y===this._max?this._pending=this._max:(this._pending+=Y,this._pending>=this._max&&(this._pending=this._max)),this._subscription&&this._subscription.request(Y))}),this._active=!1,this._max=$,this._pending=0,this._started=!1,this._subscriber=R||{},this._subscription=null}onComplete(){if(this._active){this._active=!1,this._started=!0;try{this._subscriber.onComplete&&this._subscriber.onComplete()}catch(R){this._subscriber.onError&&this._subscriber.onError(R)}}else console.warn("Flowable: Invalid call to onComplete(): %s.",this._started?"onComplete/onError was already called":"onSubscribe has not been called")}onError(R){!this._started||this._active?(this._active=!1,this._started=!0,this._subscriber.onError&&this._subscriber.onError(R)):console.warn("Flowable: Invalid call to onError(): %s.",this._active?"onComplete/onError was already called":"onSubscribe has not been called")}onNext(R){if(this._active)if(0!==this._pending){this._pending!==this._max&&this._pending--;try{this._subscriber.onNext&&this._subscriber.onNext(R)}catch($){this._subscription&&this._subscription.cancel(),this.onError($)}}else console.warn("Flowable: Invalid call to onNext(), all request()ed values have been published.");else console.warn("Flowable: Invalid call to onNext(): %s.",this._active?"onComplete/onError was already called":"onSubscribe has not been called")}onSubscribe(R){if(this._started)console.warn("Flowable: Invalid call to onSubscribe(): already called.");else{this._active=!0,this._started=!0,this._subscription=R;try{this._subscriber.onSubscribe&&this._subscriber.onSubscribe({cancel:this._cancel,request:this._request})}catch($){this.onError($)}}}}},663:(Be,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,f.default=class T{constructor(m,k){this._fn=k,this._subscriber=m,this._subscription=null}onComplete(){this._subscriber.onComplete()}onError(m){this._subscriber.onError(m)}onNext(m){try{this._subscriber.onNext(this._fn(m))}catch(k){if(!this._subscription)throw new Error("subscription is null");this._subscription.cancel(),this._subscriber.onError(k)}}onSubscribe(m){this._subscription=m,this._subscriber.onSubscribe(m)}}},881:(Be,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,f.default=class T{constructor(m,k){this._source=m,this._transformer=k,this._done=!1,this._mappers=[]}onSubscribe(m){this._subscription=m}onNext(m){if(!this._sink)return void console.warn("premature onNext for processor, dropping value");let k=m;this._transformer&&(k=this._transformer(m));const w=this._mappers.reduce((Z,I)=>I(Z),k);this._sink.onNext(w)}onError(m){this._error=m,this._sink?this._sink.onError(m):console.warn("premature onError for processor, marking complete/errored")}onComplete(){this._done=!0,this._sink?this._sink.onComplete():console.warn("premature onError for processor, marking complete")}subscribe(m){this._source.subscribe&&this._source.subscribe(this),this._sink=m,this._sink.onSubscribe(this),this._error?this._sink.onError(this._error):this._done&&this._sink.onComplete()}map(m){return this._mappers.push(m),this}request(m){this._subscription&&this._subscription.request(m)}cancel(){this._subscription&&this._subscription.cancel()}}},123:(Be,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,f.default=class T{constructor(m,k){this._subscriber=m,this._subscription=null,this._toTake=k}onComplete(){this._subscriber.onComplete()}onError(m){this._subscriber.onError(m)}onNext(m){try{this._subscriber.onNext(m),0==--this._toTake&&this._cancelAndComplete()}catch(k){if(!this._subscription)throw new Error("subscription is null");this._subscription.cancel(),this._subscriber.onError(k)}}onSubscribe(m){this._subscription=m,this._subscriber.onSubscribe(m),this._toTake<=0&&this._cancelAndComplete()}_cancelAndComplete(){if(!this._subscription)throw new Error("subscription is null");this._subscription.cancel(),this._subscriber.onComplete()}}},907:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.every=function k(w){return new N.default(Z=>{let I=null,b=0;Z.onSubscribe({cancel:()=>{null!=I&&(clearInterval(I),I=null)},request:F=>{F<Number.MAX_SAFE_INTEGER?b+=F:b=Number.MAX_SAFE_INTEGER,null==I&&(I=setInterval(()=>{b>0&&(b!==Number.MAX_SAFE_INTEGER&&b--,Z.onNext(Date.now()))},w))}})})};var N=function m(w){return w&&w.__esModule?w:{default:w}}(T(478))},593:Be=>{"use strict";Be.exports=function f(T,N,...m){if(!T){let k;if(void 0===N)k=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let w=0;k=new Error(N.replace(/%s/g,()=>String(m[w++]))),k.name="Invariant Violation"}throw k.framesToPop=1,k}}},61:(Be,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;class T{static of(k){return new T(w=>{w.onSubscribe(),w.onComplete(k)})}static error(k){return new T(w=>{w.onSubscribe(),w.onError(k)})}static never(){return new T(k=>{k.onSubscribe()})}constructor(k){this._source=k}subscribe(k){const w=new N(k);try{this._source(w)}catch(Z){w.onError(Z)}}flatMap(k){return new T(w=>{let Z;const I=()=>{Z&&Z(),Z=null};this._source({onComplete:b=>{k(b).subscribe({onComplete:F=>{w.onComplete(F)},onError:F=>w.onError(F),onSubscribe:F=>{Z=F}})},onError:b=>w.onError(b),onSubscribe:b=>{Z=b,w.onSubscribe(I)}})})}map(k){return new T(w=>this._source({onComplete:Z=>w.onComplete(k(Z)),onError:Z=>w.onError(Z),onSubscribe:Z=>w.onSubscribe(Z)}))}then(k,w){this.subscribe({onComplete:k||(()=>{}),onError:w||(()=>{})})}}f.default=T;class N{constructor(k){this._active=!1,this._started=!1,this._subscriber=k||{}}onComplete(k){if(this._active){this._active=!1,this._started=!0;try{this._subscriber.onComplete&&this._subscriber.onComplete(k)}catch(w){this._subscriber.onError&&this._subscriber.onError(w)}}else console.warn("Single: Invalid call to onComplete(): %s.",this._started?"onComplete/onError was already called":"onSubscribe has not been called")}onError(k){!this._started||this._active?(this._active=!1,this._started=!0,this._subscriber.onError&&this._subscriber.onError(k)):console.warn("Single: Invalid call to onError(): %s.",this._active?"onComplete/onError was already called":"onSubscribe has not been called")}onSubscribe(k){if(this._started)console.warn("Single: Invalid call to onSubscribe(): already called.");else{this._active=!0,this._started=!0;try{this._subscriber.onSubscribe&&this._subscriber.onSubscribe(()=>{!this._active||(this._active=!1,k&&k())})}catch(w){this.onError(w)}}}}},962:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"Flowable",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(f,"Single",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(f,"FlowableProcessor",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(f,"every",{enumerable:!0,get:function(){return w.every}});var N=Z(T(478)),m=Z(T(61)),k=Z(T(881)),w=T(907);function Z(I){return I&&I.__esModule?I:{default:I}}},466:(Be,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.CONNECTION_STATUS=void 0;const T={CLOSED:Object.freeze({kind:"CLOSED"}),CONNECTED:Object.freeze({kind:"CONNECTED"}),CONNECTING:Object.freeze({kind:"CONNECTING"}),NOT_CONNECTED:Object.freeze({kind:"NOT_CONNECTED"})};f.CONNECTION_STATUS=T},74:()=>{},738:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var N=T(466);Object.keys(N).forEach(function(k){"default"===k||"__esModule"===k||k in f&&f[k]===N[k]||Object.defineProperty(f,k,{enumerable:!0,get:function(){return N[k]}})});var m=T(74);Object.keys(m).forEach(function(k){"default"===k||"__esModule"===k||k in f&&f[k]===m[k]||Object.defineProperty(f,k,{enumerable:!0,get:function(){return m[k]}})})},10:(Be,f,T)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var N=T(962),m=T(407),k=T(738);function w(I,b,F){return b in I?Object.defineProperty(I,b,{value:F,enumerable:!0,configurable:!0,writable:!0}):I[b]=F,I}f.default=class Z{constructor(b,F){w(this,"_handleClosed",R=>{this._close(new Error(R.reason||"RSocketWebSocketClient: Socket closed unexpectedly."))}),w(this,"_handleError",R=>{this._close(R.error)}),w(this,"_handleOpened",()=>{this._setConnectionStatus(k.CONNECTION_STATUS.CONNECTED)}),w(this,"_handleMessage",R=>{try{const $=this._readFrame(R);this._receivers.forEach(Y=>Y.onNext($))}catch($){this._close($)}}),this._encoders=F,this._options=b,this._receivers=new Set,this._senders=new Set,this._socket=null,this._status=k.CONNECTION_STATUS.NOT_CONNECTED,this._statusSubscribers=new Set}close(){this._close()}connect(){if("NOT_CONNECTED"!==this._status.kind)throw new Error("RSocketWebSocketClient: Cannot connect(), a connection is already established.");this._setConnectionStatus(k.CONNECTION_STATUS.CONNECTING);const b=this._options.wsCreator,F=this._options.url;this._socket=b?b(F):new WebSocket(F);const R=this._socket;R.binaryType="arraybuffer",R.addEventListener("close",this._handleClosed),R.addEventListener("error",this._handleError),R.addEventListener("open",this._handleOpened),R.addEventListener("message",this._handleMessage)}connectionStatus(){return new N.Flowable(b=>{b.onSubscribe({cancel:()=>{this._statusSubscribers.delete(b)},request:()=>{this._statusSubscribers.add(b),b.onNext(this._status)}})})}receive(){return new N.Flowable(b=>{b.onSubscribe({cancel:()=>{this._receivers.delete(b)},request:()=>{this._receivers.add(b)}})})}sendOne(b){this._writeFrame(b)}send(b){let F;b.subscribe({onComplete:()=>{F&&this._senders.delete(F)},onError:R=>{F&&this._senders.delete(F),this._close(R)},onNext:R=>this._writeFrame(R),onSubscribe:R=>{F=R,this._senders.add(F),F.request(Number.MAX_SAFE_INTEGER)}})}_close(b){if("CLOSED"===this._status.kind||"ERROR"===this._status.kind)return;this._setConnectionStatus(b?{error:b,kind:"ERROR"}:k.CONNECTION_STATUS.CLOSED),this._receivers.forEach($=>{b?$.onError(b):$.onComplete()}),this._receivers.clear(),this._senders.forEach($=>$.cancel()),this._senders.clear();const R=this._socket;R&&(R.removeEventListener("close",this._handleClosed),R.removeEventListener("error",this._handleError),R.removeEventListener("open",this._handleOpened),R.removeEventListener("message",this._handleMessage),R.close(),this._socket=null)}_setConnectionStatus(b){this._status=b,this._statusSubscribers.forEach(F=>F.onNext(b))}_readFrame(b){const F=(0,m.toBuffer)(b.data);return this._options.lengthPrefixedFrames?(0,m.deserializeFrameWithLength)(F,this._encoders):(0,m.deserializeFrame)(F,this._encoders)}_writeFrame(b){try{const F=this._options.lengthPrefixedFrames?(0,m.serializeFrameWithLength)(b,this._encoders):(0,m.serializeFrame)(b,this._encoders);if(!this._socket)throw new Error("RSocketWebSocketClient: Cannot send frame, not connected.");this._socket.send(F)}catch(F){this._close(F)}}}},674:(Be,f,T)=>{"use strict";f.Z=void 0;var m=function k(Z){return Z&&Z.__esModule?Z:{default:Z}}(T(10));f.Z=m.default}},Be=>{Be(Be.s=444)}]);